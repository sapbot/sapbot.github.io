!function(){var e={5:function(e,t,a){var n={"./captchaComponent.js":533};function r(e){return e=o(e),a(e)}function o(e){if(a.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(n)},r.resolve=o,(e.exports=r).id=5},37:function(e,t,a){var n={"./captchaV2Constants.js":731};function r(e){return e=o(e),a(e)}function o(e){if(a.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(n)},r.resolve=o,(e.exports=r).id=37},354:function(e,t,a){var n={"./captchaV2Controller.js":72};function r(e){return e=o(e),a(e)}function o(e){if(a.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(n)},r.resolve=o,(e.exports=r).id=354},772:function(e,t,a){var n={"./captchaV2Service.js":803,"./funCaptchaService.js":630};function r(e){return e=o(e),a(e)}function o(e){if(a.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(n)},r.resolve=o,(e.exports=r).id=772},111:function(e,t,a){var n={"./captchaIdValue.js":607};function r(e){return e=o(e),a(e)}function o(e){if(a.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(n)},r.resolve=o,(e.exports=r).id=111},871:function(e,t,a){var n={"./components/templates/captcha.html":704};function r(e){return e=o(e),a(e)}function o(e){if(a.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(n)},r.resolve=o,(e.exports=r).id=871},726:function(e){function t(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a(e){return e.split("/").pop().replace(".html","")}var n={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,n,r,o){return e.module(n,[]).run(["$templateCache",function(e){r&&r.keys().forEach((function(n){var o=t(a(n));e.put(o,r(n))})),o&&o.keys().forEach((function(n){var r=t(a(n));e.put(r,o(n).replace(/<\/?script[^>]*>/gi,""))}))}])}};e.exports=n},809:function(e,t,a){"use strict";var n=a(734);n=a.n(n)().module("captchaV2",["captchaV2Templates"]);t.Z=n},533:function(e,t,a){"use strict";a.r(t);var n={templateUrl:"captcha",bindings:{activated:"=",captchaActionType:"<",extraValidationParams:"<",returnTokenInSuccessCb:"<",inputParams:"<",captchaPassed:"&",captchaFailed:"&",captchaDismissed:"&?"},controller:"captchaV2Controller"};a(809).Z.component("captcha",n),t.default=n},731:function(e,t,a){"use strict";a.r(t);var n=a(792);a=a(809),n={urls:{getMetadata:n.EnvironmentUrls.apiGatewayCdnUrl+"/captcha/v1/metadata",funCaptchaRedeem:{WebSignup:n.EnvironmentUrls.captchaApi+"/v1/funcaptcha/signup/web",AppSignup:n.EnvironmentUrls.captchaApi+"/v1/funcaptcha/signup/app",WebLogin:n.EnvironmentUrls.captchaApi+"/v1/funcaptcha/login/web",AppLogin:n.EnvironmentUrls.captchaApi+"/v1/funcaptcha/login/app",WebResetPassword:n.EnvironmentUrls.captchaApi+"/v1/funcaptcha/resetpassword/web",UserAction:n.EnvironmentUrls.captchaApi+"/v1/funcaptcha/user",WebGamecardRedemption:n.EnvironmentUrls.captchaApi+"/v1/funcaptcha/gamecardredemption/web"}},captchaActionTypes:{login:"login",appLogin:"appLogin",signup:"signup",appSignup:"appSignup",groupJoin:"groupJoin",groupWallPost:"groupWallPost",resetPassword:"resetPassword",toyCodeRedeem:"toyCodeRedeem",supportRequest:"supportRequest",followUser:"followUser"},funCaptchaCaptchaTypes:{login:"Login",appLogin:"AppLogin",signup:"Signup",appSignup:"AppSignup",groupJoin:"JoinGroup",groupWallPost:"GroupWallPost",resetPassword:"ResetPassword",toyCodeRedeem:"ToyCodeRedeem",supportRequest:"SupportRequest",followUser:"FollowUser"},funCaptchaPublicKeyMap:{Login:"ACTION_TYPE_WEB_LOGIN",AppLogin:"ACTION_TYPE_WEB_LOGIN",Signup:"ACTION_TYPE_WEB_SIGNUP",AppSignup:"ACTION_TYPE_WEB_SIGNUP",JoinGroup:"ACTION_TYPE_GROUP_JOIN",GroupWallPost:"ACTION_TYPE_GROUP_WALL_POST",ResetPassword:"ACTION_TYPE_WEB_RESET_PASSWORD",ToyCodeRedeem:"ACTION_TYPE_WEB_GAMECARD_REDEMPTION",SupportRequest:"ACTION_TYPE_SUPPORT_REQUEST",FollowUser:"ACTION_TYPE_FOLLOW_USER"},funCaptchaEvents:{resolve:"resolve",reject:"reject",shown:"shown"},captchaProviders:{arkoseLabs:"PROVIDER_ARKOSE_LABS"},errorCodes:{internal:{unknown:0,missingPrivateKey:1,missingActionType:2,failedToLoadProviderScript:3,failedToVerify:4}}};a.Z.constant("captchaV2Constants",n),t.default=n},72:function(e,t,a){"use strict";function n(e,t,a,n){var r=this,o=!1,i=!1;r.id=null,r.captchaEnded=function(){r.activated=!1,r.shown=!1,o=!1},r.captchaShown=function(){r.shown=!0,n.$apply()},r.hideCaptcha=function(){r.activated=!1,r.captchaDismissed&&r.captchaDismissed()()},r.getCaptchaClasses=function(){return{"captcha-activated":r.shown&&r.activated}},r.$onInit=function(){var n,i;null===r.id&&(r.id=e.getCaptchaId()),r.activated&&!o&&(i=(n=(o=!0)===r.returnTokenInSuccessCb)?function(e){var a,n;r.activated&&(a="",e.constructor===String?n=e:(n=e.token,a=e.unifiedCaptchaId),n={captchaId:a,captchaToken:n,captchaProvider:t.captchaProviders.arkoseLabs},r.captchaPassed()(n)),r.captchaEnded()}:function(){r.activated&&r.captchaPassed()(),r.captchaEnded()},a.render(r.id,r.captchaActionType,r.captchaShown,n,r.inputParams,r.extraValidationParams).then(i,(function(e){r.activated&&r.captchaFailed()(e),r.captchaEnded()})))},r.$doCheck=function(){i!==r.activated&&(i=r.activated,r.$onInit())}.bind(r)}a.r(t),a=a(809),n.$inject=["captchaV2Service","captchaV2Constants","funCaptchaService","$scope"],a.Z.controller("captchaV2Controller",n),t.default=n},803:function(e,t,a){"use strict";function n(e,t,a,n){var r=null;return{getMetadata:function(){return e((function(e,n){var o;r?e(r):(o={url:a.urls.getMetadata},t.httpGet(o).then((function(t){e(r=t)}),n))}))},getCaptchaId:function(){return++n.id,"captchaV2-"+n.id}}}a.r(t),a=a(809),n.$inject=["$q","httpService","captchaV2Constants","captchaIdCounter"],a.Z.factory("captchaV2Service",n),t.default=n},630:function(e,t,a){"use strict";a.r(t);var n=a(870),r=a(170);a=a(809);function o(e,t,a,o,i){function c(e,t,a){u.hasOwnProperty(e)&&u[e].forEach((function(e){e.name===t&&e.handle(a)}))}function s(e,t,a){a&&(u[e]=u[e]||[],u[e].push({name:t,handle:a}))}function p(e){u[e]=[]}var u={};return i.getMetadata().then((function(e){var a,n=e.funCaptchaPublicKeys,i=[];for(a in o.funCaptchaPublicKeyMap){if(!o.funCaptchaPublicKeyMap.hasOwnProperty(a))return;var c=o.funCaptchaPublicKeyMap[a];c&&n.hasOwnProperty(c)?i.push({Type:a,ApiUrl:o.urls.funCaptchaRedeem[c],PublicKey:n[c]}):t.warn("Missing public key for: ".concat(a,"\n\tpublicKeyType: ").concat(c))}t.debug("Add captcha types from new webapp:",i),r.Z.addCaptchaTypes(i,!1)}),(function(){t.debug("Failed to load captcha metadata for funCaptchaService. FunCaptcha will not work properly.")})),{render:function(a,i,u,d,l,f){return e((function(e,h){var v=o.funCaptchaCaptchaTypes[i],g="\n\telementId: ".concat(a,"\n\tcaptchaActionType: ").concat(i,"\n\tfunCaptchaType: ").concat(v);if(t.debug("Render captcha".concat(g)),!v)return t.warn("Missing funCaptchaType for ".concat(i)),void h(o.errorCodes.internal.missingActionType);s(v,o.funCaptchaEvents.resolve,e),s(v,o.funCaptchaEvents.reject,h),s(v,o.funCaptchaEvents.shown,u),h=d?function(e,a){g+="\ntoken: ".concat(e),t.debug("Passed captcha".concat(g)),c(v,o.funCaptchaEvents.resolve,null===a||""===a?e:{token:e,unifiedCaptchaId:a}),p(v)}:function(){t.debug("Passed captcha".concat(g)),c(v,o.funCaptchaEvents.resolve),p(v)},r.Z.render(a,{cType:v,inputParams:l,returnTokenInSuccessCb:d,successCb:h,shownCb:function(){t.debug("Captcha shown".concat(g)),c(v,o.funCaptchaEvents.shown)},errorCb:function(e,a){a?t.error("Failed captcha (".concat(e,":) ").concat(a).concat(g)):t.debug("Failed captcha (".concat(e,")").concat(g)),e=function(e){switch(e){case n.Z.errorCodes.failedToLoadProviderScript:return o.errorCodes.internal.failedToLoadProviderScript;case n.Z.errorCodes.failedToVerify:return o.errorCodes.internal.failedToVerify;default:return o.errorCodes.internal.unknown}}(e),c(v,o.funCaptchaEvents.reject,e),p(v)},extraValidationParams:f||{}})}))}}}o.$inject=["$q","$log","$window","captchaV2Constants","captchaV2Service"],a.Z.factory("funCaptchaService",o),t.default=o},607:function(e,t,a){"use strict";a.r(t),a(809).Z.value("captchaIdCounter",{id:0})},770:function(e,t,a){"use strict";a.d(t,{UG:function(){return R},K3:function(){return E.Z},r8:function(){return k.Z},$3:function(){return T.Z},Xs:function(){return b}});t=a(609);var n,r,o,i,c,s,p,u,d,l,f,h,v,g,C=a.n(t),m=a(792),T=a(170),E=a(870),y=(r=!(n={shownCb:function(){var e;r||(m.Hybrid&&m.Hybrid.Navigation&&m.Hybrid.Navigation.navigateToFeature({feature:E.Z.hybridEvents.shown}),null!==(e=document.getElementById(E.Z.eventElementIds.shown))&&(e.value=E.Z.hybridEvents.shown,e.dispatchEvent(o)),r=!0)},successCb:function(e,t){var a=null;null!=e&&""!=e&&(a={captchaId:t,captchaToken:e,captchaProvider:E.Z.captchaProviders.arkoseLabs}),m.Hybrid&&m.Hybrid.Navigation&&(null!==a?m.Hybrid.Navigation.navigateToFeature({feature:E.Z.hybridEvents.success,captchaData:a}):m.Hybrid.Navigation.navigateToFeature({feature:E.Z.hybridEvents.success})),null!=(e=document.getElementById(E.Z.eventElementIds.token))&&(null!==a&&(e.value=JSON.stringify(a)),e.dispatchEvent(o))},errorCb:w,returnTokenInSuccessCb:!1,inputParams:{dataExchange:"",unifiedCaptchaId:""},extraValidationParams:{}}),(t=document.createEvent("HTMLEvents")).initEvent("change",!1,!1),o=t,i=null,new Promise((function(e,t){i&&e(i),C().ajax({method:"GET",url:E.Z.urls.getMetadata,success:function(t){e(i=t)},error:function(e){t(e)}})})).then((function(e){var t,a=e.funCaptchaPublicKeys,n=[];for(t in E.Z.funCaptchaPublicKeyMap){if(!E.Z.funCaptchaPublicKeyMap.hasOwnProperty(t))return;var r=E.Z.funCaptchaPublicKeyMap[t];r&&a.hasOwnProperty(r)?n.push({Type:S(t),ApiUrl:E.Z.urls.funCaptchaRedeem[r],PublicKey:a[r]}):console.warn("Missing public key for: ".concat(t,"\n\tpublicKeyType: ").concat(r))}console.debug("Add captcha types from new app:",n),T.Z.addCaptchaTypes(n,!1)}),(function(e){console.debug("Failed to load captcha metadata for funCaptchaService. FunCaptcha will not work properly.")})),{triggerCaptcha:function(){var e,t;T.Z?(m.UrlParser&&(e=m.UrlParser.getParameterValueByName("credentialstype",!1),t=m.UrlParser.getParameterValueByName("credentialsvalue",!1),null!==e&&null!==t&&(n.extraValidationParams.credentialsType=e,n.extraValidationParams.credentialsValue=t),n.returnTokenInSuccessCb="1"===m.UrlParser.getParameterValueByName("hybrid-return-token",!1),null!==(t=m.UrlParser.getParameterValueByName("data-exchange-blob",!1))&&(n.inputParams.dataExchange=t),null!==(t=m.UrlParser.getParameterValueByName("hybrid-return-captcha-id",!1))&&(n.inputParams.unifiedCaptchaId=t)),T.Z.render(E.Z.ids.appCaptcha,n)):w()},setCaptchaType:function(e){n.cType=S(e)},displayErrorMessage:w,fetchLanguageResources:function(e){C().ajax({method:"GET",url:e,dataType:"json",data:E.Z.translationRequestParams,success:function(e){C()("#".concat(E.Z.messageElementIds.defaultError)).text(e["Response.CaptchaErrorFailedToVerify"])}})},captchaParams:n});function w(){C()("#".concat(E.Z.messageElementIds.defaultError)).show()}function S(e){return e.charAt(0).toLowerCase()+e.slice(1)}function b(){y.triggerCaptcha()}function P(e){return e.charAt(0).toUpperCase()+e.slice(1)}function _(){return(new Date).valueOf()}function x(e){"function"==typeof f&&f();var t,a=null;p&&(t=function(e){for(var t=g.captchaSolvedPrefix,a=g.captchaSolveTimeIntervals,n=0;n<a.length;n++){var r=a[n];if(e<=1e3*r.seconds)return t+r.suffix}return t+g.captchaSolveTimeLarge}(t=a=_()-p),window.EventTracker&&window.EventTracker.fireEvent(P(u+t)),p=null),O(u,e,a)}function I(e,t,a){m.EventStream&&(t=t||0,a=a?"true":"false",m.EventStream.SendEventWithTarget("captcha",e,{solveDuration:t,success:a,provider:"Google"},m.EventStream.TargetTypes.WWW))}function O(e,t,a){t={"g-Recaptcha-Response":t,isInvisible:v.invisible},C().ajax({method:"POST",data:t,success:function(){window.EventTracker&&window.EventTracker.fireEvent(P(e+g.successSuffix)),I(e,a,!0),d&&(d(),C()("#"+c).empty())},error:function(){window.EventTracker&&window.EventTracker.fireEvent(P(e+g.failSuffix)),I(e,a,!1),l&&l(),m.BootstrapWidgets&&m.BootstrapWidgets.ToggleSystemMessage(C()(".alert-warning"),100,2e3,E.Z.messages.error)},url:h[e]})}var R=(h=E.Z.endpoints,v={invisible:!1},g=E.Z.serviceData,{ids:E.Z.ids,types:E.Z.types,setEndpoint:function(e,t){h[e]=t},getEndpoint:function(e){return h[e]},setInvisibleMode:function(e){v.invisible=e},getInvisibleMode:function(){return v.invisible},setSiteKey:function(e){g.sitekey=e},verify:O,reset:function(e,t,a,n){u=e,d=t,l=a,f=n,window.grecaptcha&&(window.grecaptcha.reset(s),v.invisible&&window.grecaptcha.execute(s))},render:function(e,t,a,n,r){u=t,d=a,l=n,f=r,c=e,window.grecaptcha&&(r={sitekey:g.sitekey,callback:x,badge:g.badgePosition},v.invisible&&(r.size="invisible"),s=window.grecaptcha.render(e,r),window.EventTracker&&window.EventTracker.fireEvent(P(u+g.displayedSuffix)),p=_())},execute:function(){window.grecaptcha&&v.invisible&&window.grecaptcha.execute(s)},setMultipleEndpoints:function(e,t){if(e&&t)for(var a=0;a<e.length;a++){var n=(n=e[a]).charAt(0).toLowerCase()+n.slice(1);h[n]=t}}}),k=a(506);window.Roblox.triggerCaptcha=b,window.Roblox.Captcha=R,window.Roblox.AppCaptcha=y,window.Roblox.CaptchaLogger=k.Z,window.Roblox.FunCaptcha=T.Z,window.Roblox.CaptchaV2ServiceCaptchaIdBase=0,window.Roblox.CaptchaConstants=E.Z,window.triggerCaptcha=b},870:function(e,t,a){"use strict";var n=a(792);Roblox.EnvironmentUrls=Roblox.EnvironmentUrls||{},n={urls:{getMetadata:"".concat(n.EnvironmentUrls.apiGatewayCdnUrl,"/captcha/v1/metadata"),funCaptchaRedeem:{WebSignup:"".concat(n.EnvironmentUrls.captchaApi,"/v1/funcaptcha/signup/web"),AppSignup:"".concat(n.EnvironmentUrls.captchaApi,"/v1/funcaptcha/signup/app"),WebLogin:"".concat(n.EnvironmentUrls.captchaApi,"/v1/funcaptcha/login/web"),AppLogin:"".concat(n.EnvironmentUrls.captchaApi,"/v1/funcaptcha/login/app"),WebResetPassword:"".concat(n.EnvironmentUrls.captchaApi,"/v1/funcaptcha/resetpassword/web"),UserAction:"".concat(n.EnvironmentUrls.captchaApi,"/v1/funcaptcha/user"),WebGamecardRedemption:"".concat(n.EnvironmentUrls.captchaApi,"/v1/funcaptcha/gamecardredemption/web")}},funCaptchaPublicKeyMap:{Login:"ACTION_TYPE_WEB_LOGIN",AppLogin:"ACTION_TYPE_WEB_LOGIN",Signup:"ACTION_TYPE_WEB_SIGNUP",AppSignup:"ACTION_TYPE_WEB_SIGNUP",JoinGroup:"ACTION_TYPE_GROUP_JOIN",GroupWallPost:"ACTION_TYPE_GROUP_WALL_POST",ResetPassword:"ACTION_TYPE_WEB_RESET_PASSWORD",ToyCodeRedeem:"ACTION_TYPE_WEB_GAMECARD_REDEMPTION",SupportRequest:"ACTION_TYPE_SUPPORT_REQUEST",FollowUser:"ACTION_TYPE_FOLLOW_USER"},endpoints:{sendMessage:"",addFriend:"",follow:"",signup:"",joinGroup:"",login:"",postComment:"",clothingUpload:"",favorite:"",appSignup:"",appLogin:"",resetPassword:""},serviceData:{sitekey:"",successSuffix:"Captcha_Success",failSuffix:"Captcha_Failed",displayedSuffix:"Captcha_Displayed",captchaSolvedPrefix:"Captcha_User_Solved_InSeconds_",captchaSolveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],captchaSolveTimeLarge:"Greater_Than_50",badgePosition:"bottomright",logConstants:{successSuffix:"_Success",failSuffix:"_Failed",maxFailSuffix:"_MaxFailed",retrySuffix:"_Retried",displayedSuffix:"_Displayed",triggeredSuffix:"_Triggered",initializedSuffix:"_Initialized",suppressedSuffix:"_Suppressed",providerErrorSuffix:"_FailedToLoad",metadataErrorSuffix:"_FailedToLoadMetadata",completedTimeSequenceSuffix:"_SolveTime",solvedPrefix:"_User_Solved_InSeconds_",solveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],solveTimeLarge:"Greater_Than_50",eventStreamCaptchaEventName:"captcha",eventStreamCaptchaInitiatedEventName:"captchaInitiated",eventStreamCaptchaTokenReceivedEventName:"captchaTokenReceived",captchaInitiatedChallengeTypes:{visible:"visible",hidden:"hidden",error:"error"}}},types:{signup:"signup",sendMessage:"sendMessage",addFriend:"addFriend",follow:"follow",joinGroup:"joinGroup",login:"login",postComment:"postComment",clothingUpload:"clothingUpload",favorite:"favorite",appSignup:"appSignup",appLogin:"appLogin",gameCardRedeem:"gameCardRedeem",resetPassword:"resetPassword"},ids:{defaultCaptcha:"captcha-container",signup:"signup-captcha",login:"login-captcha",friends:"friends-captcha",groups:"groups-captcha",profile:"profile-captcha",playerSearch:"player-search-captcha",appCaptcha:"app-captcha",gameCardRedeem:"game-card-redeem-captcha",resetPassword:"reset-password-captcha"},messageElementIds:{defaultError:"captcha-error"},eventElementIds:{shown:"captcha-event-shown",token:"captcha-event-token",provider:"captcha-event-provider"},hybridEvents:{shown:"CaptchaShown",success:"CaptchaSuccess"},messages:{error:"We currently cannot verify CAPTCHA, please try again later.",funCaptchaError:"We currently cannot verify FunCaptcha, please try again later."},translationRequestParams:{consumerType:"Web",contentNamespace:"Common.Captcha",Keys:["Response.CaptchaErrorFailedToVerify"]},errorCodes:{failedToLoadProviderScript:0,failedToVerify:1},localeToFunCaptchaLanguageCodeMap:{"de-de":"de","en-us":"en","es-es":"es","fr-fr":"fr","pt-br":"pt-br","ko-kr":"ko","zh-cn":"zh","zh-tw":"zh-tw","ja-jp":"ja"},appTypes:{android:"android",ios:"ios",xbox:"xbox",uwp:"uwp","studio-windows":"studio-windows","studio-mac":"studio-mac","studio-luobu-windows":"studio-luobu-windows","studio-luobu-mac":"studio-luobu-mac",unknown:"unknown"},captchaProviders:{arkoseLabs:"PROVIDER_ARKOSE_LABS"}},t.Z=n},506:function(e,t,a){"use strict";var n=a(609),r=a.n(n),o=a(792),i=a(870);t.Z=function(e){var t,a=i.Z,n=r().extend({},a.serviceData).logConstants,c=!1;function s(e){return c&&void 0!==t?"".concat(e,"_").concat(t):e}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}this.provider=e,this.setPerAppTypeLoggingEnabled=function(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,i=null;void 0===r?(o.UrlParser&&(n=o.UrlParser.getParameterValueByName("appType"),a&&a.appTypes&&a.appTypes.hasOwnProperty(n)&&(i=n)),null==i&&o.DeviceMeta&&(0,o.DeviceMeta)().isInApp&&(i=(0,o.DeviceMeta)().appType),null!==i&&(c=e,t=i)):t=r},this.fireEvent=function(e,t){t=p(e+this.provider+t),window.EventTracker&&window.EventTracker.fireEvent(s(t))},this.startStatisticsSequence=function(e){window.EventTracker&&window.EventTracker.start(s(e))},this.endStatisticsSequenceWithSuccess=function(e){window.EventTracker&&window.EventTracker.endSuccess(s(e))},this.endStatisticsSequenceWithFailure=function(e){window.EventTracker&&window.EventTracker.endFailure(s(e))},this.logSuccess=function(e){this.fireEvent(e,n.successSuffix),this.endStatisticsSequenceWithSuccess(p(e+this.provider+n.completedTimeSequenceSuffix))},this.logFail=function(e){this.fireEvent(e,n.failSuffix)},this.logMaxFail=function(e){this.fireEvent(e,n.maxFailSuffix),this.endStatisticsSequenceWithFailure(p(e+this.provider+n.completedTimeSequenceSuffix))},this.logRetried=function(e){this.fireEvent(e,n.retrySuffix)},this.logTriggered=function(e){this.fireEvent(e,n.triggeredSuffix),this.startStatisticsSequence(p(e+this.provider+n.completedTimeSequenceSuffix))},this.logInitialized=function(e){this.fireEvent(e,n.initializedSuffix)},this.logSuppressed=function(e){this.fireEvent(e,n.suppressedSuffix)},this.logDisplayed=function(e){this.fireEvent(e,n.displayedSuffix)},this.logProviderError=function(e){this.fireEvent(e,n.providerErrorSuffix)},this.logMetadataError=function(e){this.fireEvent(e,n.metadataErrorSuffix)},this.logCaptchaShownEventToEventStream=function(e,t,a){this.logCaptchaInitiatedEventToEventStream(e,n.captchaInitiatedChallengeTypes.visible,t,a)},this.logCaptchaSuppressedEventToEventStream=function(e,t,a){this.logCaptchaInitiatedEventToEventStream(e,n.captchaInitiatedChallengeTypes.hidden,t,a)},this.logCaptchaErrorEventToEventStream=function(e,t,a,r){this.logCaptchaInitiatedEventToEventStream(e,n.captchaInitiatedChallengeTypes.error,t,a,r.toString())},this.logCaptchaInitiatedEventToEventStream=function(e,t,a,r,i){o.EventStream&&(e=e,t={type:t,provider:this.provider},""!==a&&void 0!==a&&(t.session=a),""!==r&&void 0!==r&&(t.ucid=r),""!==i&&void 0!==i&&(t.message=i),o.EventStream.SendEventWithTarget(n.eventStreamCaptchaInitiatedEventName,e,t,o.EventStream.TargetTypes.WWW))},this.logCaptchaTokenReceivedEventToEventStream=function(e,t,a){o.EventStream&&o.EventStream.SendEventWithTarget(n.eventStreamCaptchaTokenReceivedEventName,e,{provider:this.provider,session:t,ucid:a||""},o.EventStream.TargetTypes.WWW)},this.logCaptchaEventToEventStream=function(e,t,a,r,i){o.EventStream&&(t=t||0,a=a?"true":"false",o.EventStream.SendEventWithTarget(n.eventStreamCaptchaEventName,e,{solveDuration:t,success:a,provider:this.provider,session:r||"",ucid:i||""},o.EventStream.TargetTypes.WWW))}}},170:function(e,t,a){"use strict";var n,r,o,i,c,s,p,u,d,l,f,h,v=a(609),g=a.n(v),C=a(792),m=a(870);a=a(506),r=[],g().extend({},m.Z.messages),o=!500,i=0,c=500,s=1500,p=new a.Z("FunCaptcha"),u={},h={cType:null,tokenValidationRetries:0,extraValidationParams:{},returnTokenInSuccessCb:!(f={}),inputParams:{dataExchange:l=d="",unifiedCaptchaId:d},solvedCb:g().noop,loadedCb:g().noop,supressCb:g().noop,shownCb:g().noop,successCb:g().noop,errorCb:g().noop,fcInstance:null},a={types:g().extend({},m.Z.types),setMaxRetriesOnTokenValidationFailure:function(e){i=e},setRetryIntervalRange:function(e,t){c=e,s=t},reset:E,render:function e(t,a){if(o=!1,p.logTriggered(a.cType),a.inputParams&&(l=null==a.inputParams.dataExchange?"":a.inputParams.dataExchange,d=null==a.inputParams.unifiedCaptchaId?"":a.inputParams.unifiedCaptchaId),f[t]&&f[t].fcInstance)return f[t].fcInstance.data={blob:l},E(t),t;var r=function(e,t){return t=g().extend({},h,t),f[e]=t}(t,a);n=S(),p.logInitialized(r.cType);var u=T(r.cType);if(null==u)return p.logMetadataError(r.cType),r.errorCb&&r.errorCb(m.Z.errorCodes.failedToLoadProviderScript),t;try{r.fcInstance=new FunCaptcha({public_key:u.PublicKey,target_html:t,language:function(){if(C.Intl){var e=new C.Intl;if(m.Z.localeToFunCaptchaLanguageCodeMap.hasOwnProperty(e.locale))return m.Z.localeToFunCaptchaLanguageCodeMap[e.locale]}}(),data:{blob:l},callback:function(){var a=null;n&&(a=S()-n,n=null);var u,l,f,h,v,C=w();p.logCaptchaTokenReceivedEventToEventStream(r.cType,C,d),!0===r.returnTokenInSuccessCb?(p.logSuccess(r.cType),p.logCaptchaEventToEventStream(r.cType,a,!0,C),r.successCb(C,d)):(u=r,l=t,h=a,v=d,C={fcToken:f=C},C=g().extend({},C,u.extraValidationParams),g().ajax({method:"POST",data:C,url:T(u.cType).ApiUrl,success:function(){p.logSuccess(u.cType),p.logCaptchaEventToEventStream(u.cType,h,!0,f,v),u.successCb()},error:function(){p.logFail(u.cType),u.tokenValidationRetries<i?o||(o=!0,setTimeout((function(){var t,a;t=u,a=l,o&&(t.tokenValidationRetries+=1,p.logRetried(t.cType),e(a,t))}),c+Math.floor(Math.random()*(s-c)))):(p.logMaxFail(u.cType),p.logCaptchaEventToEventStream(u.cType,h,!1,f,v),u.errorCb&&u.errorCb(m.Z.errorCodes.failedToVerify,null))}}),r.solvedCb())},loaded_callback:function(){r.cType,setTimeout((function(){g()("#fc-iframe-wrap").focus()}),500),r.loadedCb()},onsuppress:function(){var e,t;e=r.cType,t=d,p.logSuppressed(e),p.logCaptchaSuppressedEventToEventStream(e,w(),t),r.suppressCb()},onshown:function(){var e,t;e=r.cType,t=d,p.logDisplayed(e),p.logCaptchaShownEventToEventStream(e,w(),t),r.shownCb()}})}catch(a){p.logProviderError(r.cType),p.logCaptchaErrorEventToEventStream(r.cType,w(),d,a),r.errorCb&&r.errorCb(m.Z.errorCodes.failedToLoadProviderScript,a)}return t},addCaptchaTypes:function(e,t){e&&e.forEach((function(e){var a={Type:t?(a=e.Type).charAt(0).toLowerCase()+a.slice(1):e.Type,ApiUrl:e.ApiUrl,PublicKey:e.PublicKey};e=JSON.stringify(a);u.hasOwnProperty(e)||(u[e]=a,r.push(a))}))},setPerAppTypeLoggingEnabled:function(e,t){t=1<arguments.length&&void 0!==t?t:void 0,p.setPerAppTypeLoggingEnabled(e,t)},showFunCaptchaInModal:function(){C.Dialog.open({bodyContent:'<div id="funcaptcha-modal-body" class="funcaptcha-modal-body"></div>',allowHtmlContentInBody:!0,showAccept:!1,showDecline:!1,xToCancel:!0,onCloseCallback:y});var e=g()("#game-card-redeem-captcha").removeClass("hidden").detach();g()("#funcaptcha-modal-body").append(e)},dismissFunCaptchaModal:y,captchaInstances:f,loggerInstance:p};function T(e){for(var t=0;t<r.length;t++)if(r[t].Type===e)return r[t];return null}function E(e){f[e]&&f[e].fcInstance.refresh_session()}function y(){var e=g()("#game-card-redeem-captcha").addClass("hidden").detach();g()("#redeem-card-wrapper").append(e),C.Dialog.close()}function w(){return g()("#FunCaptcha-Token").val()}function S(){return(new Date).valueOf()}t.Z=a},704:function(e){e.exports='<div class="captcha-container" ng-controller="captchaV2Controller"> <div class="modal" ng-class="$ctrl.getCaptchaClasses()" ng-click="$ctrl.hideCaptcha()"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body" ng-click="$event.stopPropagation()"> <button type="button" class="close" ng-click="$ctrl.hideCaptcha()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only">Close</span> </button> <div id="{{ $ctrl.id }}" class="captchav2-funcaptcha-modal-body"></div> </div> </div> </div> </div> </div>'},792:function(e){"use strict";e.exports=Roblox},734:function(e){"use strict";e.exports=angular},609:function(e){"use strict";e.exports=jQuery}},t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=a(734),t=a.n(e),n=a(726),r=(a(809),a(770));(0,n.importFilesUnderPath)(a(37)),(0,n.importFilesUnderPath)(a(111)),(0,n.importFilesUnderPath)(a(772)),(0,n.importFilesUnderPath)(a(354)),(0,n.importFilesUnderPath)(a(5)),e=a(871),(0,n.templateCacheGenerator)(t(),"captchaV2Templates",e),window.Roblox.CaptchaLogger=r.r8,window.Roblox.FunCaptcha=r.$3,window.Roblox.CaptchaConstants=r.K3,window.Roblox.triggerCaptcha=r.Xs,window.Roblox.Captcha=r.UG}()}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("Captcha");