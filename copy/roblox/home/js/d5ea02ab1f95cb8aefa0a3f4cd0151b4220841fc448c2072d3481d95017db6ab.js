!function(){var e={907:function(e,t,n){var r={"./2dThumbnailComponent.js":170};function a(e){return e=o(e),n(e)}function o(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=o,(e.exports=a).id=907},441:function(e,t,n){var r={"./thumbnailConstants.js":558};function a(e){return e=o(e),n(e)}function o(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=o,(e.exports=a).id=441},297:function(e,t,n){var r={"./2dThumbnailController.js":469};function a(e){return e=o(e),n(e)}function o(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=o,(e.exports=a).id=297},484:function(e,t,n){var r={"./imageLoadDirective.js":799,"./thumbnailErrorDirective.js":904};function a(e){return e=o(e),n(e)}function o(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=o,(e.exports=a).id=484},44:function(e,t,n){var r={"./thumbnailService.js":411};function a(e){return e=o(e),n(e)}function o(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=o,(e.exports=a).id=44},671:function(e,t,n){var r={"./components/templates/2dThumbnail.html":103};function a(e){return e=o(e),n(e)}function o(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=o,(e.exports=a).id=671},726:function(e){function t(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function n(e){return e.split("/").pop().replace(".html","")}var r={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,r,a,o){return e.module(r,[]).run(["$templateCache",function(e){a&&a.keys().forEach((function(r){var o=t(n(r));e.put(o,a(r))})),o&&o.keys().forEach((function(r){var a=t(n(r));e.put(a,o(r).replace(/<\/?script[^>]*>/gi,""))}))}])}};e.exports=r},170:function(e,t,n){"use strict";n.r(t);var r={templateUrl:"2d-thumbnail",bindings:{thumbnailType:"<",thumbnailTargetId:"<",thumbnailOptions:"<?",onSuccess:"<",onFailure:"<",altName:"<"},controller:"2dThumbnailController"};n(214).Z.component("thumbnail2d",r),t.default=r},558:function(e,t,n){"use strict";n.r(t);var r=n(613);n=n(214),r={thumbnailTypes:r.ThumbnailTypes,thumbnailStates:r.ThumbnailStates,formats:r.ThumbnailFormat,avatarHeadshotSize:r.ThumbnailAvatarHeadshotSize,gameIconSize:r.ThumbnailGameIconSize,thumbnailAvatarsSize:r.ThumbnailAvatarsSize};n.Z.constant("thumbnailConstants",r),t.default=r},469:function(e,t,n){"use strict";n.r(t);var r=n(613);n=n(214);function a(e,t){var n=this,a="",o=r.ThumbnailStates;function i(){var e,i="".concat(n.thumbnailType,":").concat(n.thumbnailTargetId);a!==i&&(a=i,n.thumbnailState=o.loading,i=(null===(e=n.thumbnailOptions)||void 0===e?void 0:e.size)||r.DefaultThumbnailSize,e=(null===(e=n.thumbnailOptions)||void 0===e?void 0:e.format)||r.DefaultThumbnailFormat,n.isThumbnailRequestSending=!0,t.getThumbnailImage(n.thumbnailType,n.thumbnailTargetId,i,e).then((function(e){var t=(r=e.thumbnail).state,r=r.imageUrl;e=e.performance;n.thumbnailState=t,n.thumbnailUrl=r,n.onSuccess&&n.onSuccess(e)})).catch((function(e){n.thumbnailState=o.error,n.onFailure&&n.onFailure(e)})).finally((function(){n.isThumbnailRequestSending=!1})))}n.getCssClasses=function(){return n.isThumbnailRequestSending?"shimmer":t.getCssClass(n.thumbnailState)},n.setThumbnailLoadFailed=function(){},n.isLazyLoadingEnabled=function(){return n.thumbnailOptions&&n.thumbnailOptions.isLazyLoading},n.$onInit=i,n.$onChanges=i}a.$inject=["$scope","thumbnailService"],n.Z.controller("2dThumbnailController",a),t.default=a},799:function(e,t,n){"use strict";function r(){return{restrict:"A",link:function(e,t){t.bind("load",(function(){e.$evalAsync((function(){e.isLoaded=!0}))}))}}}n.r(t),n(214).Z.directive("imageLoad",r),t.default=r},904:function(e,t,n){"use strict";function r(){return{scope:{thumbnailError:"<"},link:function(e,t){t.on("error",e.thumbnailError)}}}n.r(t),n(214).Z.directive("thumbnailError",r),t.default=r},411:function(e,t,n){"use strict";n.r(t);var r=n(394);n=n(214);function a(e){return{getThumbnailImage:function(t,n,a){return e((function(e,o){r.Z.getThumbnailImage(t,a,null,n).then((function(t){e(t)})).catch(o)}))},getCssClass:function(e){return r.Z.getCssClass(e)},reloadThumbnailImage:function(t,n,a){return e((function(e,o){r.Z.reloadThumbnailImage(t,a,null,n).then((function(t){e(t)})).catch(o)}))}}}a.$inject=["$q"],n.Z.factory("thumbnailService",a),t.default=a},214:function(e,t,n){"use strict";var r=n(734);r=n.n(r)().module("thumbnails",["robloxApp","thumbnailsTemplates","angularLazyImg"]);t.Z=r},50:function(){angular.module("angularLazyImg",[]).factory("LazyImgMagic",["$window","$rootScope","lazyImgConfig","lazyImgHelpers",function(e,t,n,r){"use strict";var a,o,i,u,s,l,c,m;function h(){for(var e=i.length-1;0<=e;e--){var n=i[e];n&&r.isElementInView(n.$elem[0],s.offset,a)&&(function(e){var n=new Image;n.onerror=function(){s.errorClass&&e.$elem.addClass(s.errorClass),t.$emit("lazyImg:error",e),s.onError(e)},n.onload=function(){var n,r;n=e.$elem,r=e.src,"img"===n[0].nodeName.toLowerCase()?n[0].src=r:n.css("background-image",'url("'+r+'")'),e.$elem.removeClass(s.loadingClass),s.successClass&&e.$elem.addClass(s.successClass),t.$emit("lazyImg:success",e),s.onSuccess(e)},n.src=e.src}(n),i.splice(e,1))}0===i.length&&b()}function f(e){m.forEach((function(t){t[e]("scroll",l),t[e]("touchmove",l)})),o[e]("resize",l),o[e]("resize",c)}function d(){u=!0,setTimeout((function(){h(),f("on")}),1)}function b(){u=!1,f("off")}function p(e){e.addClass(s.loadingClass),this.$elem=e}return u=!(i=[]),s=n.getOptions(),o=angular.element(e),a=r.getWinDimensions(),c=r.throttle((function(){a=r.getWinDimensions()}),60),m=[s.container||o],l=r.throttle(h,30),p.prototype.setSource=function(e){this.src=e,i.unshift(this),u||d()},p.prototype.removeImage=function(){var e;e=this,-1!==(e=i.indexOf(e))&&i.splice(e,1),0===i.length&&b()},p.prototype.checkImages=function(){h()},p.addContainer=function(e){b(),m.push(e),d()},p.removeContainer=function(e){b(),m.splice(m.indexOf(e),1),d()},p}]).provider("lazyImgConfig",(function(){"use strict";this.options={offset:100,errorClass:null,successClass:null,onError:function(){},onSuccess:function(){},loadingClass:"icon-placeholder-game"},this.$get=function(){var e=this.options;return{getOptions:function(){return e}}},this.setOptions=function(e){angular.extend(this.options,e)}})).factory("lazyImgHelpers",["$window",function(e){"use strict";return{isElementInView:function(e,t,n){var r=e.getBoundingClientRect(),a=n.height+t;return e.offsetParent&&0<=r.left&&r.right<=n.width+t&&(0<=r.top&&r.top<=a||r.bottom<=a&&r.bottom>=0-t)},getWinDimensions:function(){return{height:e.innerHeight,width:e.innerWidth}},throttle:function(e,t,n){var r,a;return function(){var o=n||this,i=+new Date,u=arguments;r&&i<r+t?(clearTimeout(a),a=setTimeout((function(){r=i,e.apply(o,u)}),t)):(r=i,e.apply(o,u))}}}}]).directive("lazyImg",["$rootScope","LazyImgMagic",function(e,t){"use strict";return{link:function(n,r,a){var o=new t(r);a.$observe("lazyImg",(function(e){e&&o.setSource(e)})),n.$on("$destroy",(function(){o.removeImage()})),e.$on("lazyImg.runCheck",(function(){o.checkImages()})),e.$on("lazyImg:refresh",(function(){o.checkImages()}))},restrict:"A"}}]).directive("lazyImgContainer",["LazyImgMagic",function(e){"use strict";return{link:function(t,n){e.addContainer(n),t.$on("$destroy",(function(){e.removeContainer(n)}))},restrict:"A"}}])},779:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"==o||"number"==o)e.push(n);else if(Array.isArray(n)&&n.length){var i=a.apply(null,n);i&&e.push(i)}else if("object"==o)for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},103:function(e){e.exports='<span ng-class="$ctrl.getCssClasses()" class="thumbnail-2d-container" thumbnail-type="{{ $ctrl.thumbnailType }}" thumbnail-target-id="{{ $ctrl.thumbnailTargetId }}"> <img ng-if="$ctrl.thumbnailUrl && !$ctrl.isLazyLoadingEnabled()" ng-src="{{ $ctrl.thumbnailUrl }}" thumbnail-error="$ctrl.setThumbnailLoadFailed" ng-class="{\'loading\': $ctrl.thumbnailUrl && !isLoaded }" image-load alt="{{$ctrl.altName}}" title="{{$ctrl.altName}}"/> <img ng-if="$ctrl.thumbnailUrl && $ctrl.isLazyLoadingEnabled()" lazy-img="{{ $ctrl.thumbnailUrl }}" thumbnail-error="$ctrl.setThumbnailLoadFailed"/> </span> '},613:function(e,t,n){"use strict";n.r(t),n.d(t,{BatchRequestError:function(){return r},DEFAULT_META_DATA:function(){return P},DefaultBatchSize:function(){return s},DefaultThumbnailFormat:function(){return w},DefaultThumbnailSize:function(){return S},FeatureName:function(){return I},LoadFailureMetricsType:function(){return E},LoadFailureName:function(){return z},LoadRetrySuccessName:function(){return O},LoadSuccessMetricsType:function(){return A},LoadSuccessName:function(){return x},RetryPerThumbnailType:function(){return R},ReturnPolicy:function(){return C},RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum:function(){return a},ThumbnailAssetsSize:function(){return m},ThumbnailAvatarHeadshotSize:function(){return f},ThumbnailAvatarsSize:function(){return h},ThumbnailBadgeIconSize:function(){return b},ThumbnailCooldown:function(){return u},ThumbnailDeveloperProductIconSize:function(){return p},ThumbnailFormat:function(){return v},ThumbnailGameIconSize:function(){return l},ThumbnailGamePassIconSize:function(){return c},ThumbnailGameThumbnailSize:function(){return g},ThumbnailGroupIconSize:function(){return d},ThumbnailMetadataUrl:function(){return i},ThumbnailStates:function(){return T},ThumbnailTypes:function(){return o},ThumbnailUniverseThumbnailSize:function(){return y}});var r,a,o,i=Roblox.EnvironmentUrls.thumbnailsApi+"/v1/metadata";(t=r=r||{}).processFailure="processFailure",t.unretriableFailure="unretriableFailure",t.maxAttemptsReached="maxAttemptsReached",(t=a=a||{}).Avatar="Avatar",t.AvatarHeadShot="AvatarHeadShot",t.GameIcon="GameIcon",t.BadgeIcon="BadgeIcon",t.GameThumbnail="GameThumbnail",t.GamePass="GamePass",t.Asset="Asset",t.BundleThumbnail="BundleThumbnail",t.Outfit="Outfit",t.GroupIcon="GroupIcon",t.DeveloperProduct="DeveloperProduct",t.PlaceIcon="PlaceIcon",(t=o=o||{}).avatar="Avatar",t.avatarHeadshot="AvatarHeadshot",t.gameIcon="GameIcon",t.gameThumbnail="GameThumbnail",t.badgeIcon="BadgeIcon",t.gamePassIcon="GamePass",t.assetThumbnail="Asset",t.bundleThumbnail="BundleThumbnail",t.userOutfit="Outfit",t.groupIcon="GroupIcon",t.developerProductIcon="DeveloperProduct",t.universeThumbnail="UniverseThumbnail",t.universeThumbnails="UniverseThumbnails",t.placeGameIcon="PlaceGameIcon";var u,s=100;(t=u=u||{})[t.maxRetryAttempts=10]="maxRetryAttempts",t[t.minCooldown=1e3]="minCooldown",t[t.maxCooldown=3e4]="maxCooldown";var l,c,m,h,f,d,b,p,g,y,T,v,C,S="150x150",w="png";(t=l=l||{}).size50="50x50",t.size150="150x150",t.size512="512x512",(c=c||{}).size150="150x150",(t=m=m||{}).size150="150x150",t.size420="420x420",(t=h=h||{}).size100="100x100",t.size352="352x352",t.size720="720x720",(t=f=f||{}).size48="48x48",t.size60="60x60",t.size150="150x150",(t=d=d||{}).size150="150x150",t.size420="420x420",(b=b||{}).size150="150x150",(p=p||{}).size150="150x150",(t=g=g||{}).width768="768x432",t.width576="576x324",t.width480="480x270",t.width384="384x216",t.width256="256x144",(t=y=y||{}).width768="768x432",t.width576="576x324",t.width480="480x270",t.width384="384x216",t.width256="256x144",(t=T=T||{}).error="Error",t.complete="Completed",t.inReview="InReview",t.pending="Pending",t.blocked="Blocked",(t=v=v||{}).png="png",t.jpg="jpg",t.jpeg="jpeg",(t=C=C||{}).PlaceHolder="PlaceHolder",t.AutoGenerated="AutoGenerated",t.ForceAutoGenerated="ForceAutoGenerated";var I="Thumbnail2DWeb",x="LoadSuccess",O="RetryLoadSuccess",R="RetryPerThumbnailType",A="Sequence",z="LoadFailure",E="Counter",P={thumbnailMetricsSampleSize:10,isWebappUseCacheEnabled:!1,webappCacheExpirationTimespan:"00:00:00",requestMinCooldown:1e3,requestMaxCooldown:3e3,requestMaxRetryAttempts:5,requestBatchSize:100,concurrentThumbnailRequestCount:1}},394:function(e,t,n){"use strict";function r(e,t,n,r,a,o){return void 0===n&&(n=i.ThumbnailFormat.jpeg),r||a?e?(n={targetId:r,token:a,type:e,format:n,size:t},t=[i.ThumbnailTypes.universeThumbnails,i.ThumbnailTypes.universeThumbnail].includes(e)?"universeThumbnailProcessor":"thumbnail2dProcessor",l.processThumbnailBatchRequest(n,(function(t){return e===i.ThumbnailTypes.universeThumbnail?s.handle(t,1):e===i.ThumbnailTypes.universeThumbnails?s.handle(t,10):u.handle(t)}),t,o)):new Promise((function(e,t){t(new Error("ThumbnailType can not be empty."))})):new Promise((function(e,t){t(new Error("TargetId or token can not be empty."))}))}var a=n(618),o=n(580),i=n(613),u=o.Z.batchRequestHandler,s=o.Z.universeThumbnailHandler,l=a.Z.defaultThumbnailRequester;t.Z=(null===(t=window.RobloxThumbnails)||void 0===t?void 0:t.thumbnailService)||{getThumbnailImage:function(e,t,n,a,o){return void 0===n&&(n=i.ThumbnailFormat.jpeg),r(e,t,n,a,o,!1)},getCssClass:function(e){return{"icon-broken":e===i.ThumbnailStates.error,"icon-in-review":e===i.ThumbnailStates.inReview,"icon-blocked":e===i.ThumbnailStates.blocked,"icon-pending":e===i.ThumbnailStates.pending}},reloadThumbnailImage:function(e,t,n,a,o){return void 0===n&&(n=i.ThumbnailFormat.jpeg),r(e,t,n,a,o,!0)}}},580:function(e,t,n){"use strict";n.d(t,{o:function(){return c}});var r=n(292),a=n(979),o=n(613),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=a.Z.transformThumbnailType,s=r.dataStores.thumbnailsDataStore,l=r.dataStores.gameThumbnailsDataStore,c=(m.prototype.handle=function(e,t){var n=this;return new Promise((function(r){n.storeInstance(e,t).then((function(a){var u=new Map,s={};(null!==(a=null===(a=null==a?void 0:a.data)||void 0===a?void 0:a.data)&&void 0!==a?a:new Array).forEach((function(e){u.set(n.keySetter(e),e)})),e.forEach((function(e){var r;e=n.keyGetter(e);u.has(e)?(r=u.get(e))&&n.validator(r)&&(s[e]=n.resultSetter(r,t)):(r={},r=t&&1<t?{thumbnails:[]}:{thumbnail:{targetId:e,state:o.ThumbnailStates.error}},s[e]=i(i({},r),{errorcode:3,errorMessage:"id doesn't exist"}))})),r(s)})).catch((function(){r({})}))}))},m);function m(e,t,n,r,a){this.storeInstance=e,this.keySetter=t,this.keyGetter=n,this.validator=r,this.resultSetter=a}t.Z={batchRequestHandler:new c((function(e){var t=e.map((function(e){var t=(n=e.data).type,n=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}(n,["type"]);e=e.key;return i({requestId:e,type:u(t)},n)}));return new Promise((function(e,n){s.getBatchThumbnails(t).then(e).catch(n)}))}),(function(e){return e.requestId||""}),(function(e){return e.key}),(function(e){return e.state!==o.ThumbnailStates.pending}),(function(e){return{thumbnail:e}})),universeThumbnailHandler:new c((function(e,t){return new Promise((function(n,r){var a;l.getAllUniverseThumbnails(e.map((function(e){return e.data.targetId||0})),null===(a=e[0])||void 0===a?void 0:a.data.size,null===(a=e[0])||void 0===a?void 0:a.data.format,null===(a=e[0])||void 0===a?void 0:a.data.isCircular,t).then(n).catch(r)}))}),(function(e){return e.universeId.toString()}),(function(e){return e.data.targetId?e.data.targetId.toString():""}),(function(e){return!e.error}),(function(e,t){return 1===t?{thumbnail:e.thumbnails[0]}:{thumbnails:e.thumbnails}}))}},618:function(e,t,n){"use strict";n.d(t,{x:function(){return l},Z:function(){return h}});var r=CoreUtilities,a=n(292),o=n(613),i=(t=function(){var e=null===(e=document.getElementsByName("thumbnail-meta-data")[0])||void 0===e?void 0:e.dataset;return e?{thumbnailMetricsSampleSize:parseInt(e.thumbnailMetricsSampleSize||"",10),isWebappUseCacheEnabled:"True"===e.isWebappCacheEnabled,webappCacheExpirationTimespan:e.webappCacheExpirationsTimespan||"",requestMinCooldown:parseInt(e.requestMinCooldown||"",10),requestMaxCooldown:parseInt(e.requestMaxCooldown||"",10),requestMaxRetryAttempts:parseInt(e.requestMaxRetryAttempts||"",10),requestBatchSize:parseInt(e.requestBatchSize||"",10),concurrentThumbnailRequestCount:parseInt(e.concurrentThumbnailRequestCount||"",10)}:o.DEFAULT_META_DATA},n=n(979),t),u=n.Z.getCachePropertiesFromMetaData,s=n.Z.shouldLogMetrics,l=(c.prototype.getThumbnailRequesterProperties=function(e){return e?{getFailureCooldown:this.batchRequestFactory.createExponentialBackoffCooldown(e.requestMinCooldown,e.requestMaxCooldown),maxRetryAttempts:e.requestMaxRetryAttempts,batchSize:e.requestBatchSize,concurrentRequestCount:e.concurrentThumbnailRequestCount,debugMode:!0}:{getFailureCooldown:this.batchRequestFactory.createExponentialBackoffCooldown(o.ThumbnailCooldown.minCooldown,o.ThumbnailCooldown.maxCooldown),maxRetryAttempts:o.ThumbnailCooldown.maxRetryAttempts,batchSize:o.DefaultBatchSize,debugMode:!0}},c.prototype.getThumbnailRequester=function(e,t,n){var r=this;return t in this.thumbnailRequesters?this.thumbnailRequesters[t]:(n=this.batchRequestFactory.createRequestProcessor(e,(function(e){return r.thumbnailItemIdSerializer(e)}),this.getThumbnailRequesterProperties(n)),this.thumbnailRequesters[t]=n)},c.prototype.processThumbnailBatchRequest=function(e,t,n,r){void 0===n&&(n=this.thumbnailProcessorKeySerializer(e));var l=e.type,c=void 0===l?"custom":l,m=i();n=this.getThumbnailRequester(t,n,m);return r&&n.invalidateItem(e),r=u(m),n.queueItem(e,void 0,r).then((function(e){var t,n;return a.metricsService&&e.performance&&s(m)&&(t=(n=e.performance).duration,0<(n=n.retryAttempts)?(a.metricsService.logMeasurement({featureName:o.FeatureName,measureName:o.LoadRetrySuccessName,metricsType:o.LoadSuccessMetricsType,excludeCountry:!0,value:t}).catch(console.debug),a.metricsService.logMeasurement({featureName:o.FeatureName,measureName:c+"_"+o.RetryPerThumbnailType,metricsType:o.LoadSuccessMetricsType,excludeCountry:!0,value:n}).catch(console.debug)):a.metricsService.logMeasurement({featureName:o.FeatureName,measureName:o.LoadSuccessName,metricsType:o.LoadSuccessMetricsType,excludeCountry:!0,value:t}).catch(console.debug)),e})).catch((function(e){return console.debug({error:e}),a.metricsService&&s(m)&&e===o.BatchRequestError.maxAttemptsReached&&a.metricsService.logMeasurement({featureName:o.FeatureName,measureName:o.LoadFailureName,metricsType:o.LoadFailureMetricsType,excludeCountry:!0}).catch(console.debug),Promise.reject(e)}))},c);function c(e,t){this.thumbnailRequesters={},this.batchRequestFactory=new r.BatchRequestFactory,this.thumbnailItemIdSerializer=e,this.thumbnailProcessorKeySerializer=t}function m(e){var t=void 0===(o=e.targetId)?0:o,n=e.token,r=e.type,a=e.size,o=e.format;e=e.isCircular;return t.toString()+":"+n+":"+r+":"+a+":"+o+":"+(e?"circular":"regular")}var h={defaultThumbnailRequester:new l((function(e){var t=e.type,n=void 0===(n=e.targetId)?0:n;return t===o.ThumbnailTypes.universeThumbnail||t===o.ThumbnailTypes.universeThumbnails?n.toString():m(e)}),m),customThumbnailRequester:new l((function(e){return e.key}),(function(){return"customThumbnailRequester"}))}},979:function(e,t,n){"use strict";var r=n(613),a=((n={})[r.ThumbnailTypes.avatar]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.Avatar,n[r.ThumbnailTypes.avatarHeadshot]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.AvatarHeadShot,n[r.ThumbnailTypes.gameIcon]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.GameIcon,n[r.ThumbnailTypes.badgeIcon]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.BadgeIcon,n[r.ThumbnailTypes.gamePassIcon]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.GamePass,n[r.ThumbnailTypes.assetThumbnail]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.Asset,n[r.ThumbnailTypes.bundleThumbnail]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.BundleThumbnail,n[r.ThumbnailTypes.userOutfit]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.Outfit,n[r.ThumbnailTypes.groupIcon]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.GroupIcon,n[r.ThumbnailTypes.placeGameIcon]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.PlaceIcon,n[r.ThumbnailTypes.developerProductIcon]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.DeveloperProduct,n[r.ThumbnailTypes.gameThumbnail]=r.RobloxThumbnailsApisModelsThumbnailBatchRequestTypeEnum.GameThumbnail,n);function o(e){return e=e.split(":"),1e3*(60*parseInt(e[0],10)*60+60*parseInt(e[1],10)+parseInt(e[2],10))}t.Z={transformThumbnailType:function(e){return a[e]},getExpirationMsFromString:o,getThumbnailRequesterProperties:function(e,t){return t?{getFailureCooldown:e.createExponentialBackoffCooldown(t.requestMinCooldown,t.requestMaxCooldown),maxRetryAttempts:t.requestMaxRetryAttempts,batchSize:t.requestBatchSize,concurrentRequestCount:t.concurrentThumbnailRequestCount,debugMode:!0}:{getFailureCooldown:e.createExponentialBackoffCooldown(r.ThumbnailCooldown.minCooldown,r.ThumbnailCooldown.maxCooldown),maxRetryAttempts:r.ThumbnailCooldown.maxRetryAttempts,batchSize:r.DefaultBatchSize,debugMode:!0}},getCachePropertiesFromMetaData:function(e){if(e)return{useCache:e.isWebappUseCacheEnabled,expirationWindowMS:o(e.webappCacheExpirationTimespan)}},shouldLogMetrics:function(e){return!e||(e=e.thumbnailMetricsSampleSize,Math.floor(100*Math.random())<=e)}}},292:function(e){"use strict";e.exports=CoreRobloxUtilities},734:function(e){"use strict";e.exports=angular}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(734),t=n.n(e),r=n(726),a=n(613),o=React,i=n.n(o),u=n(779),s=n.n(u),l=(e=PropTypes,u=n.n(e),n(394)),c=(e=n(618),n(580));function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.onLoad,n=e.errorIconClass,r=e.thumbnailUrl,a=e.imgClassName,u=e.containerClass,l=e.altName,c=(e=s()("thumbnail-2d-container",n,u),u=(n=m((0,o.useState)(s()(a,"loading")),2))[0],n[1]);return(0,o.useEffect)((function(){null===r&&c(s()(a,"loading"))}),[r,a]),i().createElement("span",{className:e},r&&i().createElement("img",{className:u,src:r,alt:l,title:l,onLoad:function(){t(),c(a)}}))}f.defaultProps={errorIconClass:"",thumbnailUrl:"",imgClassName:"",containerClass:"",altName:"",onLoad:function(){}},f.propTypes={errorIconClass:u().string,thumbnailUrl:u().string,imgClassName:u().string,containerClass:u().string,altName:u().string,onLoad:u().func};var d=f;function b(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=new e.x((function(e){return e.targetId}),(function(){return"customThumbnailRequester"}));function v(e){var t,n=e.type,r=e.targetId,u=e.token,m=e.size,h=e.imgClassName,f=e.containerClass,b=e.format,y=e.altName,v=e.onLoad,C=e.getThumbnail,S=(x=g((0,o.useState)(null),2))[0],w=x[1],I=(e=(t=g((0,o.useState)(null),2))[0],t[1]),x=s()(l.Z.getCssClass(S)),O=(S=(t=g((0,o.useState)("shimmer"),2))[0],t[1]),R=(0,o.useMemo)((function(){return new c.o((function(){return new Promise((function(e,t){C().then((function(t){e({data:{data:[p(p({},t.data),{},{targetId:r})]}})})).catch(t)}))}),(function(e){return e.targetId}),(function(e){return e.key}),(function(e){return e.state!==a.ThumbnailStates.pending}),(function(e){return{thumbnail:e}}))}),[r,C]);return(0,o.useEffect)((function(){O("shimmer"),w(null),I(null);var e=!1,t=l.Z.getThumbnailImage(n,m,b,r,u);return C&&(t=T.processThumbnailBatchRequest({targetId:r},(function(e){return R.handle(e)}))),t.then((function(t){t=(n=t.thumbnail).state;var n=n.imageUrl;e||(w(t),I(n),O(""))})).catch((function(t){console.debug(t),e||O("")})),function(){e=!0}}),[n,r,u,m,h,C]),i().createElement(d,{thumbnailUrl:e,errorIconClass:x,imgClassName:h,altName:y,onLoad:v,containerClass:s()(S,f)})}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){function t(){var e=(e=w)>=b.length-1?0:e+1;I(e)}var n,r=e.type,a=e.targetId,u=e.size,c=e.imgClassName,m=e.containerClass,h=e.format,f=e.altName,b=(T=C((0,o.useState)(null),2))[0],p=T[1],g=(n=C((0,o.useState)(null),2))[0],y=n[1],T=(e=C((0,o.useState)(null),2))[0],v=e[1],S=(e=(n=C((0,o.useState)("shimmer"),2))[0],n[1]),w=(n=C((0,o.useState)(0),2))[0],I=n[1];return(0,o.useEffect)((function(){var e,n;return b&&(n=b[w],y(n.state),v(n.imageUrl),S(""),e=setInterval(t,4e3)),function(){clearInterval(e)}}),[b,w]),(0,o.useEffect)((function(){var e=!1;return l.Z.getThumbnailImage(r,u,h,a).then((function(t){e||p(t.thumbnails)})).catch((function(){e||S("")})),function(){e=!0}}),[r,a,u,c,h]),i().createElement(d,{thumbnailUrl:T,errorIconClass:s()(l.Z.getCssClass(g)),imgClassName:c,altName:f,containerClass:s()(e,m)})}function I(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}v.defaultProps={targetId:0,token:"",size:"150x150",imgClassName:"",containerClass:"",format:"png",altName:"",onLoad:function(){},getThumbnail:null},v.propTypes={type:u().string.isRequired,targetId:u().number,token:u().string,size:u().string,format:u().string,imgClassName:u().string,containerClass:u().string,altName:u().string,onLoad:u().func,getThumbnail:u().func},e=v,w.defaultProps={size:"576x324",imgClassName:"",containerClass:"",format:"png",altName:""},w.propTypes={type:u().string.isRequired,targetId:u().number.isRequired,size:u().string,format:u().string,imgClassName:u().string,containerClass:u().string,altName:u().string},u=w,n(50),n(214),window.RobloxThumbnails=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Thumbnail2d:e,Thumbnail2dCarouselContainer:u,thumbnailService:l.Z},a),(0,r.importFilesUnderPath)(n(907)),(0,r.importFilesUnderPath)(n(441)),(0,r.importFilesUnderPath)(n(297)),(0,r.importFilesUnderPath)(n(484)),(0,r.importFilesUnderPath)(n(44)),u=n(671),(0,r.templateCacheGenerator)(t(),"thumbnailsTemplates",u,null)}()}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("Thumbnails");