!function(){var e={779:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"==o||"number"==o)e.push(n);else if(Array.isArray(n)&&n.length){var i=a.apply(null,n);i&&e.push(i)}else if("object"==o)for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},635:function(e){e.exports='module.exports = __webpack_public_path__ + "../html/navigation.html";'}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=React,t=n.n(e),r=CoreUtilities,a=ReactDOM,o=HeaderScripts,i=ReactUtilities,c={arrowUp:38,arrowDown:40,tab:9,enter:13},l={name:"Roblox.Logout"},u=1,s={clickMerchandise:"clickMerchandiseInLeftNav",goToAmazonStore:"clickContinueToAmazonStore"},m="FriendshipNotifications",f="Roblox.Friends.CountChanged",p={name:"Roblox.Messages.CountChanged"},d={name:"headerMenuIconClick"},v="quickLogin",b="logout",y="settings",g={common:["CommonUI.Features","Common.AlertsAndOptions"],feature:"Feature.ShopDialog"},h=PropTypes,S=n.n(h),E=n(779),w=n.n(E),O=ReactStyleGuide,x=RobloxThumbnails,C=Roblox,A=C.Endpoints.getAbsoluteUrl,I=C.EnvironmentUrls.authApi,N={url:A("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"],icon:"icon-menu-games-off"},k={url:A("/catalog?CatalogContext=1&Keyword="),label:"Label.AvatarShop",pageSort:["catalog","inventory","bundles","my/avatar","trades"],icon:"icon-menu-shop"},j=(h=[{url:A("/search/users?keyword="),label:"Label.Players",pageSort:["users"],icon:"icon-menu-profile"},k,{url:A("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"],icon:"icon-menu-groups"},{url:A("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"],icon:"icon-menu-library"}],{scrollListItems:{home:{url:A("/"),idSelector:"nav-home",iconClass:"icon-nav-home",name:"home",labelTranslationKey:"Label.sHome"},profile:{url:A("/users/".concat(o.authenticatedUser.id,"/profile")),idSelector:"nav-profile",iconClass:"icon-nav-profile",name:"profile",labelTranslationKey:"Label.sProfile"},messages:{url:A("/my/messages/#!/inbox"),urlForNotification:A("/my/messages/#!/inbox"),idSelector:"nav-message",iconClass:"icon-nav-message",name:"messages",labelTranslationKey:"Label.sMessages"},friends:{url:A("/users/friends"),urlForNotification:A("/users/friends#!/friend-requests"),idSelector:"nav-friends",iconClass:"icon-nav-friends",name:"friends",labelTranslationKey:"Label.sFriends"},avatar:{url:A("/my/avatar"),idSelector:"nav-character",iconClass:"icon-nav-charactercustomizer",name:"avatar",labelTranslationKey:"Label.sAvatar"},inventory:{url:A("/users/".concat(o.authenticatedUser.id,"/inventory")),idSelector:"nav-inventory",iconClass:"icon-nav-inventory",name:"inventory",labelTranslationKey:"Label.sInventory"},trade:{url:A("/trades"),urlForNotification:A("/trades"),idSelector:"nav-trade",iconClass:"icon-nav-trade",name:"trade",labelTranslationKey:"Label.sTrade"},groups:{url:A("/my/groups"),idSelector:"nav-group",iconClass:"icon-nav-group",name:"groups",labelTranslationKey:"Label.sGroups"},blog:{url:A("https://blog.roblox.com"),idSelector:"nav-blog",iconClass:"icon-nav-blog",name:"blog",labelTranslationKey:"Label.sBlog"},shop:{isModal:!0,idSelector:"nav-shop",iconClass:"icon-nav-shop",name:"shop",labelTranslationKey:"Label.OfficialStore"},giftcards:{url:A("/giftcards-us"),idSelector:"nav-giftcards",iconClass:"icon-nav-giftcards",name:"giftcards",labelTranslationKey:"Label.GiftCards"}},upgradeButton:{url:A("/premium/membership?ctx=leftnav"),labelTranslationKey:o.authenticatedUser.isPremiumUser?"ActionsPremium":"ActionsGetPremium"},sponsorEvents:{label:{labelTranslationKey:"Label.sEvents"},events:{}},gameSearchLink:N,avatarSearchLink:k,miscSearchLink:h,universalSearchUrls:[{url:A("/search/users?keyword="),label:"Label.Players",pageSort:[]},{url:A("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"]},{url:A("/catalog/browse.aspx?CatalogContext=1&Keyword="),label:"Label.sCatalog",pageSort:["catalog","inventory","bundles"]},{url:A("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"]},{url:A("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"]}],newUniversalSearchUrls:[N].concat(h),settingsUrl:{settings:{url:A("/my/account"),label:"Label.sSettings"},quickLogin:{url:A("/home"),label:"Label.sQuickLogin"},help:{url:A("/info/help?locale="),label:"Label.sHelp"},logout:{url:"".concat(I,"/v2/logout"),label:"Label.sLogout"}},buyRobuxUrl:{robuxBalance:{url:A("/transactions"),label:"Label.sRobuxMessage"},buyRobux:{url:A("/upgrades/robux?ctx=navpopover"),label:"Label.sBuyRobux"}},userDataUrl:A("/navigation/userData"),quickLoginUrl:A("/crossdevicelogin/ConfirmCode")}),T=C.Endpoints.getAbsoluteUrl,R=C.EnvironmentUrls.authApi,L=C.EnvironmentUrls.accountSettingsApi,P=C.EnvironmentUrls.websiteUrl,U=C.EnvironmentUrls.adsApi,q=C.EnvironmentUrls.economyApi,D=C.EnvironmentUrls.privateMessagesApi,M=C.EnvironmentUrls.tradesApi,K=C.EnvironmentUrls.friendsApi,F=(E=(C.EnvironmentUrls.apiGatewayUrl,function(){return T("/account/signupredir")}),k=function(){return P},N=function(){return T("/")},h=function(e,t){return T("/".concat(e.toLowerCase(),"/").concat(t))},I=function(){return T("/login")},function(e){return"".concat(q,"/v1/users/").concat(e,"/currency")}),B=function(){var e={url:"".concat(D,"/v1/messages/unread/count"),withCredentials:!0};return r.httpService.get(e)},Q=function(){var e={url:"".concat(K,"/v1/user/friend-requests/count"),withCredentials:!0};return r.httpService.get(e)},G=function(){var e={url:"".concat(R,"/v2/passwords/current-status"),withCredentials:!0};return r.httpService.get(e)},_=function(){var e={url:"".concat(L,"/v1/email"),withCredentials:!0};return r.httpService.get(e)},V=CoreRobloxUtilities;function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=V.dataStores.userDataStore.maxFriendRequestNotificationCount;function H(e){var n=e.translate,a=e.idSelector,o=e.isModal,i=e.name,c=e.iconClass,l=e.labelTranslationKey,u=e.url,s=e.urlForNotification,m=e.onClickShopLink,f=e.friendsData,p=e.messagesData,d=e.tradeData;u=null!=(e=($(e={},j.scrollListItems.friends.name,f),$(e,j.scrollListItems.messages.name,p),$(e,j.scrollListItems.trade.name,d),e)[i])&&e.count?s:u;return o?t().createElement("li",{key:i},t().createElement("button",{id:a,type:"button",onClick:m,className:"dynamic-overflow-container text-nav"},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)))):t().createElement("li",{key:i},t().createElement(O.Link,{url:u,id:a,className:"dynamic-overflow-container text-nav"},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)),e&&0<e.count&&t().createElement("div",{className:"dynamic-width-item align-right"},t().createElement("span",{className:"notification-blue notification",title:r.numberFormat.getNumberFormat(e.count)},function(e,t){return e===j.scrollListItems.friends.name&&z<=t?"".concat(z,"+"):r.abbreviateNumber.getTruncValue(t,1e3)}(i,e.count)))))}H.defaultProps={idSelector:"",url:"",urlForNotification:"",isModal:!1,friendsData:{count:0},messagesData:{count:0},tradeData:{count:0}},H.propTypes={idSelector:S().string,translate:S().func.isRequired,isModal:S().bool,name:S().string.isRequired,iconClass:S().string.isRequired,labelTranslationKey:S().string.isRequired,url:S().string,urlForNotification:S().string,onClickShopLink:S().func.isRequired,friendsData:S().shape({count:S().number}),messagesData:S().shape({count:S().number}),tradeData:S().shape({count:S().number})};var W=H,J=(A=V.eventStreamService.eventTypes,h),X={name:"sponsoredEventClicked",type:A.pageLoad,context:"click"};function Y(e){var n=e.translate;e=e.sponsoredPagesData.map((function(e){var n=e.title,r=e.name,a=e.pageType;return(e=e.logoImageUrl)?t().createElement("li",{key:r,className:"rbx-nav-sponsor","ng-non-bindable":"true"},t().createElement("a",{className:"text-nav menu-item",href:J(a,r),title:n,onClick:function(){return e=n,void(V.eventStreamService&&V.eventStreamService.sendEvent(X,{sponsoredPageName:e}));var e}},e?t().createElement("img",{src:e,alt:""}):t().createElement("span",null,n))):null}));return t().createElement(t().Fragment,null,t().createElement("li",{className:"font-bold small text-nav"}," ",n("Label.sEvents")),e)}Y.defaultProps={sponsoredPagesData:[]},Y.propTypes={translate:S().func.isRequired,sponsoredPagesData:S().instanceOf(Array)};var Z=Y;function ee(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(n){var a=o.authenticatedUser.isAuthenticated,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)([]),2),c=i[0],l=i[1];return(0,e.useEffect)((function(){a&&function(){var e={url:"".concat(U,"/v1/sponsored-pages"),withCredentials:!0};return r.httpService.get(e).then((function(e){return null==e?void 0:e.data})).catch((function(e){console.error(e)}))}().then((function(e){e=(null!==(e=null==e?void 0:e.data)&&void 0!==e?e:[]).filter((function(e){var t,n;return!(null!=e&&null!==(t=e.name)&&void 0!==t&&t.includes("giftcards")||null!=e&&null!==(n=e.title)&&void 0!==n&&n.includes("giftcards"))})),l(e)}),(function(e){console.debug(e)}))}),[a]),t().createElement(Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sponsoredPagesData:c},n))}A=angular;var re=n.n(A);function ae(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e){var t=(r=de(ge())).host,n=r.hostname,r=(a=de(e,!1,!0)).host,a=a.hostname;return e&&r&&r===t||a&&a===n||!r&&!a}function ue(){return function(){var e={url:"".concat(R,"/v2/logout"),withCredentials:!0};return r.httpService.post(e)}().then((function(){window.location.href=he()}))}var se=j.universalSearchUrls,me=j.newUniversalSearchUrls,fe=j.avatarSearchLink,pe=r.urlService.getQueryParam,de=r.urlService.parseUrl,ve=r.urlService.composeQueryString,be=E,ye=I,ge=k,he=N,Se=u,Ee=l,we=!o.authenticatedUser.isAuthenticated,Oe=(I=function(){var e=o.authenticatedUser.created;return Promise.all([_(),G()]).then((function(t){var n=oe(t,2),r=n[0].data.verified,a=n[1].data.valid;return t=e,n=r,r=new Date,t=new Date(t),+(Se<(r-t)/864e5&&!n)+ +!a})).catch((function(e){console.debug(e)}))},k=function(){var e=pe("returnUrl")||window.location.href,t=be();return le(e)?"".concat(t,"?").concat(ve({returnUrl:e})):t},N=function(){var e=pe("returnUrl")||window.location.href,t=ye();return le(e)?"".concat(t,"?").concat(ve({returnUrl:e})):t},u=function(e){e.stopPropagation(),e.preventDefault(),document.dispatchEvent(new CustomEvent(Ee.name)),re().isUndefined(re().element("#chat-container").scope())||(e=re().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")),null!==C.EmailVerificationService&&void 0!==C.EmailVerificationService&&C.EmailVerificationService.handleUserEmailUpsellAtLogout(ue).then((function(e){e&&!e.emailAddress||ue()}))},function(e){C.EventStream&&C.EventStream.SendEventWithTarget(e,"click",{},C.EventStream.TargetTypes.WWW)}),xe=function(e){if(we||!C.RealTime)return function(){};document.addEventListener(f,e);var t=C.RealTime.Factory.GetClient();return t.Subscribe(m,e),function(){document.removeEventListener(f,e),t.Unsubscribe(m,e)}},Ce=function(e){return we||!C.RealTime?function(){}:(document.addEventListener(p,e),function(){document.removeEventListener(p,e)})},Ae=function(){var e;return null!==(e=(null===(e=window)||void 0===e?void 0:e.innerWidth)<543)&&e},Ie=(l=function(){var e;return!(e=null!==(e=null==(e=(null===(e=window)||void 0===e?void 0:e.location).pathname)?void 0:e.toLowerCase())&&void 0!==e?e:"").startsWith("/login")&&!e.startsWith("/newlogin")},function(){var e=ae(se);return e.sort((function(e){return e.pageSort.reduce((function(e,t){return e||-1<window.location.href.indexOf(t)}),!1)?-1:1})),e}),Ne=function(){var e=(t=ae(me)).filter((function(e){return e.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)}))})),t=t.filter((function(e){return e.pageSort.every((function(e){return-1===window.location.pathname.indexOf(e)}))}));return[].concat(ae(e),ae(t))},ke=function(){return document.getElementById("navigation-container")&&document.getElementById("navigation-container").className};function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Te(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=s;function Ue(n){var r=n.translate,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,["translate"]),o=(s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],i=s[1],c=(0,e.useCallback)((function(){i((function(e){return!e})),Oe(Pe.clickMerchandise)}),[]),l=function(){i(!1)},u=Object.values(j.scrollListItems).map((function(e){return t().createElement(W,je({key:e.name},Re(Re({translate:r,onClickShopLink:c},e),a)))})),s=(n=t().createElement("li",{className:"rbx-upgrade-now"},t().createElement("a",{href:j.upgradeButton.url,className:"btn-growth-md btn-secondary-md",id:"upgrade-now-button"},r(j.upgradeButton.labelTranslationKey))),t().createElement(t().Fragment,null,t().createElement("p",{className:"shop-description"},r("Description.RetailWebsiteRedirect")),t().createElement("p",{className:"shop-warning"},r("Description.PurchaseAgeWarning"))));l=t().createElement(O.SimpleModal,{title:r("Heading.LeavingRoblox"),body:s,show:o,actionButtonShow:!0,actionButtonText:r("Action.Continue"),neutralButtonText:r("Action.Cancel"),onAction:function(){var e=decodeURIComponent(C.EnvironmentUrls.amazonWebStoreLink);window.open(e,"_blank"),Oe(Pe.goToAmazonStore)},onNeutral:l,onClose:l});return t().createElement("ul",{className:"left-col-list"},u,n,t().createElement(ne,{translate:r}),l)}Ue.defaultProps={sponsoredPagesData:[]},Ue.propTypes={sponsoredPagesData:S().instanceOf(Array),translate:S().func.isRequired};var qe=Ue;function De(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(n){var a=o.authenticatedUser.isAuthenticated,i=Me((0,e.useState)({}),2),c=i[0],l=i[1],u=(m=Me((0,e.useState)({}),2))[0],s=m[1],m=(i=Me((0,e.useState)({}),2))[0],f=i[1];return(0,e.useEffect)((function(){var e=function(){},t=function(){};return a&&(e=xe((function(){Q().then((function(e){e=e.data,l(e)}),(function(e){console.debug(e)}))})),t=Ce((function(){B().then((function(e){e=e.data,s(e)}))})),Q().then((function(e){e=e.data,l(e)}),(function(e){console.debug(e)})),B().then((function(e){e=e.data,s(e)}),(function(e){console.debug(e)})),function(){var e={url:"".concat(M,"/v1/trades/inbound/count"),withCredentials:!0};return r.httpService.get(e)}().then((function(e){e=e.data,f(e)}),(function(e){console.debug(e)}))),function(){e(),t()}}),[]),t().createElement(qe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({friendsData:c,messagesData:u,tradeData:m},n))}A=o.authenticatedUser.name,E=o.authenticatedUser.displayName;var Be={nameForDisplay:null!==C.DisplayNames&&void 0!==C.DisplayNames&&C.DisplayNames.Enabled()?E:A,nameForHeader:null!==C.DisplayNames&&void 0!==C.DisplayNames&&C.DisplayNames.Enabled()?r.concatTexts.concat(["",A]):A};function Qe(e){var n=e.isLeftNavOpen;e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["isLeftNavOpen"]),n=w()("rbx-left-col",{"nav-show":n});return t().createElement("div",{id:"navigation",className:n},t().createElement("ul",null,t().createElement("li",{key:"username"},t().createElement(O.Link,{className:"dynamic-overflow-container text-nav",role:"link",url:j.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(x.Thumbnail2d,{containerClass:"avatar-card-image",targetId:o.authenticatedUser.id,type:x.ThumbnailTypes.avatarHeadshot,altName:o.authenticatedUser.name})),t().createElement("div",{className:"font-header-2 dynamic-ellipsis-item"},Be.nameForDisplay))),t().createElement("li",{key:"divider",className:"rbx-divider"})),t().createElement(O.ScrollBar,{className:"rbx-scrollbar"},t().createElement(Fe,e)))}Qe.propTypes={isLeftNavOpen:S().bool.isRequired};var Ge=Qe;function _e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $e=d;function ze(){return document.getElementById("navigation-container")}var He,We=(0,i.withTranslations)((function(n){var r=o.authenticatedUser.isAuthenticated,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),i=a[0],c=a[1],l=(0,e.useCallback)((function(){c(!i)}),[i]);return(0,e.useEffect)((function(){return document.addEventListener($e.name,l),function(){document.removeEventListener($e.name,l)}}),[l]),r?t().createElement(Ge,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isLeftNavOpen:i},n)):null}),g),Je=(s=C.EnvironmentUrls.apiGatewayUrl,C.EnvironmentUrls.localeApi,{debounceTimeout:100,debouncedSearchInputMaxLength:35,expiryTimeout:5e3,variationId:1,trendingVariationId:0,avatarAutocompleteQueryPaddingAmount:10,requestSuggestionUrl:{url:s+"/games-autocomplete/v1/request-suggestion",withCredentials:!0},avatarRequestSuggestionUrl:{url:s+"/autocomplete-avatar/v2/suggest",withCredentials:!0},englishLanguageCode:"en",avatarAutocompleteUrlLocations:["Catalog","Trades","Inventory","Avatar","CatalogItem"],avatarAutocompleteSuggestionLimit:5,isSpecialTreatmentAutocompleteRestricted:function(){return 7===parseInt(ze().dataset.numberOfAutocompleteSuggestions,10)&&j.miscSearchLink.reduce((function(e,t){return e.push.apply(e,t.pageSort),e}),[]).reduce((function(e,t){return e||-1<window.location.pathname.indexOf(t)}),!1)},isSpecialTreatment:function(){var e;return 7===parseInt(null===(e=ze())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfSpecialTreatmentAutocompleteSuggestions:3,isAutocompleteSuggestionsIXPTestEnabled:function(){var e;return 0<parseInt(null===(e=ze())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfAutocompleteSuggestions:function(){var e;return parseInt(null===(e=ze())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)||0}}),Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ye=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function c(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Ze=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},et=r.httpService.createCancelToken();function tt(e){return void 0===(null==e?void 0:e.label)}function nt(e){return void 0!==(null==e?void 0:e.Query)}function rt(e){if(nt(e))return"avatar";switch(e.type){case He.QuerySuggestion:return"keyword";case He.GameSuggestion:return"game";default:throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e)))}}function at(e){switch(e.label){case"Label.Players":return"defaultPlayers";case"Label.AvatarShop":case"Label.sCatalog":return"defaultShops";case"Label.sGroups":return"defaultGroups";case"Label.CreatorMarketplace":return"defaultLibrary";case"Label.Experience":return"defaultGames";default:throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e)))}}(s=He=He||{})[s.GameSuggestion=0]="GameSuggestion",s[s.QuerySuggestion=1]="QuerySuggestion",s[s.TrendingQuerySuggestion=2]="TrendingQuerySuggestion";var ot=function(e){return Ye(void 0,void 0,Promise,(function(){var t;return Ze(this,(function(n){switch(n.label){case 0:return t={prefix:e.toLowerCase(),variationId:Je.variationId,trendingSearchId:Je.trendingVariationId},et.cancel(),et=r.httpService.createCancelToken(),[4,r.httpService.post(Xe(Xe({},Je.requestSuggestionUrl),{timeout:Je.expiryTimeout,cancelToken:et.token,fullError:!0}),t)];case 1:return[2,n.sent().data]}}))}))},it=function(e,t,n){return Ye(void 0,void 0,Promise,(function(){var a;return Ze(this,(function(o){switch(o.label){case 0:return null===(a=t)&&(a=Je.englishLanguageCode),a={prefix:e.toLowerCase(),limit:n,lang:a},et.cancel(),et=r.httpService.createCancelToken(),[4,r.httpService.get(Xe(Xe({},Je.avatarRequestSuggestionUrl),{timeout:Je.expiryTimeout,cancelToken:et.token,fullError:!0}),a)];case 1:return[2,o.sent().data]}}))}))},ct=tt,lt=nt,ut=rt,st=at,mt=function(){var e=(new C.TranslationResourceProvider).intl.locale,t=e.indexOf("-");return(e=e.substring(0,-1!==t?t:e.length))!==Je.englishLanguageCode&&(e+=",".concat(Je.englishLanguageCode)),e},ft=function(e,t){return e.map((function(e){return tt(e)?"".concat(rt(e),"|").concat(e.searchQuery):"".concat(at(e),"|").concat(t)})).join(",")},pt=V.eventStreamService.eventTypes,dt="searchAutocomplete",vt={actionTypes:{open:"open",submit:"submit",close:"close"},generateSessionInfo:r.uuidService.generateRandomUuid,searchTextTrim:function(e,t,n,r){return[{name:"searchTextTrim",type:pt.formInteraction,context:dt},{kwd:e,resultingKwd:t,searchType:n,sessionInfo:r}]},searchClear:function(e,t,n,r){return[{name:"searchClear",type:pt.formInteraction,context:dt},{kwd:e,searchType:t,sessionInfo:n,page:r}]},searchSuggestionClicked:function(e,t,n,r,a,o,i){return[{name:"searchSuggestionClicked",type:pt.formInteraction,context:dt},{kwd:e,searchType:t,suggestionPosition:n,suggestionClicked:r,suggestionType:a,suggestions:o,sessionInfo:i}]},searchAutocomplete:function(e,t,n,r,a,o,i,c,l){return[{name:"searchAutocomplete",type:pt.formInteraction,context:dt},{kwd:e,previousKwd:t,fromLocalCache:n,suggestions:r,algorithm:a,latency:o,timeoutDelayMs:i,sessionInfo:c,page:l}]},search:function(e,t,n){return[{name:"search",type:pt.formInteraction,context:dt},{kwd:e,actionType:t,sessionInfo:n}]},catalogSearch:function(e,t){return[{name:"catalogSearch",type:pt.formInteraction,context:dt},{autocompleteFlag:e,previousPage:t}]}};function bt(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e){var n,r=e.translate,a=e.searchInput,o=e.indexOfSelectedOption,i=e.autocompleteSessionInfo,c=e.resetAutocompleteSessionInfo,l=Ie();return t().createElement(t().Fragment,null,Object.entries(l).map((function(e){var u=(m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0],s=m[1],m=(e=s.url,s.label);return"Label.sCatalog"===(n=m)&&(n="Label.AvatarShop"),m=w()("navbar-search-option rbx-clickable-li",parseInt(u,10)===o?" selected":""),t().createElement("li",{key:u,className:m},t().createElement(O.Link,{className:"navbar-search-anchor",url:e+a,onClick:function(){V.eventStreamService.sendEvent.apply(V.eventStreamService,function(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(vt.searchSuggestionClicked(a,void 0,u,a,st(s),ft(l,a),i))),c()}},r("Label.sSearchPhrase",{phrase:a,location:r(n)})))})))}gt.propTypes={translate:S().func.isRequired,searchInput:S().string.isRequired,indexOfSelectedOption:S().number.isRequired,autocompleteSessionInfo:S().string.isRequired,resetAutocompleteSessionInfo:S().func.isRequired};var ht=gt;function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=j.gameSearchLink,wt=j.avatarSearchLink;function Ot(n){var r=n.translate,a=n.selected,o=n.suggestion,i=n.onClick,c=w()("navbar-search-option rbx-clickable-li",{"new-selected":a}),l=o.type,u=o.universeId,s=(n=o.searchQuery,o=(a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],a[1]);return l===He.GameSuggestion?t().createElement("li",{className:c},t().createElement(O.Link,{className:"new-navbar-search-anchor",url:Et.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:w()(Et.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(Et.label)})),t().createElement("span",{className:w()("navbar-list-option-thumbnail",{"navbar-list-option-thumbnail-visible":o})},t().createElement("span",{className:"background-icon"}),t().createElement(x.Thumbnail2d,{type:x.ThumbnailTypes.gameIcon,size:x.DefaultThumbnailSize,targetId:u,containerClass:"thumbnail-icon",format:x.ThumbnailFormat.jpeg,onLoad:function(){s(!0)}})))):t().createElement("li",{className:c},t().createElement(O.Link,{className:"new-navbar-search-anchor",url:Et.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:w()(Et.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(Et.label)}))))}function xt(e){var n=e.translate,r=e.selected,a=e.suggestion;e=e.onClick,r=w()("navbar-search-option rbx-clickable-li",{"new-selected":r}),a=a.Query;return t().createElement("li",{className:r},t().createElement(O.Link,{className:"new-navbar-search-anchor",url:wt.url+encodeURIComponent(a),onClick:e},t().createElement("span",{className:w()(wt.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(wt.label)}))))}function Ct(e){var n=e.translate,r=e.selected,a=e.searchInput,o=e.suggestion,i=e.onClick,c=o.url;e=o.label,o=o.icon,r=w()("navbar-search-option rbx-clickable-li",{"new-selected":r});return t().createElement("li",{className:r},t().createElement(O.Link,{className:"new-navbar-search-anchor",url:c+encodeURIComponent(a),onClick:i},t().createElement("span",{className:w()(o,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a.toLowerCase()),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(e)}))))}function At(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e){function n(e,t){return function(){var n=c[t];V.eventStreamService.sendEvent.apply(V.eventStreamService,At(vt.searchSuggestionClicked(o,void 0,t,ct(n)?n.searchQuery:o,e,ft(c,o),l))),u(),n=e.includes("default")?0:1,V.eventStreamService.sendEvent.apply(V.eventStreamService,At(vt.catalogSearch(n,r.pageName.PageNameProvider.getInternalPageName())))}}var a=e.translate,o=e.searchInput,i=e.indexOfSelectedOption,c=e.searchSuggestions,l=e.autocompleteSessionInfo,u=e.resetAutocompleteSessionInfo;return c.map((function(e,r){var c=parseInt(r,10)===i;return ct(e)&&lt(e)?t().createElement(xt,{key:e.Query,translate:a,selected:c,suggestion:e,onClick:n(ut(e),r)}):ct(e)?t().createElement(Ot,{key:e.searchQuery,translate:a,selected:c,suggestion:e,onClick:n(ut(e),r)}):t().createElement(Ct,{key:e.url,translate:a,selected:c,suggestion:e,searchInput:o,onClick:n(st(e),r)})}))}Ot.propTypes={translate:S().func.isRequired,selected:S().bool.isRequired,suggestion:S().shape({type:S().number.isRequired,score:S().number.isRequired,universeId:S().number,canonicalTitle:S().string,thumbnailUrl:S().string,searchQuery:S().string.isRequired,trendingSearchStartDateTime:S().string}).isRequired,onClick:S().func.isRequired},xt.propTypes={translate:S().func.isRequired,selected:S().bool.isRequired,suggestion:S().shape({Query:S().string}).isRequired,onClick:S().func.isRequired},Ct.propTypes={translate:S().func.isRequired,selected:S().bool.isRequired,searchInput:S().string.isRequired,suggestion:S().shape({url:S().string.isRequired,label:S().string.isRequired,pageSort:S().arrayOf(S().string).isRequired,icon:S().string.isRequired}).isRequired,onClick:S().func.isRequired},Nt.propTypes={translate:S().func.isRequired,searchInput:S().string.isRequired,indexOfSelectedOption:S().number.isRequired,searchSuggestions:S().arrayOf(S().oneOfType([S().shape({type:S().number.isRequired,score:S().number.isRequired,universeId:S().number.isRequired,canonicalTitle:S().string,thumbnailUrl:S().string,searchQuery:S().string.isRequired,trendingSearchStartDateTime:S().string}),S().shape({url:S().string.isRequired,label:S().string.isRequired,pageSort:S().arrayOf(S().string).isRequired,icon:S().string.isRequired}),S().shape({Query:S().string.isRequired,Score:S().number.isRequired})])).isRequired,autocompleteSessionInfo:S().string.isRequired,resetAutocompleteSessionInfo:S().func.isRequired};var kt=Nt;function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(n){var a=n.translate,o=n.searchInput,c=n.isMenuOpen,l=n.openMenu,u=n.closeMenu,s=n.handleSearch,m=n.setIsMenuHover,f=n.indexOfSelectedOption,p=n.onSubmit,d=n.onKeyDown,v=n.onKeyUp,b=n.isUniverseSearchShown,y=n.searchSuggestions,g=n.autocompleteSessionInfo,h=n.resetAutocompleteSessionInfo,S=n.isAvatarAutocompleteEnabled,E=(0,e.createRef)(),O=(0,e.createRef)();n=function(){var e;V.eventStreamService.sendEvent.apply(V.eventStreamService,function(e){return function(e){if(Array.isArray(e))return jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(vt.searchClear(o,void 0,g,null===r.pageName||void 0===r.pageName||null===(e=r.pageName.PageNameProvider)||void 0===e?void 0:e.getInternalPageName()))),null==E||null!==(e=E.current)&&void 0!==e&&e.focus(),s({target:{value:""}})},b=w()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3",{"navbar-search-open":c,shown:b}),S=Je.isAutocompleteSuggestionsIXPTestEnabled()||S;return(0,i.useOnClickOutside)([E,O],u),t().createElement("div",{"data-testid":"navigation-search-input",className:b,role:"search"},t().createElement("div",{className:"input-group"},t().createElement("form",{onSubmit:p},S?t().createElement("div",{className:"form-has-feedback"},t().createElement("input",{ref:E,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field new-input-field",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:l,onKeyDown:d,onKeyUp:v,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),0<o.length&&t().createElement("span",{"data-testid":"navigation-search-input-clear-button",tabIndex:0,role:"button","aria-label":"Clear Search",onClick:n,onKeyDown:n,className:"clear-search icon-actions-clear-sm"},t().createElement("span",null))):t().createElement("input",{ref:E,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field",type:"text",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:l,onKeyDown:d,onKeyUp:v,autoComplete:"off"})),t().createElement("div",{className:"input-group-btn"},t().createElement("button",{"data-testid":"navigation-search-input-search-button",className:"input-addon-btn",type:"submit"},t().createElement("span",{className:"icon-common-search-sm"})))),t().createElement("ul",{ref:O,className:w()("dropdown-menu",{"new-dropdown-menu":S}),role:"menu",onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)}},S?t().createElement(kt,{translate:a,searchInput:o,indexOfSelectedOption:f,searchSuggestions:y,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h}):t().createElement(ht,{translate:a,searchInput:o,indexOfSelectedOption:f,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h})))}Tt.defaultProps={isUniverseSearchShown:!0,isAvatarAutocompleteEnabled:!1},Tt.propTypes={translate:S().func.isRequired,searchInput:S().string.isRequired,isMenuOpen:S().bool.isRequired,openMenu:S().func.isRequired,closeMenu:S().func.isRequired,handleSearch:S().func.isRequired,setIsMenuHover:S().func.isRequired,indexOfSelectedOption:S().number.isRequired,onSubmit:S().func.isRequired,onKeyDown:S().func.isRequired,onKeyUp:S().func.isRequired,isUniverseSearchShown:S().bool,isAvatarAutocompleteEnabled:S().bool,searchSuggestions:S().arrayOf(S().oneOfType([S().shape({type:S().number.isRequired,score:S().number.isRequired,universeId:S().number.isRequired,canonicalTitle:S().string,thumbnailUrl:S().string,searchQuery:S().string.isRequired,trendingSearchStartDateTime:S().string}),S().shape({url:S().string.isRequired,label:S().string.isRequired,pageSort:S().arrayOf(S().string).isRequired,icon:S().string}),S().shape({query:S().string.isRequired,score:S().number.isRequired})])).isRequired,autocompleteSessionInfo:S().string.isRequired,resetAutocompleteSessionInfo:S().func.isRequired};var Rt=Tt;function Lt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Pt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mt(n){function a(e){if(e){if(R){var t=-1===p.findIndex((function(e){return e.searchQuery===m.toLowerCase()&&lt(e)})),n=e.filter((function(e){return e.searchQuery!==m.toLowerCase()||lt(e)}));return[].concat(Pt(A.slice(0,t?k+1:k)),Pt(n),Pt(A.slice(k+1)))}return Je.isSpecialTreatmentAutocompleteRestricted()?A:(n=-1===e.findIndex((function(e){return e.searchQuery===m.toLowerCase()&&e.type===He.GameSuggestion})),e=e.filter((function(e){return e.searchQuery!==m.toLowerCase()||e.type===He.GameSuggestion})).slice(0,Je.isSpecialTreatment()?Je.numberOfSpecialTreatmentAutocompleteSuggestions:Je.numberOfAutocompleteSuggestions()),[].concat(Pt(A.slice(0,n?N+1:N)),Pt(e),Pt(A.slice(N+1))))}return A}var o=n.translate,l=n.isUniverseSearchShown,u=(w=Ut((0,e.useState)(function(e){var t={};return("?"===e[0]?e.substr(1):e).split("&").forEach((function(e){var n;e.includes("=")&&(e=(n=oe(e.split("="),2))[0],n=n[1],t[null===(e=decodeURIComponent(e))||void 0===e?void 0:e.toLowerCase()]=decodeURIComponent(n))})),t}(window.location.search).keyword||""),2))[0],s=w[1],m=(0,i.useDebounce)(u,Je.debounceTimeout),f=(0,i.usePrevious)(m),p=(n=Ut((0,e.useState)(null),2))[0],d=n[1],v=(w=Ut((0,e.useState)(vt.generateSessionInfo()),2))[0],b=w[1],y=(n=Ut((0,e.useState)(!1),2))[0],g=n[1],h=(w=Ut((0,e.useState)(!0),2))[0],S=w[1],E=(n=Ut((0,e.useState)(!1),2))[0],w=n[1],O=(n=Ut((0,e.useState)(0),2))[0],x=n[1],C=c,A=(n=Ut((0,e.useState)((Je.isAutocompleteSuggestionsIXPTestEnabled()?Ne:Ie)()),2))[0],I=n[1],N=A.findIndex((function(e){return e.label===j.gameSearchLink.label})),k=Ne().findIndex((function(e){return e.label===j.avatarSearchLink.label})),T=mt(),R=fe.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)})),L=(0,e.useMemo)((function(){return a(p)}),[p,A]),P=L.length;function U(){b(vt.generateSessionInfo())}return(0,e.useEffect)((function(){h||V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.search(u,vt.actionTypes.submit,v))),S(!1);var e=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==m&&m.length<=Je.debouncedSearchInputMaxLength)){e.next=33;break}if(d(null),t=Date.now(),R)return e.prev=4,n=Date.now(),e.next=8,it(m,T,Je.avatarAutocompleteQueryPaddingAmount);e.next=19;break;case 8:i=e.sent,c=function(e,t){var n=0,r=[];return e.forEach((function(e){n<Je.avatarAutocompleteSuggestionLimit&&e.Query!==t&&(r.push(e),n+=1)})),r}(i.Data,m),V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.searchAutocomplete(m,f,!1,c,i.Args.Algo,n-t,Je.debounceTimeout,"",r.pageName.PageNameProvider.getInternalPageName()))),d(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r.httpService.isCancelled(e.t0)||d([]);case 17:e.next=33;break;case 19:if(Je.isAutocompleteSuggestionsIXPTestEnabled())return e.prev=20,e.next=23,ot(m);e.next=33;break;case 23:o=e.sent,i=Date.now(),c=a(o.entries),V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.searchAutocomplete(m,f,!1,ft(c,m),o.algorithmName,i-t,Je.debounceTimeout,v,r.pageName.PageNameProvider.getInternalPageName()))),d(o.entries),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(20),r.httpService.isCancelled(e.t1)||d([]);case 33:case"end":return e.stop()}}),e,null,[[4,14],[20,30]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Lt(o,r,a,i,c,"next",e)}function c(e){Lt(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();R&&I(Ne()),e()}),[m]),t().createElement(Rt,{searchInput:u,handleSearch:function(e){(e=e.target.value).length<u.length&&V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.searchTextTrim(u,e,void 0,v))),0===e.length&&U(),x(0),g(0<e.length),s(e)},openMenu:function(){var e=vt.generateSessionInfo();V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.search(u,vt.actionTypes.open,e))),b(e),0===u.length||E||g(!0)},closeMenu:function(){y&&(V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.search(u,vt.actionTypes.close,v))),g(!1))},setIsMenuHover:w,isMenuOpen:y,indexOfSelectedOption:O,onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=O;!y||e.keyCode!==C.arrowUp&&e.keyCode!==C.arrowDown&&e.keyCode!==C.tab||(e.stopPropagation(),e.preventDefault(),e.keyCode===C.arrowUp?--t:t+=1,(t%=P)<0&&(t=P+t),x(t))},onKeyUp:function(e){var t;e.keyCode===C.enter&&(e.stopPropagation(),e.preventDefault(),t=L[O],ct(t)?(V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.searchSuggestionClicked(m,void 0,O,t.searchQuery,ut(t),ft(L,u),v))),V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.catalogSearch(1,r.pageName.PageNameProvider.getInternalPageName())))):(V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.searchSuggestionClicked(m,void 0,O,m,st(t),ft(L,u),v))),V.eventStreamService.sendEvent.apply(V.eventStreamService,Pt(vt.catalogSearch(0,r.pageName.PageNameProvider.getInternalPageName())))),U(),(e=function(e,t){var n;return tt(e)&&nt(e)?j.avatarSearchLink.url+encodeURIComponent(e.Query):tt(e)?j.gameSearchLink.url+encodeURIComponent(e.searchQuery):null!=t&&null!==(n=t.target)&&void 0!==n&&n.value?e.url+encodeURIComponent(t.target.value):""}(t,e))&&(window.location=e))},isUniverseSearchShown:l,translate:o,searchSuggestions:L,autocompleteSessionInfo:v,resetAutocompleteSessionInfo:U,isAvatarAutocompleteEnabled:R})}Mt.defaultProps={isUniverseSearchShown:!0},Mt.propTypes={translate:S().func.isRequired,isUniverseSearchShown:S().bool};var Kt=(0,i.withTranslations)(Mt,g);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);return n=t?(n=Gt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==Ft(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{re().module("notificationStreamIcon"),re().bootstrap(this.container,["notificationStreamIcon"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this;return t().createElement("span",{ref:function(t){e.container=t},className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"}))}}])&&Bt(e.prototype,n),a}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);return n=t?(n=Ht(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==Vt(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{re().module("notificationStream"),re().bootstrap(this.container,["notificationStream"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this,n=ke();n=w()("notification-stream-base",n);return t().createElement("div",{ref:function(t){e.container=t},className:n,"notification-stream-base-view":"true"})}}])&&$t(e.prototype,n),a}(),Jt="nsCloseContent",Xt="click",Yt={},Zt="Navigation.useNotificationBellIcon";function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(){var n=(0,e.useRef)(),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),a=r[0],o=r[1];return(0,e.useEffect)((function(){if(null===localStorage.getItem(Zt))try{C.ExperimentationService.getAllValuesForLayer("Notifications.NotificationCenterIcon").then((function(e){var t=!1;void 0!==e.useNotificationBellIcon&&(t=e.useNotificationBellIcon),localStorage.setItem(Zt,t),o(JSON.parse(localStorage.getItem(Zt)))}))}catch(e){localStorage.setItem(Zt,!1)}else"undefined"===localStorage.getItem(Zt)||"null"===localStorage.getItem(Zt)?(localStorage.removeItem(Zt),o(!1)):o(JSON.parse(localStorage.getItem(Zt)))}),[]),t().createElement("li",{id:"navbar-stream",ref:n,className:"navbar-icon-item navbar-stream"},t().createElement(O.Popover,{id:"notification-stream-popover",trigger:"click",placement:"bottom",closeOnClick:!1,button:t().createElement("button",{type:"button",className:a?"btn-uiblox-common-common-notification-bell-md":"btn-navigation-nav-notification-stream-md"},t().createElement(_t,null)),container:n.current,onExit:function(){window.dispatchEvent(new Event("Roblox.NotificationStream.StreamClosed")),V.eventStreamService.sendEventWithTarget(Jt,Xt,Yt)},role:"menu"},t().createElement(Wt,null)))}tn.propTypes={};var nn=tn;function rn(e){var n=e.accountNotificationCount;e=w()("notification-red notification nav-setting-highlight",{hidden:0===n});return t().createElement("span",{id:"settings-icon",className:"nav-settings-icon rbx-menu-item"},t().createElement("span",{className:"icon-nav-settings roblox-popover-close",id:"nav-settings"}),t().createElement("span",{className:e},n))}rn.defaultProps={accountNotificationCount:0},rn.propTypes={accountNotificationCount:S().number};var an=rn;function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cn=j.settingsUrl,ln=j.quickLoginUrl,un=u,sn=v,mn=y,fn=b;function pn(e){var n=e.translate,r=e.accountNotificationCount,a=e.isCrossDeviceLoginCodeValidationDisplayed,o=w()("notification-blue notification nav-setting-highlight",{hidden:0===r});return Object.entries(cn).map((function(e){var i=(c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0],c=(e=c[1]).url;e=e.label;return t().createElement("li",null,i===fn&&t().createElement(O.Link,{className:"rbx-menu-item logout-menu-item",key:i,onClick:un,url:"#"},n(e)),i===sn&&a&&t().createElement(O.Link,{className:"rbx-menu-item",key:i,url:ln},n(e)),i!==fn&&i!==sn&&t().createElement(O.Link,{cssClasses:"rbx-menu-item",key:i,url:c},n(e),i===mn&&t().createElement("span",{className:o},r)))}))}pn.defaultProps={accountNotificationCount:0,isCrossDeviceLoginCodeValidationDisplayed:!1},pn.propTypes={translate:S().func.isRequired,accountNotificationCount:S().number,isCrossDeviceLoginCodeValidationDisplayed:S().bool};var dn=pn;function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(n){var r=n.translate,a=n.accountNotificationCount,o=(n=(i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],i[1]),i=(0,e.useRef)();return(0,e.useEffect)((function(){o(!0)}),[]),t().createElement("li",{id:"navbar-settings",ref:i,className:"navbar-icon-item"},t().createElement(O.Popover,{id:"settings-popover",trigger:"click",placement:"bottom",className:ke(),containerPadding:20,button:t().createElement("button",{type:"button",className:"btn-navigation-nav-settings-md"},t().createElement(an,{accountNotificationCount:a})),container:i.current,role:"menu"},t().createElement("div",{className:ke()},t().createElement("ul",{id:"settings-popover-menu",className:"dropdown-menu"},t().createElement(dn,{isCrossDeviceLoginCodeValidationDisplayed:n,translate:r,accountNotificationCount:a})))))}bn.defaultProps={accountNotificationCount:0},bn.propTypes={translate:S().func.isRequired,accountNotificationCount:S().number};var yn=bn;function gn(n){var a=n.robuxAmount,o=n.isGetCurrencyCallDone;a=(n=n.robuxError)?"?":r.abbreviateNumber.getTruncValue(a),a=t().createElement(e.Fragment,null,t().createElement("span",{className:"icon-robux-28x28 roblox-popover-close",id:"nav-robux"}),t().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},o&&a));return t().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item"},n?t().createElement(O.Tooltip,{id:"current-error",content:n,placement:"bottom",containerClassName:"nav-buy-robux-icon-tooltip-container"},a):a)}gn.defaultProps={robuxAmount:0,robuxError:""},gn.propTypes={robuxAmount:S().number,robuxError:S().string,isGetCurrencyCallDone:S().bool.isRequired};var hn=gn,Sn=j.buyRobuxUrl;function En(e){var n=e.translate,a=e.robuxAmount,o=e.isGetCurrencyCallDone;a=e.robuxError?"?":r.numberFormat.getNumberFormat(a);return t().createElement(t().Fragment,null,t().createElement("li",null,t().createElement(O.Link,{cssClasses:"rbx-menu-item",id:"nav-robux-balance",url:Sn.robuxBalance.url},o&&n("Label.sRobuxMessage",{robuxValue:a}))),t().createElement("li",null,t().createElement(O.Link,{cssClasses:"rbx-menu-item",url:Sn.buyRobux.url},n(Sn.buyRobux.label))))}En.defaultProps={robuxAmount:0,robuxError:""},En.propTypes={translate:S().func.isRequired,robuxAmount:S().number,robuxError:S().string,isGetCurrencyCallDone:S().bool.isRequired};var wn=En;function On(n){var r=n.translate,a=n.robuxAmount,o=n.isGetCurrencyCallDone,i=n.robuxError;n=(0,e.useRef)();return t().createElement("li",{id:"navbar-robux",ref:n,className:"navbar-icon-item"},t().createElement(O.Popover,{id:"buy-robux-popover",trigger:"click",placement:"bottom",button:t().createElement("button",{type:"button",className:"btn-navigation-nav-robux-md"},t().createElement(hn,{robuxAmount:a,isGetCurrencyCallDone:o,robuxError:i})),role:"menu",container:n.current},t().createElement("div",{className:ke()},t().createElement("ul",{id:"buy-robux-popover-menu",className:"dropdown-menu"},t().createElement(wn,{translate:r,robuxAmount:a,isGetCurrencyCallDone:o,robuxError:i})))))}On.defaultProps={robuxAmount:0,robuxError:""},On.propTypes={translate:S().func.isRequired,robuxAmount:S().number,robuxError:S().string,isGetCurrencyCallDone:S().bool.isRequired};var xn=On;function Cn(e){return e=e.toggleUniverseSearch,t().createElement("li",{className:"rbx-navbar-right-search"},t().createElement("button",{type:"button",className:"rbx-menu-item btn-navigation-nav-search-white-md",onClick:e},t().createElement("span",{className:"icon-nav-search-white"})))}Cn.propTypes={toggleUniverseSearch:S().func.isRequired};var An=Cn;function In(){var e=o.authenticatedUser.isUnder13;return t().createElement("div",{className:"age-bracket-label text-header"},t().createElement(O.Link,{className:"text-link dynamic-overflow-container",url:j.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(x.Thumbnail2d,{containerClass:"avatar-card-image",targetId:o.authenticatedUser.id,type:x.ThumbnailTypes.avatarHeadshot,altName:o.authenticatedUser.name})),t().createElement("span",{className:"text-overflow age-bracket-label-username font-caption-header"},Be.nameForHeader)),t().createElement("span",{className:"xsmall age-bracket-label-age text-secondary"},e?"<13":"13+"))}In.propTypes={};var Nn=In;function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tn=I;function Rn(n){var a,i=n.translate,c=n.toggleUniverseSearch,l=o.authenticatedUser.isAuthenticated,u=o.authenticatedUser.id,s=(d=kn((0,e.useState)(0),2))[0],m=d[1],f=(a=kn((0,e.useState)(!1),2))[0],p=a[1],d=(n=kn((0,e.useState)(0),2))[0],v=n[1],b=(n=(a=kn((0,e.useState)(""),2))[0],a[1]);(0,e.useEffect)((function(){l&&(Tn().then(m),function(e){return e={url:F(e),withCredentials:!0},r.httpService.get(e)}(u).then((function(e){e=e.data,v(e.robux)}),(function(){b("Currency service unavailable")})).finally((function(){p(!0)})))}),[l,u]);var y=t().createElement("li",{id:"navbar-stream",className:"navbar-icon-item navbar-stream"},t().createElement("span",{className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"})));try{re().module("notificationStreamIcon"),re().module("notificationStream"),y=t().createElement(nn,null)}catch(n){console.log(n)}return t().createElement("ul",{className:"nav navbar-right rbx-navbar-icon-group"},t().createElement(Nn,null),t().createElement(An,{translate:i,toggleUniverseSearch:c}),y,t().createElement(xn,{translate:i,robuxAmount:d,isGetCurrencyCallDone:f,robuxError:n}),t().createElement(yn,{translate:i,accountNotificationCount:s}))}function Ln(){window.location.href=Un()}Rn.defaultProps={accountNotificationCount:0},Rn.propTypes={translate:S().func.isRequired,accountNotificationCount:S().number,toggleUniverseSearch:S().func.isRequired};var Pn=Rn,Un=k;function qn(e){return e=e.translate,t().createElement("li",{className:"signup-button-container"},t().createElement(O.Link,{onClick:Ln,url:Un(),id:"sign-up-button",className:"rbx-navbar-signup btn-growth-sm nav-menu-title signup-button"},e("Label.sSignUp")))}function Dn(){window.location.href=Fn()}qn.propTypes={translate:S().func.isRequired};var Mn=qn,Kn=l,Fn=N;function Bn(e){return e=e.translate,t().createElement("li",{className:"login-action"},Kn()&&t().createElement(O.Link,{onClick:Dn,url:Fn(),className:"rbx-navbar-login btn-secondary-sm nav-menu-title rbx-menu-item"},e("Label.sLogin")))}Bn.propTypes={translate:S().func.isRequired};var Qn=Bn;function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _n(e){var n=e.translate,r=e.toggleUniverseSearch;e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["translate","toggleUniverseSearch"]);return o.authenticatedUser.isAuthenticated?t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement(Pn,Gn({translate:n,toggleUniverseSearch:r},e))):t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement("ul",{className:"nav navbar-right rbx-navbar-right-nav"},t().createElement(Mn,{translate:n}),t().createElement(Qn,{translate:n}),t().createElement(An,{translate:n,toggleUniverseSearch:r})))}_n.propTypes={translate:S().func.isRequired,toggleUniverseSearch:S().func.isRequired};var Vn=_n;function $n(){return($n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wn=(0,i.withTranslations)((function(n){var r=Ae(),a=zn((0,e.useState)(r),2),o=a[0],i=a[1],c=(r=(a=zn((0,e.useState)(!r),2))[0],a[1]),l=(0,e.useCallback)((function(){var e=Ae();o!==e&&(i(e),c(!e))}),[o]);return(0,e.useEffect)((function(){return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[l]),t().createElement(t().Fragment,null,t().createElement(Kt,$n({isUniverseSearchShown:r},n)),t().createElement(Vn,$n({toggleUniverseSearch:function(){c((function(e){return!e}))}},n)))}),g);function Jn(e){e=e.translate;var n=document.getElementById("container-main");return t().createElement(O.Button,{id:"skip-to-main-content",size:O.Button.sizes.extraSmall,variant:O.Button.variants.primary,onClick:function(){return n.focus()}},e("Action.SkipToMainContent")||"Skip to main content")}Jn.propTypes={translate:S().func.isRequired};var Xn=Jn,Yn=d,Zn=o.authenticatedUser.isAuthenticated;function er(n){var r=O.IconButton.iconTypes;return t().createElement(e.Fragment,null,t().createElement(Xn,n),Zn&&t().createElement(O.IconButton,{className:"menu-button",iconType:r.navigation,iconName:"nav-menu",onClick:function(){document.dispatchEvent(new CustomEvent(Yn.name))}}))}er.propTypes={};var tr=(0,i.withTranslations)(er,g),nr=(n(635),"right-navigation-header"),rr="left-navigation-container",ar="header-menu-icon";(0,r.ready)((function(){document.getElementById(ar)&&(0,a.render)(t().createElement(tr,null),document.getElementById(ar)),document.getElementById(nr)&&(0,a.render)(t().createElement(Wn,null),document.getElementById(nr)),document.getElementById(rr)&&(0,a.render)(t().createElement(We,null),document.getElementById(rr))}))}()}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("Navigation");