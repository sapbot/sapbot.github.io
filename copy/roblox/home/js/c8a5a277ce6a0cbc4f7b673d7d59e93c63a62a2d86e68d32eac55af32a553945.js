!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=jQuery,n=e.n(t),a=Roblox;function o(e){var t=new(n().Deferred);return a.Hybrid.Game.launchGame(e,(function(){t.resolve(e)})),t}var r,i,l={joinMultiplayerGame:function(e){var t=!0===e.isPlayTogetherGame;return o({requestType:a.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),isPlayTogetherGame:t,browserTrackerId:a.Cookies.getBrowserTrackerId()})},followPlayerIntoGame:function(e){return o({requestType:a.Hybrid.Game.LAUNCH_MODES.FOLLOW_USER,userId:e.userId.toString(),browserTrackerId:a.Cookies.getBrowserTrackerId()})},joinGameInstance:function(e){var t=!0===e.isPlayTogetherGame;return o({requestType:a.Hybrid.Game.LAUNCH_MODES.GAME_INSTANCE,placeId:e.placeId.toString(),instanceId:e.gameId,isPlayTogetherGame:t,browserTrackerId:a.Cookies.getBrowserTrackerId()})},joinPrivateGame:function(e){return o({requestType:a.Hybrid.Game.LAUNCH_MODES.PRIVATE_SERVER,placeId:e.placeId.toString(),accessCode:e.accessCode,browserTrackerId:a.Cookies.getBrowserTrackerId()})},playTogetherGame:function(e){return o({requestType:a.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),conversationId:e.conversationId.toString(),browserTrackerId:a.Cookies.getBrowserTrackerId()})}},c="soli-modal",s="/login?returnurl=",d="/?returnurl=",u="gameDetails",p="gameLaunch_login",m="gameLaunch_signup";n()(document).ready((function(){r=new a.TranslationResourceProvider,i=r.getTranslationResource("Feature.GameLaunchGuestMode")}));var v={restrictGuests:function(e){var t=new(n().Deferred);return"True"===n()("#PlaceLauncherStatusPanel").data("is-user-logged-in")?t.resolve(e):a.Dialog.open({titleText:i.get("Heading.Dialog.SignUpOrLogin"),bodyContent:i.get("Description.Dialog.SignUpOrLogin"),cssClass:c,acceptColor:a.Dialog.green,acceptText:i.get("Action.Dialog.SignUp"),declineText:i.get("Action.Dialog.Login"),onDecline:function(){a.FormEvents&&a.FormEvents.SendInteractionClick(u,p);var e=s+encodeURIComponent(window.location.pathname+window.location.search);window.location.href=a.Endpoints?a.Endpoints.getAbsoluteUrl(e):e},onAccept:function(){var e;e=m,a.FormEvents&&a.FormEvents.SendInteractionClick("gameDetails",e),e=d+encodeURIComponent(window.location.pathname+window.location.search),window.location.href=a.Endpoints?a.Endpoints.getAbsoluteUrl(e):e}}),t}},h={bars:[],init:function(e,t,n,a){var o=this.get(e);null==o&&(o={}),o.barID=e,o.innerBarID=t,o.percentageID=n,void 0===a&&(o.percentComplete=0),this.bars.push(o),this.update(e,o.percentComplete)},get:function(e){for(var t=0;t<this.bars.length;t+=1)if(this.bars[t].barID===e)return this.bars[t];return null},dispose:function(e){for(var t=0;t<this.bars.length;t+=1)this.bars[t].barID===e&&this.bars.splice(t,1)},update:function(e,t){var a=this.get(e);a&&(1<t&&(t=1),e=n()("#".concat(e)).width(),e=Math.round(e*t),n()("#".concat(a.innerBarID)).animate({width:e},200,"swing"),a.percentageID&&0<n()("#".concat(a.percentageID)).length&&n()("#".concat(a.percentageID)).html("".concat(Math.round(100*t),"%")),a.percentComplete=t)}},g={newValue:"",showVideoPreRoll:!1,videoInitialized:!1,videoStarted:!1,videoCompleted:!1,videoSkipped:!1,videoCancelled:!1,videoErrored:!1,loadingBarMaxTime:3e4,loadingBarCurrentTime:0,loadingBarIntervalID:0,loadingBarID:"videoPrerollLoadingBar",loadingBarInnerID:"videoPrerollLoadingBarCompleted",loadingBarPercentageID:"videoPrerollLoadingPercent",videoDiv:"videoPrerollMainDiv",companionAdDiv:"videoPrerollCompanionAd",contentElement:"contentElement",videoLoadingTimeout:7e3,videoPlayingTimeout:23e3,videoLogNote:"",logsEnabled:!1,includedPlaceIds:"",isSwfPreloaderEnabled:!1,isFlashInstalled:!1,isPrerollShownEveryXMinutesEnabled:!1,isAgeTargetingEnabled:!0,isAgeOrSegmentTargetingEnabled:!1,adUnit:"",adTime:0,placeId:0,customTargeting:{userAge:"",userAgeOrSegment:"",userGender:"",gameGenres:"",environment:"",adTime:"",PLVU:!1},adsManager:null,adsLoader:null,adDisplayContainer:null,intervalTimer:null,videoContent:null,isCompanionAdRenderedByGoogleTag:!1};function f(){g.adsLoader.contentComplete()}function b(){g.videoContent=document.getElementById(g.contentElement)}function w(){g.adDisplayContainer=new window.google.ima.AdDisplayContainer(document.getElementById(g.videoDiv),g.videoContent)}function y(){var e="&iu=".concat(g.adUnit),t="";return g.isAgeTargetingEnabled&&(t+="&Age=".concat(g.customTargeting.userAge)),g.isAgeOrSegmentTargetingEnabled&&(t+="&A=".concat(g.customTargeting.userAgeOrSegment)),t=encodeURIComponent("Env=".concat(g.customTargeting.environment,"&Gender=").concat(g.customTargeting.userGender).concat(t,"&Genres=").concat(g.customTargeting.gameGenres,"&PlaceID=").concat(g.placeId,"&Time=").concat(g.customTargeting.adTime,"&PLVU=").concat(g.customTargeting.PLVU)),"".concat("http://pubads.g.doubleclick.net/gampad/ads?impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]").concat("&sz=400x300").concat(e).concat("&ciu_szs=300x250","&cust_params=").concat(t,"&")}function I(){window.googletag.defineSlot(g.adUnit,[300,250],g.companionAdDiv).addService(window.googletag.companionAds()),window.googletag.enableServices(),window.googletag.display(g.companionAdDiv)}function P(e){switch(e.type){case window.google.ima.AdEvent.Type.LOADED:break;case window.google.ima.AdEvent.Type.STARTED:if(g.videoStarted=!0,g.isCompanionAdRenderedBywindow.googletag){if(!window.googletag)break;window.googletag.cmd.push(I)}else{var t=e.getAd().getCompanionAds(300,250);0<t.length&&(t=t[0].getContent(),document.getElementById(g.companionAdDiv).innerHTML=t)}break;case window.google.ima.AdEvent.Type.SKIPPED:g.videoCompleted=!0,g.videoSkipped=!0,g.showVideoPreRoll=!1;break;case window.google.ima.AdEvent.Type.COMPLETE:g.videoStarted&&!1===g.videoCancelled&&(g.videoCompleted=!0,g.showVideoPreRoll=!1,""!==g.newValue&&n().cookie("RBXVPR",g.newValue,180))}}function E(){g.videoErrored=!0,g.videoCompleted=!0,g.videoLogNote="AdError"}function C(e){g.adsManager=e.getAdsManager(g.videoContent),g.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,E),g.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,P),g.adsManager.addEventListener(window.google.ima.AdEvent.Type.LOADED,P),g.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,P),g.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,P),g.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,P);try{g.adsManager.init(400,300,window.google.ima.ViewMode.NORMAL),g.adsManager.start()}catch(e){E()}}function S(){window.google.ima.settings.setVpaidAllowed(!0),b(),w(),g.adDisplayContainer.initialize(),g.adsLoader=new window.google.ima.AdsLoader(g.adDisplayContainer),g.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,C,!1),g.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,E,!1),g.videoContent.addEventListener("ended",f);var e=new window.google.ima.AdsRequest,t=y();e.adTagUrl=t,e.linearAdSlotWidth=400,e.linearAdSlotHeight=300,e.nonLinearAdSlotWidth=400,e.nonLinearAdSlotHeight=300,g.adsLoader.requestAds(e)}function L(){var e=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=!0)}return e}function T(){if(g.logsEnabled){var e="";if(g.videoCompleted)e="Complete",""===g.videoLogNote&&(g.videoLogNote="NoTimeout"),g.logsEnabled=!1;else if(g.videoCancelled)e="Cancelled",g.videoLogNote=window.RobloxLaunch.state;else{if(!1!==g.videoInitialized||""===g.videoLogNote)return;e="Failed",g.logsEnabled=!1}a.GaEventSettings.gaDFPPreRollEnabled&&window.GoogleAnalyticsEvents&&window.GoogleAnalyticsEvents.FireEvent(["DFPPreRoll",e,g.videoLogNote])}}function A(){return!!g.videoInitialized&&(g.videoInitialized&&!g.videoStarted&&g.loadingBarCurrentTime>g.videoLoadingTimeout&&(g.videoCompleted=!0,g.videoLogNote="LoadingTimeout"),g.videoStarted&&!g.videoCompleted&&g.loadingBarCurrentTime>g.videoPlayingTimeout&&(g.videoCompleted=!0,g.videoLogNote="PlayingTimeout"),!g.videoCompleted)}function D(){var e=encodeURIComponent(y());e="adTagUrl=".concat(e);n().ajax({url:"/game/preloader",data:{url:e},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}}).success((function(e){n()("#videoPrerollMainDiv").html(e),g.videoErrored||(g.videoStarted=!0)}))}function G(){n().ajax({url:"/game/updateprerollcount",method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}})}Object.assign(g,{contentEndedListener:f,createVideoContent:b,createAdDisplayContainer:w,constructUrl:y,renderCompanionAd:I,onAdEvent:P,onAdError:E,onAdsManagerLoaded:C,requestAds:S,checkFlashEnabled:L,checkEligibility:function(){g.showVideoPreRoll&&(L()&&(g.isFlashInstalled=!0),"True"===n()("#PlaceLauncherStatusPanel").data("is-protocol-handler-launch-enabled")||a.Client.IsRobloxInstalled()?void 0===window.google||void 0===window.google.ima?(g.videoLogNote="NoGoogle",g.showVideoPreRoll=!1):a.Client.isIDE()?(g.videoLogNote="RobloxStudio",g.showVideoPreRoll=!1):a.Client.isRobloxBrowser()?(g.videoLogNote="RobloxPlayer",g.showVideoPreRoll=!1):(window.chrome||window.safari)&&"#chromeInstall"===window.location.hash&&(g.showVideoPreRoll=!1):g.showVideoPreRoll=!1)},logVideoPreRoll:T,isPlaying:A,correctIEModalPosition:function(e){var t,a;e.container.innerHeight()<=30&&(t=n()("#videoPrerollPanel"),a=-Math.floor(t.innerHeight()/2),t.css({position:"relative",top:"".concat(a,"px")}),e.container.find(".VprCloseButton").css({top:"".concat(a-10,"px"),"z-index":"1003"}))},renderImaPreloader:D,updatePrerollCount:G,start:function(){0===g.placeId&&"undefined"!=typeof play_placeId&&(g.placeId=play_placeId),g.videoInitialized=!0,g.videoStarted=!1,g.videoCancelled=!1,g.videoCompleted=!1,g.videoSkipped=!1,g.loadingBarCurrentTime=0,g.videoLogNote="",h.init(g.loadingBarID,g.loadingBarInnerID,g.loadingBarPercentageID),g.loadingBarIntervalID=setInterval((function(){g.loadingBarCurrentTime+=1e3,h.update(g.loadingBarID,g.loadingBarCurrentTime/g.loadingBarMaxTime)}),1e3),(g.isSwfPreloaderEnabled&&g.isFlashInstalled?D:S)()},cancel:function(){g.videoCancelled=!0,n().modal.close()},skip:function(){g.videoCompleted=!0,g.videoSkipped=!0,g.showVideoPreRoll=!1},close:function(){window.MadStatus&&window.MadStatus.running&&window.MadStatus.stop(""),window.RobloxLaunch.launcher&&(window.RobloxLaunch.launcher._cancelled=!0),clearInterval(g.loadingBarIntervalID),h.dispose(g.loadingBarID),A()&&(g.videoCancelled=!0),n().modal.close(),T(),g.isPrerollShownEveryXMinutesEnabled&&g.videoInitialized&&g.videoCompleted&&G()}});var x=g,R={waitForPreroll:function(e){var t,a,o=new(n().Deferred),r=x;return r.placeId=void 0!==e.placeId?e.placeId:0,r.showVideoPreRoll?(t={escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},zIndex:1031,onShow:function(e){r.correctIEModalPosition(e),r.start(),n()("#prerollClose").hide(),n()("#prerollClose").delay(1e3*r.adTime).show(300)},onClose:function(){r.close()},closeHTML:'<a href="#" id="prerollClose" class="ImageButton closeBtnCircle_35h ABCloseCircle VprCloseButton"></a>'},n()("#videoPrerollPanel").modal(t),a=setInterval((function(){r.isPlaying()||(n().modal.close(),clearInterval(a),r.videoCancelled?o.reject(e):o.resolve(e))}),200)):(o.resolve(e),r.logVideoPreRoll()),o}};function k(e,t,n,a,o,r,i){try{var l=e[r](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}var U,O={gameLaunchInterface:null,gameLaunchLogger:null,initialized:new Promise((function(e,t){U=e}))};function M(e,t,n){O.gameLaunchInterface.editGameInStudio(e,t,n)}function B(e){return v.restrictGuests(e={placeId:e,isPlayTogetherGame:!0===(2<arguments.length?arguments[2]:void 0)}).then(R.waitForPreroll).then(O.gameLaunchInterface.joinMultiplayerGame)}function N(){var e;return e=regeneratorRuntime.mark((function e(t,n,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.initialized;case 2:return o=R.waitForPreroll(o={placeId:t,accessCode:n,linkCode:a}).then(O.gameLaunchInterface.joinPrivateGame),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})),(N=function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(e){k(r,a,o,i,l,"next",e)}function l(e){k(r,a,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}n().fn.bindGameLaunch=function(){return this.find(".VisitButtonPlayGLI").click((function(){var e=n()(this);B(e.attr("placeid"),e.data("is-membership-level-ok"))})),this.find(".VisitButtonEditGLI").click((function(){var e=n()(this);M(e.attr("placeid"),e.data("universeid"),!!e.data("allowupload"))})),this},n()(document).ready((function(){n()("body").bindGameLaunch()})),Object.assign(O,{authenticationChecker:v,prerollPlayer:R,joinMultiplayerGame:B,openStudio:function(){O.gameLaunchInterface.openStudio()},returnToStudio:function(){O.gameLaunchInterface.returnToStudio()},openPluginInStudio:function(e){O.gameLaunchInterface.openPluginInStudio(e)},editGameInStudio:M,followPlayerIntoGame:function(e){return v.restrictGuests(e={userId:e}).then(R.waitForPreroll).then(O.gameLaunchInterface.followPlayerIntoGame)},joinGameInstance:function(e,t,n,a){return v.restrictGuests(a={placeId:e,gameId:t,isPlayTogetherGame:!0===a}).then(R.waitForPreroll).then(O.gameLaunchInterface.joinGameInstance)},joinPrivateGame:function(e,t,n){return N.apply(this,arguments)},playTogetherGame:function(e,t){return v.restrictGuests(t={placeId:e,conversationId:t}).then(R.waitForPreroll).then(O.gameLaunchInterface.playTogetherGame)},setGameLaunchInterface:function(e){O.gameLaunchInterface=e,U()},setGameLaunchLogger:function(e){O.gameLaunchLogger=e},tryAssetInStudio:function(e){O.gameLaunchInterface.tryAssetInStudio(e)},startClientAttemptedEvent:"startClientAttempted",startClientFailedEvent:"startClientFailed",startClientSucceededEvent:"startClientSucceeded",beginInstallEvent:"beginInstall",successfulInstallEvent:"successfulInstall",manualDownloadEvent:"manualDownload"});var F=O,V={lastContext:"unknown",contextCategories:{joinUser:"JoinUser"}};function j(e,t,o,r){null!==t&&""!==t&&"unknown"!==t&&(V.lastContext=t),a.EventStream.SendEvent(e,V.lastContext,function(e,t){var a=n()("#PlaceLauncherStatusPanel");return{lType:a&&a.data("is-protocol-handler-launch-enabled")&&"true"===a.data("is-protocol-handler-launch-enabled").toLowerCase()?"protocol":"plugin",pid:e,refuid:t,pg:(a=window.location.pathname.toLowerCase(),e="profile",-1!==(t=a.lastIndexOf(e))&&a.length===t+e.length?e:-1!==a.indexOf("/develop")?"develop":"/discover"===a?"games":"gameDetail")}}(o,r))}Object.assign(V,{SendGamePlayIntent:function(e,t,a){j("gamePlayIntent",e,t,a),n()(document).trigger("playButton:gamePlayIntent")},SendDevelopIntent:function(e,t){j("developIntent",e,t)},SendInstallBegin:function(e,t){j("installBegin",e,t)},SendInstallSuccess:function(e,t){j("installSuccess",e,t)},SendClientStartAttempt:function(e,t){j("clientStartAttempt",e,t)},SendClientStartSuccessWeb:function(e,t){j("clientStartSuccessWeb",e,t)},SendManualDownloadClick:function(e,t){j("manualDownload",e,t)}});var _=V,H={logToConsoleEnabled:!1,logToGAEnabled:!0,logToEphemeralCountersEnabled:!0},q={};q[F.startClientAttemptedEvent]=["GameLaunchAttempt_<os>","GameLaunchAttempt_<os>_<launchmethod>"],q[F.startClientSucceededEvent]=["GameLaunchSuccessWeb_<os>","GameLaunchSuccessWeb_<os>_<launchmethod>"];var z={};a.GaEventSettings.gaLaunchAttemptAndLaunchSuccessEnabled&&(z[F.startClientAttemptedEvent]="Launch Attempt",z[F.startClientSucceededEvent]="Launch Success"),z[F.beginInstallEvent]="Install Begin",z[F.successfulInstallEvent]="Install Success",z[F.manualDownloadEvent]="Manual Download";var W={};function J(e){H.logToConsoleEnabled&&console.log(e)}function X(e,t){var a;H.logToEphemeralCountersEnabled&&("Windows"===(a=n()("#PlaceLauncherStatusPanel").data("os-name"))&&(a="Win32"),e=(e=e.replace("<os>",a)).replace("<launchmethod>",t),null!==(t=window.EventTracker)&&void 0!==t&&t.fireEvent&&window.EventTracker.fireEvent(e))}function K(e,t,n,a){void 0!==window.GoogleAnalyticsEvents&&H.logToGAEnabled&&window.GoogleAnalyticsEvents.FireEvent&&window.GoogleAnalyticsEvents.FireEvent([e,t,n,a])}function Y(e,t){J("".concat(e.type,": ").concat(JSON.stringify(t))),q[e.type]&&n().each(q[e.type],(function(e,n){X(n,t.launchMethod)})),z[e.type]&&K(t.launchMethod,z[e.type],t.params.launchMode,0),"True"===n()("#PlaceLauncherStatusPanel").data("event-stream-for-protocol-enabled")&&W[e.type]&&W[e.type](null,t.params.placeId)}W[F.startClientAttemptedEvent]=_.SendClientStartAttempt,W[F.startClientSucceededEvent]=_.SendClientStartSuccessWeb,W[F.beginInstallEvent]=_.SendInstallBegin,W[F.successfulInstallEvent]=_.SendInstallSuccess,W[F.manualDownloadEvent]=_.SendManualDownloadClick,Object.assign(H,{logToConsole:J,logToEphemeralCounters:X,logToGA:K}),n()(document).ready((function(){var e=[F.startClientAttemptedEvent,F.startClientFailedEvent,F.startClientSucceededEvent,F.beginInstallEvent,F.successfulInstallEvent,F.manualDownloadEvent];n()(F).on(e.join(" "),Y)}));var Q=H;function Z(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)),a}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){var a,o;a=e,t=n[o=t],o in a?Object.defineProperty(a,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={isInstalling:!1,statusInterval:0,robloxLocale:"",gameLocale:"",protocolUrlSeparator:"+",protocolUrlIncludesLaunchTime:!1,protocolDetectionEnabled:!1,avatarParamEnabled:!0,separateScriptParamsEnabled:!1,waitTimeBeforeFailure:300,protocolNameForStudio:"roblox-studio",protocolNameForClient:"roblox-client",logger:null,channel:"",studioChannel:"",playerChannel:"",isStudioAuthTicketEnabled:!0,isStudioSSOParamsEnabled:!1,isDuarAutoOptInEnabled:!1,isDuarOptOutDisabled:!1},te="Global",ne="edit",ae="plugin",oe="app",re="asset";function ie(e){return e===ne||e===ae||e===re}function le(e,t){function o(){clearTimeout(s),e()}var r,i,l,c,s=setTimeout((function(){n().modal.close(),function(e,t){var o="True"===a.PlaceLauncher.Resources.RefactorEnabled,r=ie(t.launchMode);if(o)return r=r?a.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.studio:a.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.play,a.Dialog.open({bodyContent:r.content,allowHtmlContentInBody:!0,showAccept:!0,acceptColor:a.Dialog.green,acceptText:r.buttonText,showDecline:!1,dismissable:!1,xToCancel:!0,footerText:r.footerContent,allowHtmlContentInFooter:!0,onAccept:function(){ye(t)},cssClass:"protocolhandler-are-you-installed-modal"});n()("#ProtocolHandlerAreYouInstalled").modal({escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:function(){e(),n()("#ProtocolHandlerInstallButton").off("click"),n().modal.close()},zIndex:1031}),n()("#ProtocolHandlerInstallButton, #ProtocolHandlerStudioInstallButton").click((function(){ye(t)}))}(o,t)}),5e3);r=o,i=t.launchMode,l="True"===a.PlaceLauncher.Resources.RefactorEnabled,c=ie(i),l?(i=(c?a.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.studio:a.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.play).content,l=a.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.loader,a.Dialog.open({bodyContent:i+l,allowHtmlContentInBody:!0,showAccept:!1,showDecline:!1,dismissable:!1,cssClass:"protocolhandler-starting-modal",onCloseCallback:r,onCancel:function(){r(),n().modal.close()}})):(c?n()(".protocol-handler-container").each((function(){n()(this).find(".play-modal").addClass("hidden"),n()(this).find(".studio-modal").removeClass("hidden")})):n()(".protocol-handler-container").each((function(){n()(this).find(".play-modal").removeClass("hidden"),n()(this).find(".studio-modal").addClass("hidden")})),n()("#ProtocolHandlerStartingDialog").modal({escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:function(){r(),n().modal.close()},zIndex:1031}))}function ce(){n().modal.close(),a.Dialog.open({titleText:a.Lang.VisitGameResources["Heading.ErrorStartingGame"],bodyContent:a.Lang.VisitGameResources["Response.Dialog.ErrorLaunching"],acceptText:a.Lang.ControlsResources["Action.OK"]||"OK",showDecline:!1})}function se(e){var t=new(n().Deferred);return clearInterval(ee.statusInterval),ee.statusInterval=setInterval((function(){var o=a.Endpoints.getAbsoluteUrl("/client-status");n().ajax(o,{success:function(n){"Unknown"!==n&&(t.resolve(e),clearInterval(ee.statusInterval))},cache:!1})}),3e3),t}function de(e){n().modal.close(),e={launchMethod:"Protocol",params:e},n()(F).trigger(F.startClientSucceededEvent,e),ee.isInstalling&&(n()(F).trigger(F.successfulInstallEvent,e),ee.isInstalling=!1)}function ue(e){return!1}function pe(e){var t;ee.protocolDetectionEnabled&&void 0!==navigator.msLaunchUri?navigator.msLaunchUri(e,(function(){}),(function(){})):(0<(t=n()("iframe#gamelaunch")).length&&t.remove(),t=n()("<iframe id='gamelaunch' class='hidden'></iframe>").attr("src",e),n()("body").append(t),t=new Event("ProtocolLaunchStartSelenium"),window.dispatchEvent(t))}function me(e){var t,o=new(n().Deferred),r=ie(e.launchMode),i=ee.protocolUrlSeparator,l="".concat(e.protocolName,":"),c=[];return c.push(1),c.push("launchmode:".concat(e.launchMode)),!e.gameInfo||e.protocolName===ee.protocolNameForStudio&&0===e.gameInfo.indexOf("Guest:")||c.push("gameinfo:".concat(encodeURIComponent(e.gameInfo))),ee.protocolUrlIncludesLaunchTime&&c.push("launchtime:".concat(e.launchTime)),"True"===a.PlaceLauncher.Resources.IsProtocolHandlerBaseUrlParamEnabled&&(t=a.EnvironmentUrls.websiteUrl||"https://".concat(window.location.host),c.push("baseUrl:".concat(encodeURIComponent(t)))),ee.isStudioSSOParamsEnabled&&r&&a.CurrentUser.isAuthenticated&&(c.push("distributorType:".concat(te)),c.push("userId:".concat(a.CurrentUser.userId))),n().each(e.otherParams,(function(e,t){e===t?c.push(e):c.push("".concat(e,":").concat(encodeURIComponent(t)))})),l+=c.join(i),F.gameLaunchLogger&&F.gameLaunchLogger.logToConsole("launchProtocolUrl: ".concat(JSON.stringify({url:l,params:e}))),pe(l),o.resolve(e),o}function ve(e){return n().when((t=e,o=new(n().Deferred),e=ie(t.launchMode),r=$({},t),!a.CurrentUser.isAuthenticated||!ee.isStudioAuthTicketEnabled&&e?(o.resolve(r),o):ee.doAuthTicketRequest().then((function(e,t,n){return(n=n.getResponseHeader("RBX-Authentication-Ticket"))&&0<n.length?(r.gameInfo=n,o.resolve(r)):o.reject(),o}))),(e=a.Endpoints.getAbsoluteUrl("/client-status/set?status=Unknown"),n().ajax({method:"POST",url:e}))).then(me,ce).then(se).then(de,ue);var t,o,r}function he(e){return n()(this).hasClass("disabled")||(ve(e.data),void 0===(e=n()("#ProtocolHandlerClickAlwaysAllowed")).data("hideRememberOverlay")&&e.show()),!1}function ge(e){return(e=$({},e)).launchTime=(new Date).getTime(),e.otherParams.browsertrackerid=a.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=ee.robloxLocale,e.otherParams.gameLocale=ee.gameLocale,e.otherParams.channel=ee.channel,e.protocolName===ee.protocolNameForStudio?e.otherParams.channel=ee.studioChannel:e.otherParams.channel=ee.playerChannel,ee.isDuarAutoOptInEnabled&&e.protocolName===ee.protocolNameForClient&&!e.otherParams.LaunchExp&&(ee.isDuarOptOutDisabled?e.otherParams.LaunchExp="InApp":e.otherParams.LaunchExp="PreferInApp"),n()(F).trigger(F.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),le((function(){}),e),ve(e)}function fe(e,t){var o=" ";return a.Endpoints&&a.Endpoints.Urls&&(o="".concat(a.Endpoints.getAbsoluteUrl("/Game/PlaceLauncher.ashx"),"?")),"h"!==o[0]&&(o="http://".concat(window.location.host)+"/Game/PlaceLauncher.ashx?"),o=o.replace("placelauncher","PlaceLauncher"),e={request:e,browserTrackerId:a.Cookies.getBrowserTrackerId()},n().extend(e,t),o+n().param(e)}function be(e,t,o){return r="Edit.ashx",i=e,e=t,t=o,o=" ",a.Endpoints&&a.Endpoints.Urls&&(o="".concat(a.Endpoints.getAbsoluteUrl("/Game/".concat(r)),"?")),"h"!==o[0]&&(o="http://".concat(window.location.host)+"/Game/".concat(r,"?")),e={placeId:i,upload:t?i:"",universeId:e,testMode:!1},o+n().param(e);var r,i}function we(){document.getElementById("downloadInstallerIFrame").src="/download/client"}function ye(e){var t=ie(e.launchMode);n().modal.close(),t||(a.Dialog.open({titleText:n()("#InstallationInstructions .ph-modal-header .title").text(),allowHtmlContentInBody:!0,bodyContent:n()("#InstallationInstructions .modal-content-container").html(),allowHtmlContentInFooter:!0,footerText:n()("#InstallationInstructions .xsmall").html(),acceptColor:a.Dialog.none,declineColor:a.Dialog.none,cssClass:"install-instructions-modal",xToCancel:!0,onCloseCallback:function(){n()("#ProtocolHandlerClickAlwaysAllowed").hide()}}),0===n()("#GameLaunchInstructionsLinkScript").length&&ee.attachManualDownloadToLink(),setTimeout((function(){n()(".VisitButtonContinueGLI a").removeClass("disabled").click(e,he)}),5e3)),function(e,t){var a=$({},e);e=a.gameInfo,void 0!==a.gameInfo&&(a.gameInfo=void 0),n()(F).trigger(F.beginInstallEvent,{launchMethod:"Protocol",params:a}),ee.isInstalling=!0,a.url=window.location.href,void 0!==e&&(a.gameInfo=e),t?document.getElementById("downloadInstallerIFrame").src="/download/studio":we()}(e,t)}function Ie(){n()(F).trigger(F.manualDownloadEvent,{launchMethod:"Protocol",params:{}}),we()}function Pe(e,t){void 0===t&&(t={});var n=qe.deviceMeta.getDeviceMeta();null!=n&&n.isIosDevice||null!=n&&n.isAndroidDevice||qe.jsClientDeviceIdentifier.isIos13Ipad?(n=a.EnvironmentUrls.websiteUrl+"/games/start?placeid="+e,n=encodeURIComponent(n),window.open("https://ro.blox.com/Ebh5?pid=share&is_retargeting=true&af_dp="+n+"&af_web_dp="+n,"_self")):Ge.playGameService.launchGame(Ge.playGameService.buildPlayGameProperties(void 0,e.toString()),_e.eventStreamProperties(e,t))}function Ee(e){var t=qe.deviceMeta.getDeviceMeta();null!=t&&t.isIosDevice||null!=t&&t.isAndroidDevice||qe.jsClientDeviceIdentifier.isIos13Ipad?(t=a.EnvironmentUrls.websiteUrl+"/games/start?placeid="+e,t=encodeURIComponent(t),window.open("https://ro.blox.com/Ebh5?pid=share&is_retargeting=true&af_dp="+t+"&af_web_dp="+t,"_self")):Ge.playGameService.launchGame(Ge.playGameService.buildPlayGameProperties(void 0,e.toString()),_e.eventStreamProperties(e,{}))}function Ce(){return ze(void 0,void 0,Promise,(function(){return We(this,(function(e){try{return[2,a.IdentityVerificationService.startVerificationFlow()]}catch(e){return[2,[!1,!1]]}return[2]}))}))}function Se(){return ze(void 0,void 0,Promise,(function(){return We(this,(function(e){try{return[2,a.IdentityVerificationService.showVoiceOptInOverlay()]}catch(e){return[2,!1]}return[2]}))}))}function Le(e){var t=e.universeId,n=e.placeId,a=e.status,o=e.eventProperties,r=void 0===o?{}:o,i=(e=void 0===(o=e.iconClassName)?"icon-common-play":o,(o=(0,Ae.useState)(void 0))[0]),l=o[1],c=(o=(0,Ae.useState)(void 0))[0],s=o[1];return(0,Ae.useEffect)((function(){Ze(void 0,void 0,void 0,(function(){var e;return $e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(a=t,Ze(void 0,void 0,Promise,(function(){var e,t,n,o;return $e(this,(function(r){switch(r.label){case 0:return qe.authenticatedUser.isAuthenticated?[4,Fe()]:[2,{showAgeVerificationOverlay:!1,showVoiceOptInOverlay:!1}];case 1:return n=r.sent(),e=n.playButtonOverlayWebFlag,t=n.voiceOptInWebFlag,e||t?[4,Ne(a)]:[2,{showAgeVerificationOverlay:!1,showVoiceOptInOverlay:!1}];case 2:return o=r.sent(),n=o.showAgeVerificationOverlay,o=o.showVoiceOptInOverlay,[2,{showAgeVerificationOverlay:e&&n,showVoiceOptInOverlay:t&&o}]}}))})))];case 1:return e=n.sent(),l(e.showAgeVerificationOverlay),s(e.showVoiceOptInOverlay),[3,3];case 2:return e=n.sent(),console.error(e),l(!1),s(!1),[3,3];case 3:return[2]}var a}))}))}),[]),void 0===i?De().createElement(Je.Loading,null):De().createElement(De().Fragment,null,De().createElement(Je.Button,{"data-testid":"play-button",className:"btn-full-width btn-common-play-game-lg",onClick:function(e){return Ze(void 0,void 0,void 0,(function(){var t;return $e(this,(function(o){switch(o.label){case 0:return e.preventDefault(),e.stopPropagation(),a!==nt.Playable?[3,5]:i?[4,Ce()]:[3,2];case 1:return(t=o.sent())[0],t[1]&&l(!1),[3,4];case 2:return c?[4,Se()]:[3,4];case 3:o.sent()&&s(!1),o.label=4;case 4:return Pe(n,r),[3,6];case 5:a===nt.GuestProhibited&&Ee(n),o.label=6;case 6:return[2]}}))}))}},De().createElement("span",{className:e})),De().createElement("div",{id:"id-verification-container"}))}Object.assign(ee,{joinMultiplayerGame:function(e){var t=ee.protocolNameForClient,n=fe("RequestGame",e),a=!0===e.isPlayTogetherGame;return ge({protocolName:t,launchMode:"play",otherParams:{placelauncherurl:n},placeId:e.placeId,isPlayTogetherGame:a})},openStudio:function(){var e={};return ee.avatarParamEnabled&&(e.avatar="avatar"),ge({protocolName:ee.protocolNameForStudio,launchMode:"edit",otherParams:e})},tryAssetInStudio:function(e){return e={assetid:e},ee.avatarParamEnabled&&(e.avatar="avatar"),ge({protocolName:ee.protocolNameForStudio,launchMode:"asset",otherParams:e})},returnToStudio:function(){var e={task:"ReturnFromLogin"};return ee.avatarParamEnabled&&(e.avatar="avatar"),ge({protocolName:ee.protocolNameForStudio,launchMode:"edit",otherParams:e})},openPluginInStudio:function(e){e={pluginid:e},ee.avatarParamEnabled&&(e.avatar="avatar"),ge({protocolName:ee.protocolNameForStudio,launchMode:"plugin",otherParams:e})},editGameInStudio:function(e,t,n){n=ee.separateScriptParamsEnabled?{task:"EditPlace",placeId:e,universeId:t}:{script:be(e,t,n)},ee.avatarParamEnabled&&(n.avatar="avatar"),ge({protocolName:ee.protocolNameForStudio,launchMode:"edit",otherParams:n,placeId:e})},followPlayerIntoGame:function(e){return ge({protocolName:ee.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:fe("RequestFollowUser",e)}})},joinGameInstance:function(e){var t=ee.protocolNameForClient,n=fe("RequestGameJob",e),a=!0===e.isPlayTogetherGame;return ge({protocolName:t,launchMode:"play",otherParams:{placelauncherurl:n},placeId:e.placeId,isPlayTogetherGame:a})},joinPrivateGame:function(e){return ge({protocolName:ee.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:fe("RequestPrivateGame",e)},placeId:e.placeId})},playTogetherGame:function(e){return ge({protocolName:ee.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:fe("RequestPlayTogetherGame",e)},placeId:e.placeId,conversationId:e.conversationId})},manualDownload:Ie,attachManualDownloadToLink:function(){n()("body #GameLaunchManualInstallLink").click((function(){return Ie(),!1}))},startDownload:we,setLocationHref:pe,doAuthTicketRequest:function(){var e="".concat(a.EnvironmentUrls.authApi,"/v1/authentication-ticket/");return n().ajax({method:"POST",url:e,contentType:"application/json"})},openDesktopUniversalApp:function(){var e={},t=ee.protocolNameForClient;return e.protocolName=t,e.launchTime=(new Date).getTime(),e.launchMode=oe,e.otherParams={},e.otherParams.browsertrackerid=a.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=ee.robloxLocale,e.otherParams.gameLocale=ee.gameLocale,e.otherParams.LaunchExp="InApp",n()(F).trigger(F.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),le((function(){}),e),ve(e)},showDialog:le,showLaunchFailureDialog:ce,cleanUpAndLogSuccess:de,cleanUpAndLogFailure:ue}),n()(document).ready((function(){F.setGameLaunchInterface(ee);var e=n()("#PlaceLauncherStatusPanel");ee.protocolNameForClient=e.data("protocol-name-for-client"),ee.protocolNameForStudio=e.data("protocol-name-for-studio"),ee.protocolUrlIncludesLaunchTime=e.data("protocol-url-includes-launchtime"),ee.protocolDetectionEnabled=e.data("protocol-detection-enabled"),ee.separateScriptParamsEnabled=e.data("protocol-separate-script-parameters-enabled"),ee.avatarParamEnabled=e.data("protocol-avatar-parameter-enabled"),ee.isStudioAuthTicketEnabled="True"===(null!==(t=e.data("is-studio-auth-ticket-enabled"))&&void 0!==t?t:"True"),ee.isStudioSSOParamsEnabled="True"===(null!==(t=e.data("is-studio-sso-params-enabled"))&&void 0!==t?t:"False"),ee.robloxLocale=e.data("protocol-roblox-locale"),ee.gameLocale=e.data("protocol-game-locale");var t=e.data("protocol-channel-name");"string"==typeof t&&"LIVE"!==t.toUpperCase()&&(ee.channel=t),"string"==typeof(t=e.data("protocol-studio-channel-name"))&&"LIVE"!==t.toUpperCase()&&(ee.studioChannel=t),"string"==typeof(t=e.data("protocol-player-channel-name"))&&"LIVE"!==t.toUpperCase()&&(ee.playerChannel=t),ee.logger||void 0===window.Roblox.ProtocolHandlerLogger||(ee.logger=window.Roblox.ProtocolHandlerLogger),ee.isDuarAutoOptInEnabled=e.data("is-duar-auto-opt-in-enabled"),ee.isDuarOptOutDisabled=e.data("is-duar-opt-out-disabled")}));var Te=ee,Ae=React,De=e.n(Ae),Ge=CoreRobloxUtilities,xe=CoreUtilities,Re=function(e,t,n,a){return new(n=n||Promise)((function(o,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function l(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((a=a.apply(e,t||[])).next())}))},ke=function(e,t){var n,a,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=0<(o=r.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ue=Ge.dataStores.gamesDataStore,Oe=function(e){return Re(void 0,void 0,Promise,(function(){var t;return ke(this,(function(n){switch(n.label){case 0:return[4,Ue.getProductInfo(e)];case 1:return[2,(void 0===(t=n.sent().data.data)?[]:t)[0]]}}))}))},Me=function(e){return Re(void 0,void 0,Promise,(function(){var t;return ke(this,(function(n){switch(n.label){case 0:return[4,Ue.getPlaceDetails(e)];case 1:return[2,(void 0===(t=n.sent().data)?[]:t)[0]]}}))}))},Be=function(e){return Re(void 0,void 0,Promise,(function(){var t;return ke(this,(function(n){switch(n.label){case 0:return[4,Ue.getPlayabilityStatus(e)];case 1:return[2,(void 0===(t=n.sent().data)?[]:t)[0]]}}))}))},Ne=function(e){return Re(void 0,void 0,Promise,(function(){var t;return ke(this,(function(n){switch(n.label){case 0:return t={withCredentials:!0,url:a.EnvironmentUrls.voiceApi+"/v1/settings/verify/show-age-verification-overlay/"+e},[4,xe.httpService.get(t)];case 1:return[2,n.sent().data]}}))}))},Fe=function(){return Re(void 0,void 0,Promise,(function(){var e;return ke(this,(function(t){switch(t.label){case 0:return e={withCredentials:!0,url:a.EnvironmentUrls.apiGatewayUrl+"/universal-app-configuration/v1/behaviors/play-button-ui/content"},[4,xe.httpService.get(e)];case 1:return[2,t.sent().data]}}))}))},Ve=function(){return(Ve=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},je={UnplayableOtherReason:"UnplayableOtherReason",Playable:"Playable",GuestProhibited:"GuestProhibited",GameUnapproved:"GameUnapproved",IncorrectConfiguration:"IncorrectConfiguration",UniverseRootPlaceIsPrivate:"UniverseRootPlaceIsPrivate",InsufficientPermissionFriendsOnly:"InsufficientPermissionFriendsOnly",InsufficientPermissionGroupOnly:"InsufficientPermissionGroupOnly",DeviceRestricted:"DeviceRestricted",UnderReview:"UnderReview",PurchaseRequired:"PurchaseRequired",AccountRestricted:"AccountRestricted",TemporarilyUnavailable:"TemporarilyUnavailable",ComplianceBlocked:"ComplianceBlocked",PlaceHasNoPublishedVersion:"PlaceHasNoPublishedVersion"},_e={playButtonTranslationMap:((Ye={})[je.UnplayableOtherReason]="Response.GameTemporarilyUnavailable",Ye[je.TemporarilyUnavailable]="Response.GameTemporarilyUnavailable",Ye[je.GameUnapproved]="Label.GameUnavailablePlaceUnderReview",Ye[je.IncorrectConfiguration]="Response.GameTemporarilyUnavailable",Ye[je.UniverseRootPlaceIsPrivate]="Label.GameUnavailableCurrentlyIsPrivateVisitor",Ye[je.InsufficientPermissionFriendsOnly]="Label.GameUnavailablePermissionLevels",Ye[je.InsufficientPermissionGroupOnly]="Label.GameUnavailablePermissionLevels",Ye[je.DeviceRestricted]="Response.GameTemporarilyUnavailable",Ye[je.UnderReview]="Label.GameUnavailablePlaceUnderReview",Ye[je.AccountRestricted]="Label.GameUnavailableAccountResrictions",Ye[je.ComplianceBlocked]="Label.ComplianceBlocked",Ye[je.PlaceHasNoPublishedVersion]="Label.GameUnavailableRootPlaceIsUnpublished",Ye),eventStreamProperties:function(e,t){return{eventName:"playGameClicked",ctx:"click",properties:Ve(Ve({},t),{placeId:e}),gamePlayIntentEventCtx:"PlayButton"}},PlayabilityStatus:je},He=function(e){function t(){return function(e,t,n,a){return new(n=n||Promise)((function(o,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function l(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t;return function(e,t){var n,a,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=0<(o=r.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(n){switch(n.label){case 0:o(void 0),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Be([e])];case 2:return t=n.sent(),o(t.playabilityStatus),[3,4];case 3:return n.sent(),o(je.TemporarilyUnavailable),[3,4];case 4:return[2]}}))}))}var n=(0,Ae.useState)(void 0),a=n[0],o=n[1];return(0,Ae.useEffect)((function(){t()}),[]),[a,t]},qe=HeaderScripts,ze=function(e,t,n,a){return new(n=n||Promise)((function(o,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function l(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((a=a.apply(e,t||[])).next())}))},We=function(e,t){var n,a,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=0<(o=r.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Je=ReactStyleGuide,Xe=RobloxItemPurchase,Ke=(t=ReactUtilities,RobloxThumbnails),Ye={common:["Common.VisitGame"],feature:""},Qe=function(){return(Qe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ze=function(e,t,n,a){return new(n=n||Promise)((function(o,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function l(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((a=a.apply(e,t||[])).next())}))},$e=function(e,t){var n,a,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=0<(o=r.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},et=(Xe=(0,Xe.createItemPurchase)())[0],tt=Xe[1],nt=_e.PlayabilityStatus,at=(0,t.withTranslations)((function(e){var t=e.translate,n=e.universeId,a=e.placeId,o=void 0===(i=e.iconClassName)?"icon-robux-white":i,r=e.refetchPlayabilityStatus,i=(c=(0,Ae.useState)(void 0))[0],l=c[1],c=(e=(0,Ae.useState)(void 0))[0],s=e[1];return(0,Ae.useEffect)((function(){Ze(void 0,void 0,void 0,(function(){var e;return $e(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Oe([n])];case 1:return e=t.sent(),l(e),[3,3];case 2:return e=t.sent(),console.log(e),[3,3];case 3:return[2]}}))})),Ze(void 0,void 0,void 0,(function(){var e;return $e(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Me([a])];case 1:return e=t.sent(),s(e),[3,3];case 2:return e=t.sent(),console.log(e),[3,3];case 3:return[2]}}))}))}),[]),void 0===i||void 0===c?De().createElement(Je.Loading,null):De().createElement(De().Fragment,null,De().createElement(Je.Button,{"data-testid":"play-purchase-button",className:"btn-full-width btn-common-play-game-lg",onClick:function(e){e.preventDefault(),e.stopPropagation(),tt.start()}},De().createElement("span",{className:o}),De().createElement("span",{className:"btn-text"},i.price)," "),De().createElement(et,Qe({},{translate:t,productId:i.productId,expectedPrice:i.price,thumbnail:De().createElement(Ke.Thumbnail2d,{type:Ke.ThumbnailTypes.gameIcon,size:Ke.DefaultThumbnailSize,targetId:parseInt(n,10),imgClassName:"game-card-thumb",format:Ke.ThumbnailFormat.jpeg}),assetName:c.name,assetType:"Place",sellerName:c.builder,expectedCurrency:1,expectedSellerId:i.sellerId,onPurchaseSuccess:r,isPlace:!0})))}),Ye),ot=(0,t.withTranslations)((function(e){var t=e.translate;e=e.playabilityStatus;return De().createElement("span",{"data-testid":"play-error",className:"error-message"},t(_e.playButtonTranslationMap[e]))}),Ye);He={usePlayabilityStatus:He,PlayabilityStatuses:je,launchGame:Pe,launchLogin:Ee,DefaultPlayButton:function(e){var t=e.placeId,n=e.universeId,a=e.refetchPlayabilityStatus,o=e.playabilityStatus,r=void 0===(e=e.eventProperties)?{}:e;switch(o){case void 0:return De().createElement(Je.Loading,null);case nt.Playable:case nt.GuestProhibited:return De().createElement(Le,{universeId:n,placeId:t,status:o,eventProperties:r});case nt.PurchaseRequired:return De().createElement(at,{refetchPlayabilityStatus:a,universeId:n,placeId:t});default:return De().createElement(ot,{playabilityStatus:o})}},PlayButton:Le,PurchaseButton:at,Error:ot};window.Roblox||(window.Roblox={}),Object.assign(window.Roblox,{AuthenticationChecker:v,GameLauncher:F,GameLaunchLogger:Q,GamePlayEvents:_,PrerollPlayer:R,ProtocolHandlerClientInterface:Te,VideoPreRollDFP:x,PlayButton:He}),n()(document).ready((function(){!function(){var e="click";n()("body").on(e,".VisitButtonPlay, .VisitButtonPlayGLI",(function(){var e,t,o,r,i,l=n()(this);(l.hasClass("VisitButtonPlay")||l.hasClass("VisitButtonPlayGLI"))&&(e="PlayButton"),e&&(t=n()(this).attr("placeid"),o=n()(this).data("universe-id"),i=n()(this).data("user-id"),r=n()(this).data("originator-type"),l=n()(this).data("originator-id"),"GameUpdateNotification"===r&&n().ajax({url:"".concat(a.EnvironmentUrls.notificationApi,"/v2/stream-notifications/game-update-notification-interacted"),type:"POST",data:{universeId:o,createdOn:new Date(l),interactionType:"Played",currentUserId:i}}),i=a.UrlParser?a.UrlParser.getParameterValueByName("rbxp"):null,_.SendGamePlayIntent(e,t,i))})),n()("body").on(e,".VisitButtonEdit, .VisitButtonEditGLI",(function(){var e=n()(this).attr("placeid");_.SendDevelopIntent("Edit",e)})),n()("#rbx-running-games").on(e,".rbx-game-server-item .rbx-game-server-join",(function(){var e=n()(this).data("placeid");e&&_.SendGamePlayIntent("JoinInstance",e)})),n()("#rbx-friends-running-games").on(e,".rbx-friends-game-server-item .rbx-friends-game-server-join",(function(){var e=n()(this).data("placeid");e&&_.SendGamePlayIntent("JoinInstance",e)})),n()("#game-instances").on(e,"#rbx-vip-servers .rbx-vip-server-item .rbx-vip-server-join",(function(){var e=n()(this).data("placeid");e&&_.SendGamePlayIntent("PrivateServer",e)})),n()("#build-page").on(e,".roblox-edit-button",(function(){var e;(e=(e=n()(this).parents("table.item-table")).data("rootplace-id")||e.data("item-id"))&&_.SendDevelopIntent("Edit",e)}))}();var e=(0,a.DeviceMeta)();(e.isUWPApp||e.isUniversalApp)&&(window.Roblox.AppHybridClientInterface=l,F.setGameLaunchInterface(l)),F.setGameLaunchLogger(Q)}))}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("GameLaunch");