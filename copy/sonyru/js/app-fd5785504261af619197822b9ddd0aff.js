function ImageSource(){this.constructImageUrlsWithHeight=function(e,t,i,n,o,s,a){function r(e){return e.indexOf("?")>=0?"&":"?"}function l(e){return e>0?"&hei="+e:""}var c=2*(t=t||400),u=2*(i=i||-1),d=2*(n=n||-1),h=2*(o=o||-1),p=2*(s=s||-1),f=2*(a=a||-1),g=e&&e.images&&e.images.desktop&&e.images.desktop.externalUrl?e.images.desktop.externalUrl:window.imagePlaceholder,m=e&&e.images&&e.images.tablet&&e.images.tablet.externalUrl?e.images.tablet.externalUrl:g,v=e&&e.images&&e.images.phone&&e.images.phone.externalUrl?e.images.phone.externalUrl:g;return{"data-src-desktop":g+r(g)+"wid="+t+l(o),"data-src-tablet":m+r(m)+"wid="+i+l(s),"data-src-phone":v+r(v)+"wid="+n+l(a),"data-src-desktop-highres":g+r(g)+"wid="+c+l(h),"data-src-tablet-highres":m+r(m)+"wid="+u+l(p),"data-src-phone-highres":v+r(v)+"wid="+d+l(f),get:function(e){return this[e]}}},this.constructImageUrls=function(e,t,i,n){return t=t||400,this.constructImageUrlsWithHeight(e,t,i,n,-1,-1,-1)},this.getNoFadeClass=function(e,t,i){return"image/jpg"==e&&i||t&&i?" no-fade":""}}if(define("urlHelper",["require","jquery","require/sony-global-settings","windowHelper"],(function(e){var t=e("jquery"),i=e("require/sony-global-settings"),n=e("windowHelper");return String.prototype.contains=function(e){return this.indexOf(e)>=0},{getFullPath:function(){return parseUri(n.getLocation()).path},getPathWithQueryString:function(){return this.getFullPath()+this.getQueryString()},getQueryString:function(){return n.getQueryString()},addParamsTo:function(e,i,n){var o=this;return t.each(i,(function(t,i){e=o.addParamTo(e,t,i,n)})),e},addParamTo:function(e,i,n,o){var s=this.getAllParamsFrom(e);o?s[i]=[n]:s[i]?s[i].push(n):s[i]=[n];var a=[];return t.each(s,(function(e,i){t.each(i,(function(t,i){a.push(encodeURI(e)+"="+encodeURI(i))}))})),decodeURI(e).split("?")[0]+"?"+a.join("&")},appendParamTo:function(e,t,i){var n=(e.contains("?")?"&":"?")+t+"="+i;return e+n},removeParam:function(e,i){var n=this.getAllParamsFrom(e),o=[];t.each(n,(function(e,n){e!=i&&t.each(n,(function(t,i){o.push(e+"="+i)}))}));var s=decodeURI(e).split("?");return o.length>0?s[0]+"?"+o.join("&"):s[0]},getParamValueFrom:function(e,t){return this.getAllParamsFrom(e)[t]},getAllParamsFrom:function(e){var t=decodeURI(e).split("?"),i=t.length>=2?t[1].split("#")[0]:"",n=i.split("&"),o={};if(i.length<=0)return o;for(var s=0;s<n.length;s++){var a=n[s].split("=");if(o[a[0]]){var r=o[a[0]].length;o[a[0]][r]=a[1]}else o[a[0]]=new Array(a[1])}return o},pushState:function(e,t,n){this.getPathWithQueryString()!==e&&t&&!i.isLTIE10&&window.history.pushState(n,null,e)},replaceState:function(e,t,n){t&&!i.isLTIE10&&window.history.replaceState(n,null,e)}}})),define("secondary/sony-storage",["require","jquery","cookieStorage"],(function(e){var t=e("jquery");e("cookieStorage");var i=function(e){this.isSessionOnly="session"==e,this.init()};return i.prototype={constructor:i,init:function(){this.storage=this.isWebStorageAvailable()?this.isSessionOnly?sessionStorage:localStorage:this._cookieStorage()},_cookieStorage:function(){var e=this;return t.cookie.raw=!0,{setItem:function(i,n){var o={path:"/"};e.isSessionOnly||(o.expires=365),t.cookie(i,n,o)},getItem:function(e){return t.cookie(e)||null},removeItem:function(e){t.cookie(e,"",{expires:-1,path:"/"}),t.removeCookie(e,{path:"/"})},checkItem:function(e){return void 0===t.cookie(e)}}},isWebStorageAvailable:function(){try{return localStorage.setItem("test",1),localStorage.removeItem("test"),!0}catch(e){return!1}},setItem:function(e,t){this.storage.setItem(e,t)},getItem:function(e){return this.storage.getItem(e)},removeItem:function(e){this.storage.removeItem(e)},checkItem:function(e){return null===this.storage.getItem(e)}},i})),define("localStoreHelper",["require","secondary/sony-storage"],(function(e){var t=e("secondary/sony-storage");return new function(){var e=new t("session");this.setObj=function(t,i){return e.setItem(t,JSON.stringify(i))},this.getObj=function(t){var i=e.getItem(t);return JSON.parse(i)},this.removeObj=function(t){e.removeItem(t)},this.isPresent=function(e){return null!=this.getObj(e)}}})),define("ciqDataStoreUtils",["require","urlHelper","localStoreHelper"],(function(e){var t=e("urlHelper"),i=e("localStoreHelper");return{init:function(){var e=$("body").attr("data-campaign-source-param"),n=t.getParamValueFrom(location.href,e),o=t.getParamValueFrom(location.href,"cid");if(n){i.removeObj("src");var s=n.filter((function(e){return["email","banner","apps","social","paid-search"].indexOf(e)>-1}));s.length&&function(e){i.setObj("src",e)}(s[0])}o&&i.setObj("gwt_cid",o)}}})),define("global.init",["require","bootstrap","modernizr","enquire","urlHelper","localStoreHelper","url","ciqDataStoreUtils"],(function(e){(e("bootstrap"),e("modernizr"),e("enquire"),e("urlHelper"),e("localStoreHelper"),e("url"),e("ciqDataStoreUtils")).init()})),define("utils/utils",["require","jquery"],(function(e){var t=e("jquery");Array.prototype.clean=function(e){for(var t=0,i=this.length;i>t;t++)this[t]===e&&(this.splice(t,1),t--);return this},Array.prototype.contains=function(e){return!(0>this.indexOf(e))},String.prototype.endsWith=function(e){var t=this.lastIndexOf(e);return-1!=t&&t+e.length==this.length},Math.roundToPointFive=function(e){return Math.floor(2*e+.5)/2},t.fn.isModuleInitialized=function(){return!!t(this).data("moduleInitialized")}})),define("secondary/sony-scrolltotop",["require","jquery","require/sony-global-settings","require/sony-global-utilities","require/sony-global-environment","plugins/index"],(function(e){var t=e("jquery"),i=e("require/sony-global-settings"),n=e("require/sony-global-utilities"),o=e("require/sony-global-environment"),s=(e("plugins/index").throttleDebounce,{init:function(){t(".scroll-to-top").length>0&&t(".scroll-to-top").scrollToTop()}}),a=function(e,n){var o=this;t.extend(o,{},t.fn.scrollToTop.defaults,n,t.fn.scrollToTop.settings),o.$el=t(e),o.$window=i.$window,o.$document=i.$document,o.$nextEl=o.$el.next(),o._init()};return a.prototype={constructor:a,update:function(){var e=this,n=e.$window.scrollTop(),o=t("body").hasClass("icon_banner_active")?50:0;e.$el.toggleClass("fixed",e.$nextEl.offset().top+o>n+i.windowHeight),e.$el.toggleClass("opacity0",400>n)},_init:function(){var e=this;if(i.isModern||!i.isLTIE9){e.update();var s=t.throttle(100,t.proxy(e.update,e));o.on("global:resizeDebounced",s),e.$window.on("scroll",s),e.$document.on("touchmove gesturechange",s)}else e.$el.removeClass("opacity0");e.$el.find("a").on("click",(function(e){e.preventDefault(),n.scrollToTop(),t(".brand:visible:first").trigger("focus")})),log("SONY : ScrollToTop : Initialized")}},t.fn.scrollToTop=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this),o=n.data("scrollToTop");o||(o=new a(n,e),n.data("scrollToTop",o)),"string"==typeof e&&o[e].apply(o,i)}))},s.init(),s})),define("fontLoader",["require","jquery"],(function(e){var t=e("jquery");t((function(){var e=t("head"),i=t("<link />",{rel:"stylesheet"});t("meta.deferred-css").each((function(){var t=this.getAttribute("data-href");setTimeout((function(){e.append(i.clone().attr({href:t}))}),1)}))}))})),function(e,t){var i="function",n="undefined",o="object",s="model",a="name",r="type",l="vendor",c="version",u="architecture",d="console",h="mobile",p="tablet",f="smarttv",g="wearable",m={extend:function(e,t){for(var i in t)-1!=="browser cpu device engine os".indexOf(i)&&t[i].length%2==0&&(e[i]=t[i].concat(e[i]));return e},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.split(".")[0]:t}},v={rgx:function(){for(var e,s,a,r,l,c,u,d=0,h=arguments;d<h.length&&!c;){var p=h[d],f=h[d+1];if(typeof e===n)for(r in e={},f)f.hasOwnProperty(r)&&(typeof(l=f[r])===o?e[l[0]]=t:e[l]=t);for(s=a=0;s<p.length&&!c;)if(c=p[s++].exec(this.getUA()))for(r=0;r<f.length;r++)u=c[++a],typeof(l=f[r])===o&&l.length>0?2==l.length?e[l[0]]=typeof l[1]==i?l[1].call(this,u):l[1]:3==l.length?e[l[0]]=typeof l[1]!==i||l[1].exec&&l[1].test?u?u.replace(l[1],l[2]):t:u?l[1].call(this,u,l[2]):t:4==l.length&&(e[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):t):e[l]=u||t;d+=2}return e},str:function(e,i){for(var n in i)if(typeof i[n]===o&&i[n].length>0){for(var s=0;s<i[n].length;s++)if(m.has(i[n][s],e))return"?"===n?t:n}else if(m.has(i[n],e))return"?"===n?t:n;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,c],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[a,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[a,c],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],c],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[a,c],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],c],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],c],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[c,[a,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[c,[a,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[c,[a,"Facebook"]],[/fxios\/([\w\.-]+)/i],[c,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[c,v.str,b.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[u,"amd64"]],[/(ia32(?=;))/i],[[u,m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[u,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[u,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[u,/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[[u,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[u,m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,l,[r,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[r,p]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[r,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[s,[l,"Amazon"],[r,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[s,v.str,b.device.amazon.model],[l,"Amazon"],[r,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[r,h]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[r,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[r,h]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[r,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[s,[l,"Asus"],[r,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[r,p]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[l,"Sony"],[s,"Xperia Phone"],[r,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[r,d]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[r,d]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[r,d]],[/(sprint\s(\w+))/i],[[l,v.str,b.device.sprint.vendor],[s,v.str,b.device.sprint.model],[r,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,s,[r,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[l,[s,/_/g," "],[r,h]],[/(nexus\s9)/i],[s,[l,"HTC"],[r,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[r,d]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[r,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[s,[l,"Motorola"],[r,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[r,p]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[r,p]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[r,h]],[/(samsung);smarttv/i],[l,s,[r,f]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[r,f]],[/sie-(\w+)*/i],[s,[l,"Siemens"],[r,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[l,"Nokia"],s,[r,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[l,"Acer"],[r,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[r,p]],[/(lg) netcast\.tv/i],[l,s,[r,f]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[s,[l,"LG"],[r,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[r,p]],[/linux;.+((jolla));/i],[l,s,[r,h]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[r,g]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[r,g]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[r,h]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[r,m.lowerize],l,s]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,c],[/rv\:([\w\.]+).*(gecko)/i],[c,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[c,v.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[c,v.str,b.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],c],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,c],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,c]]},w=function(t,i){if(!(this instanceof w))return new w(t,i).getResult();var n=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),o=i?m.extend(y,i):y;return this.getBrowser=function(){var e=v.rgx.apply(this,o.browser);return e.major=m.major(e.version),e},this.getCPU=function(){return v.rgx.apply(this,o.cpu)},this.getDevice=function(){return v.rgx.apply(this,o.device)},this.getEngine=function(){return v.rgx.apply(this,o.engine)},this.getOS=function(){return v.rgx.apply(this,o.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n),this};w.VERSION="0.7.10",w.BROWSER={NAME:a,MAJOR:"major",VERSION:c},w.CPU={ARCHITECTURE:u},w.DEVICE={MODEL:s,VENDOR:l,TYPE:r,CONSOLE:d,MOBILE:h,SMARTTV:f,TABLET:p,WEARABLE:g,EMBEDDED:"embedded"},w.ENGINE={NAME:a,VERSION:c},w.OS={NAME:a,VERSION:c},typeof exports!==n?(typeof module!==n&&module.exports&&(exports=module.exports=w),exports.UAParser=w):typeof define===i&&define.amd?define("modules/unsupported_browsers/ua-parser.min",[],(function(){return w})):e.UAParser=w;var k=e.jQuery||e.Zepto;if(typeof k!==n){var _=new w;k.ua=_.getResult(),k.ua.get=function(){return _.getUA()},k.ua.set=function(e){_.setUA(e);var t=_.getResult();for(var i in t)k.ua[i]=t[i]}}}("object"==typeof window?window:this),define("modules/unsupported_browsers/browser_details",["require","jquery","modules/unsupported_browsers/ua-parser.min"],(function(e){var t={setCookie:function(e){document.cookie=e},getCookie:function(){return document.cookie}},i=e("jquery"),n="unsupportedbrowser";e("modules/unsupported_browsers/ua-parser.min");var o=function(e,t){return null!=e&&null!=t&&t.toLowerCase()===e.toLowerCase()},s=function(e,t){return parseInt(t)||parseInt(e)?parseInt(e)<=parseInt(t):e.toLowerCase()==t.toLowerCase()},a=function(e,t){return null==t||""==t||e.toLowerCase()===t.toLowerCase()},r=function(){for(var e=n+"=",i=t.getCookie().split(";"),o=0,s=i.length;s>o;o++){var a=i[o];if(0===(a=a.replace(/^\s+|\s+$/g,"")).indexOf(e))return a.substring(e.length,a.length)}return null};return{checkBrowser:function(e){if(null!=r())return!1;for(var t=0;t<e.length;t++){var n=e[t].name,l=e[t].version,c=e[t].platform;if(o(i.ua.browser.name,n)&&s(i.ua.browser.version,l)&&a(i.ua.os.name,c))return!0}return!1},storeCookie:function(e){var t=new Date;t.setTime(t.getTime()+2592e6);var i="expires="+t.toGMTString();this.cookieStore.setCookie(n+"="+e+"; "+i+"; path=/")},cookieStore:t}})),define("modules/unsupported_browsers/module",["require","jquery","iQ","modernizr","require/sony-global-settings","require/sony-global-environment","bootstrap","modules/unsupported_browsers/browser_details"],(function(e){var t=e("jquery"),i=e("iQ"),n=e("modernizr"),o=e("require/sony-global-settings"),s=e("require/sony-global-environment"),a=(e("bootstrap"),e("modules/unsupported_browsers/browser_details")),r=null,l={init:function(){var e=t(".modal-unsupported");e&&new c(e),this.isUnsupportedBrowser()&&s.trigger("unsupportedbrowser")},isUnsupportedBrowser:function(){var e=t("#unsupported-browser-modal").data("unsupportedBrowsers");return e&&(r=a.checkBrowser(e))}},c=function(e){this.$el=e,this.init(),log("SONY : UnsupportedBrowsers : Initialized")};return c.prototype={constructor:c,init:function(){var e=this;e.$modal=e.$el,e.bind()},bind:function(){var e=this;e.$el.find(".close-modal").on("click",(function(t){t.preventDefault(),e.closeModal()})),i.setOnDemandImages(e.$modal.get(0),"unsupportedBrowser"),e.$modal.on("hidden",(function(){s.trigger("global:UnsupportedBrowsers:Modal:Closed")})),s.on("unsupportedbrowser",t.proxy(e.launchModal,e)),s.on("global:resizeDebounced",t.proxy(e.measureModal,e))},isModalOpen:function(){return o.$body.hasClass("modal-open")},launchModal:function(){this.$modal.modal(),i.loadOnDemandImages("unsupportedBrowser"),this.measureModal()},measureModal:function(){if(this.isModalOpen()){var e,t,i=this;n.mq("(min-width: 48em) and (max-width: 61.1875em)")?(e=i.$modal.height(),t=i.$modal.width(),i.positionModal(t,e)):i.resetModal()}},positionModal:function(e,t){this.$modal.css({"margin-top":-t/2,"margin-left":-e/2})},closeModal:function(){null!=r&&a.storeCookie(r),this.$modal.modal("hide")},resetModal:function(){this.$modal.css({"margin-top":"","margin-left":""})}},l})),define("secondary/sony-global-modal",["require","cookieStorage","jquery","secondary/sony-modal","modules/unsupported_browsers/module","require/sony-global-environment"],(function(e){e("cookieStorage");var t=e("jquery"),i=e("secondary/sony-modal"),n=e("modules/unsupported_browsers/module"),o=e("require/sony-global-environment"),s="gwt_global_alert",a=function(e){function i(){r&&!u&&a.show()}var a=this,r=t("body").data("show-global-modal"),l=n.isUnsupportedBrowser()||!1,c=t.cookie("unsupportedbrowser",Boolean),u=t.cookie(s,Boolean);a.options=t.extend({},{url:"",timeout:null,test:!1},e),l?c?i():o.on("global:UnsupportedBrowsers:Modal:Closed",i.bind(a)):i()},r=function(){t.cookie(s,"true",{path:"/"})};return a.prototype={show:function(){var e=this;if(this.options.test){var n=this.options.test,o=t('<div class="modal-content">');if(o.html(n),e.modal=i.create({content:o}),e.modal.$modal.addClass("global-modal"),e.modal.center(),e.modal.$modal.attr("tabindex","-1"),r(),!e.options.timeout)return;setTimeout((function(){e.modal.destroy()}),1e3*e.options.timeout)}else t.get(this.options.url).then((function(n){var o=t('<div class="modal-content">');o.html(n),e.modal=i.create({content:o}),e.modal.$modal.addClass("global-modal"),e.modal.center(),e.modal.$modal.attr("tabindex","-1"),r(),e.options.timeout&&setTimeout((function(){e.modal.destroy()}),1e3*e.options.timeout)}))}},a})),define("main.app",["require","jquery","secondary/sony-scrolltotop","fontLoader","require/sony-global-environment","secondary/sony-global-modal"],(function(e){var t=e("jquery"),i=(e("secondary/sony-scrolltotop"),e("fontLoader"),e("require/sony-global-environment")),n=e("secondary/sony-global-modal");t(document).ready((function(){function e(){t(".js-banner-creator .yt_player_iframe").each((function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}if(-1===window.location.href.indexOf("electronics/support/tvhelp")){var n=t("section[order]"),o=t(n).sort((function(e,i){var n=parseInt(t(e).css("order")),o=parseInt(t(i).css("order"));return o>n?-1:n>o?1:0})),s=!1;t(o).each((function(){s&&t(".area.body").append(t(this)),s||"support_categories-container"!==t(this).attr("id")||(s=!0)}))}var a=t("body");a.on("click",".js-banner-creator .js-trigger-open-overlay",(function(){t(this).parent().find(".js-banner-video-overlay").addClass("overlay-opened")})),a.on("click",".js-banner-creator .js-trigger-overlay-close",(function(){e(),t(this).parents(".js-banner-video-overlay").removeClass("overlay-opened")})),a.on("keypress",".js-banner-creator .js-trigger-overlay-close",(function(i){13===i.which&&(e(),t(this).parents(".js-banner-video-overlay").removeClass("overlay-opened"))})),a.on("click",".js-overlay-wrapper",(function(){var i=t(".js-banner-creator .banner-video-overlay.overlay-opened");i[0]&&(e(),i.removeClass("overlay-opened"))})),t(document).keyup((function(i){if(27===i.which){var n=t(".js-banner-creator .banner-video-overlay.overlay-opened");n[0]&&(e(),n.removeClass("overlay-opened"))}})),t(".video-link").on("click",(function(){s7EmbedInit()})),t(".ps-module ul.jump-links")&&t(".ps-module ul.jump-links li a").each((function(){var e=t(this);0==t(e.attr("href")).length&&e.closest("li").remove()})),t("ul.jump-links.is-addon")&&t("ul.jump-links.is-addon li a").each((function(){var e=t(this);0==t(e.attr("href")).length&&e.closest("li").remove()})),t(".ps-module ul.jump-links")&&t(".js-jump-link-container").each((function(){var e=t(this);t(e.find("li")).length<=1&&e.hide()})),t("ul.jump-links.is-addon")&&t(".js-jump-link-container").each((function(){var e=t(this);1>=t(e.find("li")).length&&e.hide()})),t("ul.jump-links")&&(t("ul.jump-links:not(.js-jump-links-group-item)").each((function(){t(this).find("li.active").length<1&&t(this).find("li").first().addClass("active")})),t(".js-jump-links-group").each((function(){t(this).find("li.active").length<1&&t(this).find("li").first().addClass("active")})),setTimeout((function(){i.trigger("global:resizeDebounced")}),500)),t("ul.share-menu .social-link").click((function(){return window.open(this.href,"popup","width=600,height=465,resizable=0"),!1})),t(window).resize((function(){setTimeout((function(){t("body").scrollspy("refresh")}),200)}))})),new n({url:"/overlay_page",timeout:30})})),!footNote)var footNote={remove:function(){}};jade=function(e){function t(e){return null!=e}return Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}),e.merge=function(e,i){var n=e.class,o=i.class;for(var s in(n||o)&&(n=n||[],o=o||[],Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]),n=n.filter(t),o=o.filter(t),e.class=n.concat(o).join(" ")),i)"class"!=s&&(e[s]=i[s]);return e},e.attrs=function(t,i){var n=[],o=t.terse;delete t.terse;var s=Object.keys(t),a=s.length;if(a){n.push("");for(var r=0;a>r;++r){var l=s[r],c=t[l];"boolean"==typeof c||null==c?c&&n.push(o?l:l+'="'+l+'"'):n.push(0==l.indexOf("data")&&"string"!=typeof c?l+"='"+JSON.stringify(c)+"'":"class"==l&&Array.isArray(c)?l+'="'+e.escape(c.join(" "))+'"':i&&i[l]?l+'="'+e.escape(c)+'"':l+'="'+c+'"')}}return n.join(" ")},e.escape=function(e){return String(e).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(e,t,i){if(!t)throw e;var n=3,o=require("fs").readFileSync(t,"utf8").split("\n"),s=Math.max(i-n,0),a=Math.min(o.length,i+n);n=o.slice(s,a).map((function(e,t){var n=t+s+1;return(n==i?"  > ":"    ")+n+"| "+e})).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+i+"\n"+n+"\n\n"+e.message,e},e}({}),jade.templates={},jade.render=function(e,t,i){var n=jade.templates[t](i);e.innerHTML=n},jade.templates.products_strip=function(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;showJpeg=data.showJpeg,showProgressiveJpeg=data.showProgressiveJpeg,imagePlaceHolderUrl=window&&window.imagePlaceholder?window.imagePlaceholder:requestContext.site.image.placeholder.url,globalShowJpeg=showJpeg||!1,globalShowProgressiveJpeg=showProgressiveJpeg||!1,imagePlaceHolderUrl||(imagePlaceHolderUrl="www.sony.com/image/placeholder?fmt=jpeg");var imageTag_mixin=function(e,t,i,n,o,s,a,r,l,c){this.block,this.attributes,this.escaped,c=!!c&&"true",(null==l||null==l)&&(l=""),buf.push("<img"),buf.push(attrs({"data-id":image_id,"data-src-desktop":e,"data-src-tablet":t,"data-src-phone":i,"data-src-desktop-highres":n,"data-src-tablet-highres":o,"data-src-phone-highres":s,alt:l,"data-sequence-id":r,"data-deferred":c,class:a},{"data-id":!0,class:!0,"data-src-desktop":!0,"data-src-tablet":!0,"data-src-phone":!0,"data-src-desktop-highres":!0,"data-src-tablet-highres":!0,"data-src-phone-highres":!0,alt:!0,"data-sequence-id":!0,"data-deferred":!0})),buf.push("/><noscript>"),a&&(a=a.replace("iq-img",""),buf.push("<img"),buf.push(attrs({src:e,alt:l,"data-sequence-id":r,class:a},{class:!0,src:!0,alt:!0,"data-sequence-id":!0})),buf.push("/>")),buf.push("</noscript>")},imageTagWithParams_mixin=function(e,t,i,n,o,s,a,r,l,c,u,d){this.block,this.attributes,this.escaped,data_color=!!c["data-color"]&&c["data-color"],item_prop=!!c.itemprop&&c.itemprop,iq_on_demand=!!c["iq-on-demand"]&&c["iq-on-demand"],u=!!u&&"true",(null==l||null==l)&&(l=""),buf.push("<img"),buf.push(attrs({"data-id":d,"data-src-desktop":e,"data-src-tablet":t,"data-src-phone":i,"data-src-desktop-highres":n,"data-src-tablet-highres":o,"data-src-phone-highres":s,"data-sequence-id":r,alt:l,"data-color":data_color,itemprop:item_prop,"data-deferred":u,"data-iq-on-demand":iq_on_demand,class:a},{"data-id":!0,class:!0,"data-src-desktop":!0,"data-src-tablet":!0,"data-src-phone":!0,"data-src-desktop-highres":!0,"data-src-tablet-highres":!0,"data-src-phone-highres":!0,"data-sequence-id":!0,alt:!0,"data-color":!0,itemprop:!0,"data-deferred":!0,"data-iq-on-demand":!0})),buf.push("/><noscript><img"),buf.push(attrs({src:e,alt:l,itemprop:item_prop,class:a},{class:!0,src:!0,alt:!0,itemprop:!0})),buf.push("/></noscript>")},imageDiv_mixin=function(e,t,i,n,o,s,a,r,l,c,u,d){var h=this.block;this.attributes,this.escaped,l=!!l&&"true",c=c||"",iq_on_demand=!!c["iq-on-demand"]&&c["iq-on-demand"],buf.push("<div"),buf.push(attrs({"data-id":u,title:d,"data-src-desktop":e,"data-src-tablet":t,"data-src-phone":i,"data-src-desktop-highres":n,"data-src-tablet-highres":o,"data-src-phone-highres":s,"data-sequence-id":r,"data-deferred":l,"data-iq-on-demand":iq_on_demand,class:a},{"data-id":!0,class:!0,title:!0,"data-src-desktop":!0,"data-src-tablet":!0,"data-src-phone":!0,"data-src-desktop-highres":!0,"data-src-tablet-highres":!0,"data-src-phone-highres":!0,"data-sequence-id":!0,"data-deferred":!0,"data-iq-on-demand":!0})),buf.push(">"),h&&h(),buf.push("</div>")},image_mixin=function(e,t,i,n,o,s,a,r,l,c,u,d,h){var p=this.block;this.attributes,this.escaped,o=o?o+" iq-img":"iq-img",mimeType=e&&e.images&&e.images.desktop&&e.images.desktop.mimeType?e.images.desktop.mimeType:"",md5=e&&e.images&&e.images.desktop&&e.images.desktop.md5?e.images.desktop.md5:"",o+=imageSource.getNoFadeClass(mimeType,globalShowJpeg,globalShowProgressiveJpeg),s=null!=s&&s,a=a||"",t=t||400,i=i||t,n=n||t,use_sharpening=!!l,showJpegFlag=null==u&&globalShowJpeg,showPJpegFlag=null==d&&globalShowProgressiveJpeg,imageUrls=imageSource.constructImageUrls(e,t,i,n,use_sharpening,showJpegFlag,imagePlaceHolderUrl,showPJpegFlag,c),desktop_url=imageUrls["data-src-desktop"],tablet_url=imageUrls["data-src-tablet"],phone_url=imageUrls["data-src-phone"],desktop_highres_url=imageUrls["data-src-desktop-highres"],tablet_highres_url=imageUrls["data-src-tablet-highres"],phone_highres_url=imageUrls["data-src-phone-highres"],image_id="img_"+md5,altText=null!=h?"":e.altText,r=!!r&&"true",bg_flag="true",e&&e.background&&(bg_flag=e.background),"true"==bg_flag?imageDiv_mixin.call({block:function(){p&&p()}},desktop_url,tablet_url,phone_url,desktop_highres_url,tablet_highres_url,phone_highres_url,o,s,r,a,image_id,altText):a&&a.size()>0?imageTagWithParams_mixin(desktop_url,tablet_url,phone_url,desktop_highres_url,tablet_highres_url,phone_highres_url,o,s,altText,a,r,image_id):imageTag_mixin(desktop_url,tablet_url,phone_url,desktop_highres_url,tablet_highres_url,phone_highres_url,o,s,altText,r,image_id)},imageImg_mixin=function(e,t,i,n,o,s,a,r,l,c,u){this.block,this.attributes,this.escaped,e&&(e.background="false"),image_mixin(e,t,i,n,o,s,a,r,l,c,u)};showJpeg=data.showJpeg,showProgressiveJpeg=data.showProgressiveJpeg,imagePlaceHolderUrl=window&&window.imagePlaceholder?window.imagePlaceholder:requestContext.site.image.placeholder.url,globalShowJpeg=showJpeg||!1,globalShowProgressiveJpeg=showProgressiveJpeg||!1,imagePlaceHolderUrl||(imagePlaceHolderUrl="www.sony.com/image/placeholder?fmt=jpeg");var imageTag_mixin=function(e,t,i,n,o,s,a,r,l,c){this.block,this.attributes,this.escaped,c=!!c&&"true",(null==l||null==l)&&(l=""),buf.push("<img"),buf.push(attrs({"data-id":image_id,"data-src-desktop":e,"data-src-tablet":t,"data-src-phone":i,"data-src-desktop-highres":n,"data-src-tablet-highres":o,"data-src-phone-highres":s,alt:l,"data-sequence-id":r,"data-deferred":c,class:a},{"data-id":!0,class:!0,"data-src-desktop":!0,"data-src-tablet":!0,"data-src-phone":!0,"data-src-desktop-highres":!0,"data-src-tablet-highres":!0,"data-src-phone-highres":!0,alt:!0,"data-sequence-id":!0,"data-deferred":!0})),buf.push("/><noscript>"),a&&(a=a.replace("iq-img",""),buf.push("<img"),buf.push(attrs({src:e,alt:l,"data-sequence-id":r,class:a},{class:!0,src:!0,alt:!0,"data-sequence-id":!0})),buf.push("/>")),buf.push("</noscript>")},imageTagWithParams_mixin=function(e,t,i,n,o,s,a,r,l,c,u,d){this.block,this.attributes,this.escaped,data_color=!!c["data-color"]&&c["data-color"],item_prop=!!c.itemprop&&c.itemprop,iq_on_demand=!!c["iq-on-demand"]&&c["iq-on-demand"],u=!!u&&"true",(null==l||null==l)&&(l=""),buf.push("<img"),buf.push(attrs({"data-id":d,"data-src-desktop":e,"data-src-tablet":t,"data-src-phone":i,"data-src-desktop-highres":n,"data-src-tablet-highres":o,"data-src-phone-highres":s,"data-sequence-id":r,alt:l,"data-color":data_color,itemprop:item_prop,"data-deferred":u,"data-iq-on-demand":iq_on_demand,class:a},{"data-id":!0,class:!0,"data-src-desktop":!0,"data-src-tablet":!0,"data-src-phone":!0,"data-src-desktop-highres":!0,"data-src-tablet-highres":!0,"data-src-phone-highres":!0,"data-sequence-id":!0,alt:!0,"data-color":!0,itemprop:!0,"data-deferred":!0,"data-iq-on-demand":!0})),buf.push("/><noscript><img"),buf.push(attrs({src:e,alt:l,itemprop:item_prop,class:a},{class:!0,src:!0,alt:!0,itemprop:!0})),buf.push("/></noscript>")},imageDiv_mixin=function(e,t,i,n,o,s,a,r,l,c,u,d){var h=this.block;this.attributes,this.escaped,l=!!l&&"true",c=c||"",iq_on_demand=!!c["iq-on-demand"]&&c["iq-on-demand"],buf.push("<div"),buf.push(attrs({"data-id":u,title:d,"data-src-desktop":e,"data-src-tablet":t,"data-src-phone":i,"data-src-desktop-highres":n,"data-src-tablet-highres":o,"data-src-phone-highres":s,"data-sequence-id":r,"data-deferred":l,"data-iq-on-demand":iq_on_demand,class:a},{"data-id":!0,class:!0,title:!0,"data-src-desktop":!0,"data-src-tablet":!0,"data-src-phone":!0,"data-src-desktop-highres":!0,"data-src-tablet-highres":!0,"data-src-phone-highres":!0,"data-sequence-id":!0,"data-deferred":!0,"data-iq-on-demand":!0})),buf.push(">"),h&&h(),buf.push("</div>")},image_mixin=function(e,t,i,n,o,s,a,r,l,c,u,d,h){var p=this.block;this.attributes,this.escaped,o=o?o+" iq-img":"iq-img",mimeType=e&&e.images&&e.images.desktop&&e.images.desktop.mimeType?e.images.desktop.mimeType:"",md5=e&&e.images&&e.images.desktop&&e.images.desktop.md5?e.images.desktop.md5:"",o+=imageSource.getNoFadeClass(mimeType,globalShowJpeg,globalShowProgressiveJpeg),s=null!=s&&s,a=a||"",t=t||400,i=i||t,n=n||t,use_sharpening=!!l,showJpegFlag=null==u&&globalShowJpeg,showPJpegFlag=null==d&&globalShowProgressiveJpeg,imageUrls=imageSource.constructImageUrls(e,t,i,n,use_sharpening,showJpegFlag,imagePlaceHolderUrl,showPJpegFlag,c),desktop_url=imageUrls["data-src-desktop"],tablet_url=imageUrls["data-src-tablet"],phone_url=imageUrls["data-src-phone"],desktop_highres_url=imageUrls["data-src-desktop-highres"],tablet_highres_url=imageUrls["data-src-tablet-highres"],phone_highres_url=imageUrls["data-src-phone-highres"],image_id="img_"+md5,altText=null!=h?"":e.altText,r=!!r&&"true",bg_flag="true",e&&e.background&&(bg_flag=e.background),"true"==bg_flag?imageDiv_mixin.call({block:function(){p&&p()}},desktop_url,tablet_url,phone_url,desktop_highres_url,tablet_highres_url,phone_highres_url,o,s,r,a,image_id,altText):a&&a.size()>0?imageTagWithParams_mixin(desktop_url,tablet_url,phone_url,desktop_highres_url,tablet_highres_url,phone_highres_url,o,s,altText,a,r,image_id):imageTag_mixin(desktop_url,tablet_url,phone_url,desktop_highres_url,tablet_highres_url,phone_highres_url,o,s,altText,r,image_id)},imageImg_mixin=function(e,t,i,n,o,s,a,r,l,c,u){this.block,this.attributes,this.escaped,e&&(e.background="false"),image_mixin(e,t,i,n,o,s,a,r,l,c,u)},productRating_mixin=function(e,t,n,o){if(this.block,this.attributes,this.escaped,totalReviewCount=!!e&&e.aggregatedRatings.totalReviewCount,reviewCount=totalReviewCount||0,productRatingText=messageFormatter.format(t,reviewCount),hasReviewLink=!!n,prefix=" (",suffix=")",overallRating=e.aggregatedRatings.averageOverallRating?e.aggregatedRatings.averageOverallRating:0,e&&e.aggregatedRatings){for(roundedRating=Math.roundToPointFive(overallRating),buf.push("<div"),buf.push(attrs({"data-stars":roundedRating,itemprop:"aggregateRating",itemscope:!0,itemtype:"http://schema.org/AggregateRating",class:"product-rating"},{"data-stars":!0,itemprop:!0,itemscope:!0,itemtype:!0})),buf.push(">"),i=1;i<=5;)buf.push('<span class="star-holder">'),buf.push(Math.roundToPointFive(i)<=roundedRating?'<i aria-hidden="true" class="fi fonticon-10-star active"></i><i aria-hidden="true" class="fi fonticon-10-star-half active"></i>':Math.roundToPointFive(i)-.5<=roundedRating?'<i aria-hidden="true" class="fi fonticon-10-star"></i><i aria-hidden="true" class="fi fonticon-10-star-half active"></i>':'<i aria-hidden="true" class="fi fonticon-10-star"></i>'),buf.push("</span>"),i+=1;buf.push('<span class="lt4 reviews-text">'+(null==(interp=prefix)?"":interp)),hasReviewLink?link_mixin.call({block:function(){buf.push('<span class="review-count">'+(null==(interp=reviewCount)?"":interp)+'</span><span class="review-text">'+(null==(interp=productRatingText)?"":interp)+"</span>")}},n):buf.push('<span class="review-count">'+(null==(interp=reviewCount)?"":interp)+'</span><span class="review-text">'+(null==(interp=productRatingText)?"":interp)+"</span>"),buf.push((null==(interp=suffix)?"":interp)+"</span><meta"),buf.push(attrs({itemprop:"reviewCount",content:reviewCount},{itemprop:!0,content:!0})),buf.push("/><meta"),buf.push(attrs({itemprop:"ratingValue",content:overallRating},{itemprop:!0,content:!0})),buf.push("/></div>")}else if(o){for(buf.push('<div class="product-rating">'),i=1;i<=5;)buf.push('<span class="star-holder"><i aria-hidden="true" class="fi fonticon-10-star"></i></span>'),i+=1;buf.push("</div>")}else buf.push('<div style="display:block" class="product-rating"></div>')},nameBlock_mixin=function(e,t,i,n){this.block,this.attributes,this.escaped,isLink=null!=i,n=n||!1,isLink?(buf.push('<div class="product-content"><div class="product-name-wrap"><a'),buf.push(attrs({href:i},{href:!0})),buf.push('><div class="product-name p3"><strong>'+(null==(interp=e.marketingProductName)?"":interp)+'</strong></div><div itemprop="model" class="product-model l3">'+(null==(interp=data.number)?"":interp)+"</div></a></div></div>"),n&&(data.ratings&&data.ratings.aggregatedRatings?(buf.push("<a"),buf.push(attrs({href:i+"#reviews_awards_v2_default",stye:"margin:1em 0"},{href:!0,stye:!0})),buf.push(">"),productRating_mixin(e.ratings,"{0}",!1),buf.push("</a>")):productRating_mixin(e.ratings,"{0}",!1)),requestContext.site.toggle.showEcoEnergyLabelInGallery&&e.ecoEnergyInfo?(buf.push('<div class="price-eco-energy-label-wrapper">'),t||priceBlock_mixin(e,"p2 price"),ecoEnergyLabel_mixin(e.ecoEnergyInfo,!0),buf.push("</div>")):t||priceBlock_mixin(e,"p2 price")):(buf.push('<div class="product-content"><div class="product-name-wrap"><div class="product-name p3"><strong>'+(null==(interp=e.marketingProductName)?"":interp)+'</strong></div><div itemprop="model" class="product-model l3">'+(null==(interp=data.number)?"":interp)+"</div></div>"),n&&productRating_mixin(e.ratings,"{0}",!1),t||priceBlock_mixin(e,"p2 price"),buf.push("</div>"))},priceBlock_mixin=function(e,t,i,n){this.block,this.attributes,this.escaped,pricing=e.price,recyclingDisclaimerTextVisibility=!(!e.priceDisclaimerType||""==e.priceDisclaimerType),recyclingCostText=recyclingDisclaimerTextVisibility?moduleContext.localized[e.priceDisclaimerType+".text"]:"",buf.push("<div"),buf.push(attrs({class:"product-price "+(n?"":"product-price--show")},{class:!0})),buf.push(">"),pricing.amount?(locale=requestContext.locale,configs=priceBlockUtils.getPricingConfigs(moduleContext.localized,requestContext.site),pricingConfigsInOrder=configs.pricingConfigsInOrder,function(){if("number"==typeof pricingConfigsInOrder.length)for(var e=0,i=pricingConfigsInOrder.length;i>e;e++){"rrp"==(n=pricingConfigsInOrder[e]).key&&(rrpText=n.value,buf.push('<span style="margin-left: !{config.spaceInPx.left}px; margin-right: !{config.spaceInPx.right}px " class="p3 price-prefix">'+(null==(interp=rrpText)?"":interp)+"</span>")),("starting.at"==n.key||"starting.at_succeeding"==n.key)&&"pricing.for"!=pricing.priceType&&buf.push('<span style="margin-left: !{config.spaceInPx.left}px; margin-right: !{config.spaceInPx.right}px " class="p3 price-prefix">'+(null==(interp=n.value)?"":interp)+"</span>"),"price_placeholder"==n.key&&formatCurrency_mixin.call({block:function(){buf.push("<span"),buf.push(attrs({style:"margin-left: !{config.spaceInPx.left}px; margin-right: !{config.spaceInPx.right}px ",class:t},{class:!0,style:!0})),buf.push("><strong>"+(null==(interp=formattedCurrency.formattedPrice)?"":interp)+"</strong></span>")}},pricing,locale)}else for(var e in pricingConfigsInOrder){var n;"rrp"==(n=pricingConfigsInOrder[e]).key&&(rrpText=n.value,buf.push('<span style="margin-left: !{config.spaceInPx.left}px; margin-right: !{config.spaceInPx.right}px " class="p3 price-prefix">'+(null==(interp=rrpText)?"":interp)+"</span>")),("starting.at"==n.key||"starting.at_succeeding"==n.key)&&"pricing.for"!=pricing.priceType&&buf.push('<span style="margin-left: !{config.spaceInPx.left}px; margin-right: !{config.spaceInPx.right}px " class="p3 price-prefix">'+(null==(interp=n.value)?"":interp)+"</span>"),"price_placeholder"==n.key&&formatCurrency_mixin.call({block:function(){buf.push("<span"),buf.push(attrs({style:"margin-left: !{config.spaceInPx.left}px; margin-right: !{config.spaceInPx.right}px ",class:t},{class:!0,style:!0})),buf.push("><strong>"+(null==(interp=formattedCurrency.formattedPrice)?"":interp)+"</strong></span>")}},pricing,locale)}}.call(this),pricing.minPricingDifferentiator&&requestContext.site.toggle.showPriceWithDifferentiator&&buf.push('<p class="p3 price-differentiator">'+(null==(interp=messageFormatter.format(moduleContext.localized["pricing.suffix"],pricing.minPricingDifferentiator))?"":interp)+"</p>"),taxDisclaimerText=moduleContext.localized["tax_disclaimer.text"],requestContext.site.toggle.showTaxDisclaimer&&taxDisclaimerText&&(buf.push('<p class="p3 price-disclaimer">'+(null==(interp=taxDisclaimerText)?"":interp)+"</p>"),recyclingDisclaimerTextVisibility&&buf.push('<span class="p5 recycling-cost-disclaimer">'+(null==(interp=recyclingCostText)?"":interp)+"</span>"))):("true"==i||i)&&buf.push('<p class="price-unavailable-text">'+(null==(interp=moduleContext.localized["price.unavailable.text"])?"":interp)+"</p>"),buf.push("</div>")},heart_mixin=function(e){this.block,this.attributes,this.escaped,inactiveTitle=moduleContext.localized["favorites.tooltip.add_action"],inactiveClickedTitle=moduleContext.localized["favorites.tooltip.on_add"],favoritedTitle=moduleContext.localized["favorites.tooltip.remove_action"],favoritedClickedTitle=moduleContext.localized["favorites.tooltip.on_remove"],heartClass="favorite-holder js-favorite",data.isFavorited&&(heartClass+=" active"),buf.push("<span"),buf.push(attrs({tabIndex:"0","data-product-name":product.name,"data-default-title":inactiveTitle,"data-default-clicked-title":inactiveClickedTitle,"data-favorited-title":favoritedTitle,"data-favorited-clicked-title":favoritedClickedTitle,class:heartClass},{tabIndex:!0,class:!0,"data-product-name":!0,"data-default-title":!0,"data-default-clicked-title":!0,"data-favorited-title":!0,"data-favorited-clicked-title":!0})),buf.push('><i aria-hidden="true" class="fi fonticon-10-favorite"></i>'),e&&buf.push('<span class="bt3">'+(null==(interp=e)?"":interp)+"</span>"),buf.push("</span>")},product_simple_mixin=function(e,t){this.block,this.attributes,this.escaped,includePrice=1==e.rp,buf.push("<a"),buf.push(attrs({href:e.productUrl,class:"span2 gallery-item simple"},{href:!0})),buf.push('><div class="gallery-item-inner"><div class="product-img"><div class="product-img-wrap">'),invalidImageFamilyToShowPlaceholder=e,primaryShotImageFamily=e.images&&e.images.primaryShot&&e.images.primaryShot[0].imageFamily?e.images.primaryShot[0].imageFamily:invalidImageFamilyToShowPlaceholder,imageImg_mixin(primaryShotImageFamily,165,165,165),buf.push("</div>"),!t&&requestContext&&requestContext.site.toggle.favorites&&heart_mixin(),buf.push("</div>"),nameBlock_mixin(e,!includePrice),buf.push("</div></a>")};tilesPerSlide=6,tileContainerFlag=!1,data.products&&(i=0,function(){if("number"==typeof data.products.length)for(var e=0,t=data.products.length;t>e;e++){(n=data.products[e])&&(i%tilesPerSlide==0&&(tileContainerFlag&&buf.push('</div>\x3c!-- ending "slimgrid"--\x3e</div>\x3c!-- ending "container"--\x3e</div>\x3c!-- ending "sony-carousel-slide"--\x3e'),buf.push('<div class="sony-carousel-slide"><div class="container"><div class="slimgrid">'),tileContainerFlag=!0),i+=1,d=n,d.view="simple",d.rp="strip"==data.mode,product_simple_mixin(d,!0))}else for(var e in data.products){var n;(n=data.products[e])&&(i%tilesPerSlide==0&&(tileContainerFlag&&buf.push('</div>\x3c!-- ending "slimgrid"--\x3e</div>\x3c!-- ending "container"--\x3e</div>\x3c!-- ending "sony-carousel-slide"--\x3e'),buf.push('<div class="sony-carousel-slide"><div class="container"><div class="slimgrid">'),tileContainerFlag=!0),i+=1,d=n,d.view="simple",d.rp="strip"==data.mode,product_simple_mixin(d,!0))}}.call(this),buf.push('</div>\x3c!-- ending "slimgrid"--\x3e</div>\x3c!-- ending "container"--\x3e</div>\x3c!-- ending "sony-carousel-slide"--\x3e'))}return buf.join("")},jade.templates.search_list=function(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp,link_mixin=function(e,t,i,n,o,s,a,r){var l=this.block;if(this.attributes,this.escaped,e&&"none"!=e.targetType)if(t=t||"",style="",text=e.label?e.label:e.text?e.text:"",titleText=text,o&&(t+=" no-text"),(r||o)&&(titleText=""),title=null!=e.altText?e.altText:titleText,title=footNote.remove(title),group=s?s.group:null,url=s?s.url:null,rel=e.rel?e.rel:null,href=e.url?e.url:"#",a=a?-1:0,target=e.openInNewWindow&&"yes"==e.openInNewWindow.toLowerCase()?"_blank":"_self",data_id=e.data_id?e.data_id:"","labelOnly"==e.targetType){if(buf.push("<span"),buf.push(attrs({class:"primary-link labelOnly "+t},{class:!0})),buf.push(">"),text){buf.push("<span>");var c=text;buf.push(null==c?"":c),buf.push("</span>")}l&&l(),buf.push("</span>")}else{if(buf.push("<a"),buf.push(attrs({style:style,title:title,href:href,target:target,rel:rel,"data-id":data_id,"data-new-win":e.openInNewWindow,"data-group":group,"data-url":url,tabindex:a,class:"primary-link "+t},{class:!0,style:!0,title:!0,href:!0,target:!0,rel:!0,"data-id":!0,"data-new-win":!0,"data-group":!0,"data-url":!0,tabindex:!0})),buf.push(">"),i)if(n){if(buf.push("<span"),buf.push(attrs({"aria-hidden":"true",class:"fi "+i},{class:!0,"aria-hidden":!0})),buf.push("></span>"),text){buf.push("<span>");c=text;buf.push(null==c?"":c),buf.push("</span>")}}else{if(text){buf.push("<span>");c=text;buf.push(null==c?"":c),buf.push("</span>")}buf.push("<span"),buf.push(attrs({"aria-hidden":"true",class:"fi "+i},{class:!0,"aria-hidden":!0})),buf.push("></span>")}else if(text){buf.push("<span>");c=text;buf.push(null==c?"":c),buf.push("</span>")}l&&l(),buf.push("</a>")}};(function(){if("number"==typeof list.length)for(var e=0,t=list.length;t>e;e++){if((n=list[e]).text=n.title,buf.push("<li><a"),buf.push(attrs({href:n.url,target:n.openInNewWindow,class:"invisible-link"},{href:!0,target:!0})),buf.push('></a><div class="media">'),n.twitter.imageUrl&&(n.twitter.imageUrl.contains("/image/")?(buf.push('<div class="img"><img'),buf.push(attrs({src:n.twitter.imageUrl+"&wid=165",alt:n.text,class:"itemImage"},{class:!0,src:!0,alt:!0})),buf.push("/></div>")):(buf.push('<div class="img"><img'),buf.push(attrs({src:""+n.twitter.imageUrl,alt:n.text,class:"itemImage"},{class:!0,src:!0,alt:!0})),buf.push("/></div>"))),buf.push('<div class="bd"><div class="results-p"><h1 class="lt3">'),link_mixin(n),buf.push("</h1>"),n.sourceName&&buf.push('<h2 class="lt4">'+(null==(interp=n.sourceName)?"":interp)+"</h2>"),n.gwt.productNumber&&buf.push('<h2 class="lt4">'+(null==(interp=n.gwt.productNumber)?"":interp)+"</h2>"),n.ratings){for(roundedRating=Math.roundToPointFive(n.ratings.aggregatedRatings.averageOverallRating),buf.push("<div"),buf.push(attrs({"data-stars":n.ratings.aggregatedRatings.averageOverallRating,itemprop:"aggregateRating",itemscope:!0,itemtype:"http://schema.org/AggregateRating",class:"product-rating"},{"data-stars":!0,itemprop:!0,itemscope:!0,itemtype:!0})),buf.push(">"),i=1;i<=5;)buf.push('<span class="star-holder">'),buf.push(Math.roundToPointFive(i)<=roundedRating?'<i aria-hidden="true" class="fi fonticon-10-star active"></i><i aria-hidden="true" class="fi fonticon-10-star-half active"></i>':Math.roundToPointFive(i)-.5<=roundedRating?'<i aria-hidden="true" class="fi fonticon-10-star"></i><i aria-hidden="true" class="fi fonticon-10-star-half active"></i>':'<i aria-hidden="true" class="fi fonticon-10-star"></i>'),buf.push("</span>"),i+=1;buf.push('<span itemprop="ratingCount" class="lt4 reviews-text"> ('+(null==(interp=n.ratings.aggregatedRatings.totalReviewCount)?"":interp)+")</span></div>")}n.question&&(buf.push('<h1 class="lt4 italic-hd">'),link_mixin(n.question),buf.push("</h1>")),buf.push('<p class="p4">'+(null==(interp=n.description)?"":interp)+"</p></div></div>"),n.additionalLinks&&(buf.push('<ul class="h-list h-list-md">'),function(){if("number"==typeof n.additionalLinks.length)for(var e=0,t=n.additionalLinks.length;t>e;e++){var i=n.additionalLinks[e];buf.push('<li class="lt4">'),link_mixin(i),buf.push("</li>")}else for(var e in n.additionalLinks){i=n.additionalLinks[e];buf.push('<li class="lt4">'),link_mixin(i),buf.push("</li>")}}.call(this),buf.push("</ul>")),buf.push('<i aria-hidden="true" class="fi fonticon-10-chevron"></i></div></li>')}else for(var e in list){var n;if((n=list[e]).text=n.title,buf.push("<li><a"),buf.push(attrs({href:n.url,target:n.openInNewWindow,class:"invisible-link"},{href:!0,target:!0})),buf.push('></a><div class="media">'),n.twitter.imageUrl&&(n.twitter.imageUrl.contains("/image/")?(buf.push('<div class="img"><img'),buf.push(attrs({src:n.twitter.imageUrl+"&wid=165",alt:n.text,class:"itemImage"},{class:!0,src:!0,alt:!0})),buf.push("/></div>")):(buf.push('<div class="img"><img'),buf.push(attrs({src:""+n.twitter.imageUrl,alt:n.text,class:"itemImage"},{class:!0,src:!0,alt:!0})),buf.push("/></div>"))),buf.push('<div class="bd"><div class="results-p"><h1 class="lt3">'),link_mixin(n),buf.push("</h1>"),n.sourceName&&buf.push('<h2 class="lt4">'+(null==(interp=n.sourceName)?"":interp)+"</h2>"),n.gwt.productNumber&&buf.push('<h2 class="lt4">'+(null==(interp=n.gwt.productNumber)?"":interp)+"</h2>"),n.ratings){for(roundedRating=Math.roundToPointFive(n.ratings.aggregatedRatings.averageOverallRating),buf.push("<div"),buf.push(attrs({"data-stars":n.ratings.aggregatedRatings.averageOverallRating,itemprop:"aggregateRating",itemscope:!0,itemtype:"http://schema.org/AggregateRating",class:"product-rating"},{"data-stars":!0,itemprop:!0,itemscope:!0,itemtype:!0})),buf.push(">"),i=1;i<=5;)buf.push('<span class="star-holder">'),buf.push(Math.roundToPointFive(i)<=roundedRating?'<i aria-hidden="true" class="fi fonticon-10-star active"></i><i aria-hidden="true" class="fi fonticon-10-star-half active"></i>':Math.roundToPointFive(i)-.5<=roundedRating?'<i aria-hidden="true" class="fi fonticon-10-star"></i><i aria-hidden="true" class="fi fonticon-10-star-half active"></i>':'<i aria-hidden="true" class="fi fonticon-10-star"></i>'),buf.push("</span>"),i+=1;buf.push('<span itemprop="ratingCount" class="lt4 reviews-text"> ('+(null==(interp=n.ratings.aggregatedRatings.totalReviewCount)?"":interp)+")</span></div>")}n.question&&(buf.push('<h1 class="lt4 italic-hd">'),link_mixin(n.question),buf.push("</h1>")),buf.push('<p class="p4">'+(null==(interp=n.description)?"":interp)+"</p></div></div>"),n.additionalLinks&&(buf.push('<ul class="h-list h-list-md">'),function(){if("number"==typeof n.additionalLinks.length)for(var e=0,t=n.additionalLinks.length;t>e;e++){var i=n.additionalLinks[e];buf.push('<li class="lt4">'),link_mixin(i),buf.push("</li>")}else for(var e in n.additionalLinks){i=n.additionalLinks[e];buf.push('<li class="lt4">'),link_mixin(i),buf.push("</li>")}}.call(this),buf.push("</ul>")),buf.push('<i aria-hidden="true" class="fi fonticon-10-chevron"></i></div></li>')}}).call(this)}return buf.join("")},jade.templates.type_ahead_results=function(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;(marketingResponse.length>0||supportResponse.length>0)&&(buf.push('<div class="navmenu-search-results">'),marketingResponse&&marketingResponse.length>0&&(buf.push('<div data-type="products" class="navmenu-w-search-type-results-wrapper"><div class="navmenu-w-search-type-results-title"><h3 class="l2">'+(null==(interp=marketingTitle)?"":interp)+'</h3></div><div class="navmenu-w-search-type-results"><ul class="navmenu-list navmenu-list-results">'),function(){if("number"==typeof marketingResponse.length)for(var e=0,t=marketingResponse.length;t>e;e++){var i=marketingResponse[e];extraClasses=i.description?"":"search-result-canned",buf.push("<li"),buf.push(attrs({class:"search-result-line "+extraClasses},{class:!0})),buf.push("><a"),buf.push(attrs({href:i.url,title:i.headline,tabindex:"0",target:i.openInNewWindow},{href:!0,title:!0,tabindex:!0,target:!0})),buf.push('><div class="search-result">'),i.image&&(buf.push("<img"),buf.push(attrs({src:i.image,alt:i.description,width:"88",height:"69",onerror:"this.src='//www.sony.co.uk/images/products/default/791fce42df132535613daf77bac28aeb.jpg'"},{src:!0,alt:!0,width:!0,height:!0,onerror:!0})),buf.push("/>")),buf.push('<div class="search-result-p"><span class="search-result-headline">'+(null==(interp=i.headline)?"":interp)+'</span><span class="search-result-descript">'+(null==(interp=i.description)?"":interp)+'</span></div></div><i aria-hidden="true" class="fi fonticon-10-chevron"></i></a></li>')}else for(var e in marketingResponse){i=marketingResponse[e];extraClasses=i.description?"":"search-result-canned",buf.push("<li"),buf.push(attrs({class:"search-result-line "+extraClasses},{class:!0})),buf.push("><a"),buf.push(attrs({href:i.url,title:i.headline,tabindex:"0",target:i.openInNewWindow},{href:!0,title:!0,tabindex:!0,target:!0})),buf.push('><div class="search-result">'),i.image&&(buf.push("<img"),buf.push(attrs({src:i.image,alt:i.description,width:"88",height:"69",onerror:"this.src='//www.sony.co.uk/images/products/default/791fce42df132535613daf77bac28aeb.jpg'"},{src:!0,alt:!0,width:!0,height:!0,onerror:!0})),buf.push("/>")),buf.push('<div class="search-result-p"><span class="search-result-headline">'+(null==(interp=i.headline)?"":interp)+'</span><span class="search-result-descript">'+(null==(interp=i.description)?"":interp)+'</span></div></div><i aria-hidden="true" class="fi fonticon-10-chevron"></i></a></li>')}}.call(this),buf.push("</ul></div></div>")),supportResponse&&supportResponse.length>0&&(buf.push('<div data-type="support" class="navmenu-w-search-type-results-wrapper"><div class="navmenu-w-search-type-results-title"><h3 class="l2">'+(null==(interp=supportTitle)?"":interp)+'</h3></div><div class="navmenu-w-search-type-results"><ul class="navmenu-list navmenu-list-results">'),function(){if("number"==typeof supportResponse.length)for(var e=0,t=supportResponse.length;t>e;e++){var i=supportResponse[e];extraClasses=i.description?"":"search-result-canned",buf.push("<li"),buf.push(attrs({class:"search-result-line "+extraClasses},{class:!0})),buf.push("><a"),buf.push(attrs({href:i.url,title:i.headline,tabindex:"0",target:i.openInNewWindow},{href:!0,title:!0,tabindex:!0,target:!0})),buf.push('><div class="search-result">'),i.image&&(buf.push("<img"),buf.push(attrs({src:i.image,alt:i.description,width:"88",height:"69",onerror:"this.src='//www.sony.co.uk/images/products/default/791fce42df132535613daf77bac28aeb.jpg'"},{src:!0,alt:!0,width:!0,height:!0,onerror:!0})),buf.push("/>")),buf.push('<div class="search-result-p"><span class="search-result-headline">'+(null==(interp=i.description)?"":interp)+'</span>\x3c!--span.search-result-descript !{item.description}--\x3e</div></div><i aria-hidden="true" class="fi fonticon-10-chevron"></i></a></li>')}else for(var e in supportResponse){i=supportResponse[e];extraClasses=i.description?"":"search-result-canned",buf.push("<li"),buf.push(attrs({class:"search-result-line "+extraClasses},{class:!0})),buf.push("><a"),buf.push(attrs({href:i.url,title:i.headline,tabindex:"0",target:i.openInNewWindow},{href:!0,title:!0,tabindex:!0,target:!0})),buf.push('><div class="search-result">'),i.image&&(buf.push("<img"),buf.push(attrs({src:i.image,alt:i.description,width:"88",height:"69",onerror:"this.src='//www.sony.co.uk/images/products/default/791fce42df132535613daf77bac28aeb.jpg'"},{src:!0,alt:!0,width:!0,height:!0,onerror:!0})),buf.push("/>")),buf.push('<div class="search-result-p"><span class="search-result-headline">'+(null==(interp=i.description)?"":interp)+'</span>\x3c!--span.search-result-descript !{item.description}--\x3e</div></div><i aria-hidden="true" class="fi fonticon-10-chevron"></i></a></li>')}}.call(this),buf.push("</ul></div></div>")),buf.push('<div class="navmenu-w-search-show-all-btn-wrapper"><input type="submit" tabindex="0" style="display:none" class="btn btn-show-all-results"/></div></div>'))}return buf.join("")},define("templates",(function(){})),window.$clamp=function(e,t){function i(e,t){return l.getComputedStyle||(l.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,(function(){return arguments[2].toUpperCase()}))),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),l.getComputedStyle(e,null).getPropertyValue(t)}function n(t){var i=t||e.clientHeight,n=o(e);return Math.max(Math.floor(i/n),0)}function o(e){var t=i(e,"line-height");return"normal"==t&&(t=1.2*parseInt(i(e,"font-size"))),parseInt(t)}function s(t){return t.lastChild.children&&t.lastChild.children.length>0?s(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!=t.lastChild.nodeValue&&t.lastChild.nodeValue!=c.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),s(e))}function a(e,t){e.nodeValue=t+c.truncationChar}t=t||{};var r,l=window,c={clamp:t.clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","",""," "],animate:t.animate||!1,truncationChar:t.truncationChar||"",truncationHTML:t.truncationHTML},u=e.style,d=e.innerHTML,h=void 0!==e.style.webkitLineClamp,p=c.clamp,f=p.indexOf&&(p.indexOf("px")>-1||p.indexOf("em")>-1);c.truncationHTML&&((r=document.createElement("span")).innerHTML=c.truncationHTML);var g,m,v,b=c.splitOnChars.slice(0),y=b[0];if("auto"==p?p=n():f&&(p=n(parseInt(p))),h&&c.useNativeClamp)u.overflow="hidden",u.textOverflow="ellipsis",u.webkitBoxOrient="vertical",u.display="-webkit-box",u.webkitLineClamp=p,f&&(u.height=c.clamp+"px");else{var w=function(t){return o(e)*t}(p);w<e.clientHeight&&(v=function t(i,n){if(n){var o=i.nodeValue.replace(c.truncationChar,"");if(g||(y=b.length>0?b.shift():"",g=o.split(y)),g.length>1?(m=g.pop(),a(i,g.join(y))):g=null,r&&(i.nodeValue=i.nodeValue.replace(c.truncationChar,""),e.innerHTML=i.nodeValue+" "+r.innerHTML+c.truncationChar),g){if(e.clientHeight<=n){if(!(b.length>=0&&""!=y))return e.innerHTML;a(i,g.join(y)+y+m),g=null}}else""==y&&(a(i,""),i=s(e),b=c.splitOnChars.slice(0),y=b[0],g=null,m=null);return c.animate?void setTimeout((function(){t(i,n)}),!0===c.animate?10:c.animate):t(i,n)}}(s(e),w))}return{original:d,clamped:v}},define("libs/clamp",(function(){})),define("secondary/form-actions",["require","jquery","require/sony-global-settings","require/sony-global-environment"],(function(e){var t=e("jquery"),i=e("require/sony-global-settings"),n=e("require/sony-global-environment"),o={init:function(){var e=t("body").formActions().data("formActions");e&&(e.initInput(t("#nav-search-input")),e.initInput(t("#store-locator-search-input")),e.initTouchToggles(t(".dropdown-hover-toggle")))}},s=function(){};return s.prototype={constructor:s,initInput:function(e){var t=this,i=t.makeInputObj(e);i.watermarkText=e.val(),e.data("formActions",t),t.listenForEvents(i)},listenForEvents:function(e){var i=this;e.$input.on("focus",e,t.proxy(i.onInputFocus,i)).on("blur",e,t.proxy(i.onInputBlur,i)).on("mouseup keyup change cut paste",o.onSearchInputChange),e.$inputIcon.on("click",(function(){e.$input.focus()})),e.$inputClearBtn.on("click",e,t.proxy(i.onClearButton,i))},onInputFocus:function(e){var i=t(e.delegateTarget),n=e.data;i.val()===n.watermarkText&&this.hideWatermark(n)},onInputBlur:function(e){var i=t(e.delegateTarget),n=e.data;""===i.val()&&this.showWatermark(n)},onClearButton:function(e){var n=e.data;e.preventDefault(),this.clearSearchResults(n),i.hasTouchEvents||t("html").hasClass("bp-nav-mobile")||n.$input.focus()},showWatermark:function(e){e.$input.val(e.watermarkText),e.$inputIcon.show(),e.$input.closest("form").removeClass("child-input-active")},hideWatermark:function(e){e.$input.val(""),e.$input.closest("form").addClass("child-input-active"),t("html").hasClass("bp-nav-mobile")&&e.$inputGroup.hasClass("navmenu-search-section-input")||e.$inputIcon.hide()},makeInputObj:function(e){var t={};return t.$input=e,t.$inputGroup=e.closest(".input-group"),t.$inputWrapper=e.closest(".input-outer-wrapper"),t.$inputIcon=t.$inputGroup.find(".input-icon"),t.$inputBtn=t.$inputGroup.find(".input-btn"),t.$inputClearBtn=t.$inputWrapper.find(".input-clear-btn"),t},doSearch:function(e){e.$input.val(),e.$input.attr("id")},clearSearchResults:function(e){this.showWatermark(e),e.$inputWrapper.removeClass("searching"),t("#type-ahead-result-container").empty(),t(".btn-show-all-results").hide()},resetSearchResults:function(e){e.$inputWrapper.removeClass("searching")},initTouchToggles:function(e){e.each((function(){t(this).on("click",(function(e){e.preventDefault(),e.stopPropagation(),t(this).parent().toggleClass("active")}))}))}},t.fn.formActions=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this),o=n.data("formActions");o||(o=new s(n,e),n.data("formActions",o)),"string"==typeof e&&o[e].apply(o,i)}))},o.onSearchInputChange=function(e){t("html").hasClass("bp-nav-mobile")&&n.trigger("SONY:Navigation:initMobileNavIScroll");var i=t(e.target),o=i.data("formActions"),s=o.makeInputObj(i);s.$inputWrapper.hasClass("searching")?""===i.val()?o.resetSearchResults(s):o.doSearch(s):""!==i.val()&&i.val()!==s.watermarkText&&(s.$inputWrapper.addClass("searching"),o.doSearch(s))},o.init(),o})),define("modules/header/geofilter",["require","jquery","cookieStorage"],(function(e){var t=e("jquery");return e("cookieStorage"),{GEOFILTER_SELECTOR:"#geofilter_container",GEOFILTER_AKAMAI_COOKIE:"geofilter_country",GEOFILTER_APP_COOKIE:"geofilter_country_selected",GEOFILTER_DEBUG:"geofilter_debug",DAYS_UNTIL_EXPIRATION:7,geofilterContainer:null,getGeofilterConfig:function(e,i){t.get(e,i)},renderGeofilter:function(e,i){var n={queue:!1,complete:function(){t(window).scrollTop(0)}};e.html(i);var o=e.outerHeight();e.css({height:0}).animate({height:o},n)},userSelectsCountry:function(e){e.animate({height:0},{queue:!1,complete:function(){e.css({height:0}).hide()}}),t.cookie(this.GEOFILTER_APP_COOKIE,this.documentCountry(),{expires:this.DAYS_UNTIL_EXPIRATION,path:"/"})},geofiltershow:function(e){var t=this;this.getGeofilterConfig("/campaign/GLOBAL/geofilter/config/"+this.getLocale()+"/"+this.actualCountry()+".json",(function(i){var n={rtl:i.rtl,hasLocalized:!!i.WARNING_LINE1_LOCALIZED,hasLocalizedAlternative:!!i.WARNING_LINE1_LOCALIZED_ALTERNATIVE},o=t.getTemplate(n),s=t.parseTemplate(o,i);s&&t.renderGeofilter(e,s)}))},urlParam:function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null===t?null:t[1]||0},getTemplate:function(e){var t=["geofilter"];return e.rtl&&t.push("geofilter--right-align"),"<div class='"+t.join(" ")+"'><div class='geofilter__wrapper'><div class='container' role='dialog'><div class='grid'> <a class='geofilter__close js-geofilter__close' href='#'><span class=\"visuallyhidden\"> {{CLOSE}} </span> <i class='geofilter__close__icon fonticon-10-x-skinny'></i> </a><div class='geofilter-title'> "+(e.hasLocalized?"<span class='geofilter-title__heading t5-light'>{{WARNING_LINE1_LOCALIZED}}</span>":"")+(e.hasLocalizedAlternative?"<span class='geofilter-title__heading t5-light'>{{WARNING_LINE1_LOCALIZED_ALTERNATIVE}}</span>":"")+"<span class='geofilter-title__text t7-light'>{{WARNING_LINE1_EN}}</span> </div><div class='geofilter-subtitle'>"+(e.hasLocalized?"<span class='geofilter-subtitle__heading t5-light'>{{WARNING_LINE2_LOCALIZED}}</span>":"")+(e.hasLocalizedAlternative?"<span class='geofilter-subtitle__heading t5-light'>{{WARNING_LINE2_LOCALIZED_ALTERNATIVE}}</span>":"")+"<span class='geofilter-subtitle__text t7-light'>{{WARNING_LINE2_EN}}</span> </div><div class='geofilter-block__wrapper'><div class='geofilter-block geofilter-block--origin'><a class='geofilter-block__link js-geofilter__close' href='{{CURRENT_URL}}' data-geofilter_destination_country='{{CURRENT_COUNTRY_CODE}}' data-geofilter_destination_region='{{CURRENT_REGION}}'><span class=\"visuallyhidden\"> {{CURRENT_REGION}} </span></a><div class='geofilter-block__image-wrapper'> <div class='geofilter-block__image'> <img src='{{CURRENT_FLAG}}' alt='{{CURRENT_COUNTRY_CODE}} Flag' /></div></div><div class='geofilter-block__url'>  {{CURRENT_DOMAIN}} <i class='fonticon-10-chevron-sm'></i></div></div><div class='geofilter-block geofilter-block--destination'><a class='geofilter-block__link' href='{{SUGGESTED_URL}}' data-geofilter_destination_country='{{SUGGESTED_COUNTRY_CODE}}' data-geofilter_destination_region='{{SUGGESTED_REGION}}'><span class=\"visuallyhidden\"> {{SUGGESTED_REGION}} </span></a><div class='geofilter-block__image-wrapper'> <div class='geofilter-block__image'> <img src='{{SUGGESTED_FLAG}}' alt='{{SUGGESTED_COUNTRY_CODE}} Flag' /></div></div><div class='geofilter-block__url'> {{SUGGESTED_DOMAIN}} <i class='fonticon-10-chevron-sm'></i></div></div></div><div class='geofilter-description'><p class='lt3'>{{COOKIE_WARNING_LINE1}}</p><p  class='lt3'>{{COOKIE_WARNING_LINE2}}</p></div></div></div></div></div>"},parseTemplate:function(e,t){var i=e.replace(/\{\{(.*?)\}\}/g,(function(e,i){return void 0!==t[i]?t[i]:"\x3c!--NOTFOUNDKEY--\x3e"}));return i.indexOf("NOTFOUNDKEY")>=0?null:i},actualCountry:function(){var e=t.cookie(this.GEOFILTER_AKAMAI_COOKIE);return this.urlParam(this.GEOFILTER_DEBUG)||e||""},getLocale:function(){return t(this.GEOFILTER_SELECTOR).data("locale")||t("body").data("locale")||this.urlParam("locale")},documentCountry:function(){return this.getLocale().split("_")[1]},init:function(){var e=this;t(document).ready((function(){var i=t(e.GEOFILTER_SELECTOR);0!=i.length&&e.getLocale()&&(t.cookie(e.GEOFILTER_APP_COOKIE)||e.actualCountry().toLowerCase()!==e.documentCountry().toLowerCase()&&(i.on("click","a.js-geofilter__close",(function(t){t.preventDefault(),e.userSelectsCountry(i)})),e.geofiltershow(i)))}))}}})),define("modules/header/mega-nav",["require","jquery"],(function(e){var t=this,i=e("jquery");return this.MegaNav={elements:{"mega-menu":i(".js-mega-menu-wrapper"),"mega-sub-menu":i(".js-mega-nav-subcategory"),"mega-nav-cat":i(".js-mega-nav-sub-category-title"),"navbar-primary-menu":i(".js-navbar-primary-menu"),navbar:i("#navbar")},classes:{"menu-electronics":".navtray-w-electronics","menu-wrapper":"#nav-wrapper","scroll-container":"#nav-outer-container","menu-electronics-inner":".navtray-w--mega","general-nav-wrapper":".js-mega-menu-general-wrapper","mega-nav-wrapper":".js-mega-menu-wrapper","accordion-heading":".accordion-heading","accordion-title":".navtray-mobile-heading","accordion-body-wrapper":".accordion-body-wrapper","accordion-body":".accordion-body","opened-accordion":".accordion-body-wrapper.opened","accordion-inner":".js-accordion-inner","primary-nav-link":".navtray-li-link","mega-nav-coloumn":".mega-nav-coloumn","mega-nav-view-all-btn":".mega-nav-view-all-link","subcategory-item":".mega-nav-subcategory-item","subcategory-link":".mega-nav-subcategory-link","first-level-link":".js-mega-nav-first-level","first-level-submenu":".js-mega-nav-subcategory","second-level-link":".js-mega-nav-second-level-link","other-links":".js-bottom-link",open:"opened",invisible:"invisible",close:"close","sub-opened":"mega-nav-subcategory--opened","opened-menu":"navtray-w-visible"},options:{dev:!1,"length-of-sub-menu-depth":4},mobileTraversingPath:{index:0,tree:[],up:function(e){var t=this;t.tree.each((function(n,o){return i(o).is(i(e))?(0>n-1||t.tree.get(n-1).focus(),!1):void 0}))},down:function(e){var t=this;t.tree.each((function(n,o){if(i(o).is(i(e))){if(t.tree.length==n+1)return;return t.tree.get(n+1).focus(),!1}}))}},init:function(){this.options.dev&&console.log("init"),this.checkBeforeStart()&&this.start()},evenHeightLinks:function(){i(this.classes["first-level-link"]).evenHeights&&i(this.classes["mega-nav-coloumn"]).evenHeights&&(i(this.classes["first-level-link"]).evenHeights(),i(this.classes["mega-nav-coloumn"]).evenHeights())},checkBeforeStart:function(){return this.options.dev&&console.log("checkBeforeStart"),i(this.elements["mega-menu"]).length>0},start:function(){this.options.dev&&console.log("start"),this.addEventListeners()},addEventListeners:function(){var e=this;this.options.dev&&console.log("addEventListeners"),i(this.classes["accordion-heading"]).on("click",e.onCatNavClick),i(this.classes["primary-nav-link"]).on("click",e.onOtherLinksClick),i(this.classes["other-links"]).on("click",e.onOtherLinksClick),i(this.classes["first-level-link"]).on("click",e.onFirstLevelLinksClick),i(this.classes["second-level-link"]).on("click",e.onSecondLevelLinksClick),i(this.classes["accordion-body-wrapper"]).on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){i(e.classes["accordion-body-wrapper"]).not("."+e.classes.open).addClass(e.classes.invisible),e.mobileTraversingPath.tree=i(".accessible-megamenu :tabbable")}))},addDesktopListeners:function(){this.evenHeightLinks(),i(this.classes["menu-electronics-inner"]).hover(this.openMenu,this.closeMenu)},onDesktopActions:function(){this.addDesktopListeners(),this.onDesktopSubCategoryLength()},closeMenu:function(){var e=t.MegaNav;i(e.classes["menu-electronics"]).removeClass(e.classes["opened-menu"]),e.elements["navbar-primary-menu"].removeClass(e.classes["opened-menu"])},openMenu:function(){var e=t.MegaNav;i(e.classes["menu-electronics"]).addClass(e.classes["opened-menu"]),e.elements["navbar-primary-menu"].addClass(e.classes["opened-menu"])},onCatNavClick:function(e){var n=t.MegaNav;n.options.dev&&console.log("onCatNavClick"),n.collapseCatLevel(this,e,n.checkBeforeCollapse(i(this).find(n.classes["accordion-body-wrapper"])))},onOtherLinksClick:function(){var e=t.MegaNav;e.options.dev&&console.log("onOtherLinksClick"),e.otherLinkActions(this,event)},onFirstLevelLinksClick:function(e){var n=t.MegaNav;n.options.dev&&console.log("onFirstLevelLinksClick"),n.collapseSubLevel(this,e,n.checkBeforeCollapse(i(this).parent().find(n.classes["first-level-submenu"])))},onSecondLevelLinksClick:function(){var e=t.MegaNav;e.options.dev&&console.log("onSecondLevelLinksClick"),e.otherLinkActions(this,event)},otherLinkActions:function(e,i){var n=t.MegaNav;n.options.dev&&console.log("otherLinkActions"),n.setPreventDefault(i),n.goToLinkByOptions(n.getOptionsFromElement(e))},getOptionsFromElement:function(e){var t=i(e);return{url:t.attr("href"),target:t.attr("target"),param:t.attr("data-level")}},goToLinkByOptions:function(e){var t={};t.url=e.url||"#",t.target=e.target||"#",t.param=e.param||"#","parent"===t.target?window.location.href(t.url):window.open(t.url,t.target)},setPreventDefault:function(e){this.options.dev&&console.log("setPreventDefault"),e.preventDefault(),e.stopPropagation()},collapseCatLevel:function(e,t,i){var n=this;n.options.dev&&console.log("collapseCatLevel"),n.setPreventDefault(t),i?n.openCatLevel(e):n.closeCatLevel(e)},collapseSubLevel:function(e,t,i){var n=this;n.options.dev&&console.log("collapseCatLevel"),n.setPreventDefault(t),i?n.openSubLevel(e):n.closeSubLevel(e)},openSubLevel:function(e){var t=this;t.options.dev&&console.log("openSubLevel");var n=i(e).parent().find(t.classes["first-level-submenu"]);t.closeAllSubLevel(e),n.addClass(t.classes["sub-opened"]).animate({height:n.get(0).scrollHeight},{duration:100}).promise().done((function(){t.updateAccordionHeight(e),t.scrollTo(i(t.classes["scroll-container"])[0],n.offset().top-50,300)})),t.elements["navbar-primary-menu"].addClass(t.classes["opened-menu"])},closeAllSubLevel:function(e){var t=this,n="no-animate"!==e,o=i(t.classes["general-nav-wrapper"]).find(t.classes["first-level-submenu"]).removeClass(t.classes["sub-opened"])[n?"animate":"css"]({height:0},{duration:100});n&&o.promise().done((function(){t.updateAccordionHeight(e)}))},closeAllCatLevel:function(e){var t=this,n="no-animate"!==e,o=i(t.classes["accordion-heading"]),s=i(t.classes["accordion-body-wrapper"]).removeClass(t.classes.open)[n?"animate":"css"]({height:0},{duration:100});o.addClass(t.classes.close),n&&s.promise().done((function(){t.updateAccordionHeight()}))},closeSubLevel:function(e){this.closeAllSubLevel(e)},openCatLevel:function(e){this.options.dev&&console.log("openCatLevel");var t=this,n=i(e),o=i(t.classes["menu-wrapper"]).find(t.classes["accordion-heading"]),s=o.find(t.classes["accordion-body-wrapper"]),a=n.find(t.classes["accordion-body-wrapper"]);_currentA11yTitle=n.find(t.classes["accordion-title"]),t.closeAllSubLevel(e),_currentA11yTitle.attr("aria-expanded",!0),o.addClass(t.classes.close),n.removeClass(t.classes.close),s.css({height:0}).removeClass(t.classes.open),a.removeClass(t.classes.invisible).css({height:a.get(0).scrollHeight}).addClass(t.classes.open)},closeCatLevel:function(e){var t=this;t.resetA11yAttributes(),t.closeAllCatLevel(),t.closeAllSubLevel(e)},scrollTo:function(e,t,i){var n=this;n.options.dev&&console.log("scrollTo with args",e,t,i);var o=e.scrollTop,s=t-o,a=0,r=function(){a+=20;var t=n.customEaseInOutQuad(a,o,s,i);e.scrollTop=t,i>a&&setTimeout(r,20)};r()},customEaseInOutQuad:function(e,t,i,n){return 1>(e/=n/2)?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},checkBeforeCollapse:function(e){return this.options.dev&&console.log("checkBeforeCollapse"),0==e.height()},updateAccordionHeight:function(e){this.options.dev&&console.log("updateAccordionHeight"),!i(e).hasClass("accordion-heading")&&this.setAccordionHeight(e)},setAccordionHeight:function(){var e=this,t=i(e.classes["accordion-inner"]).prop("scrollHeight");e.options.dev&&console.log("setAccordionHeight"),i(e.classes["opened-accordion"]).css({height:t})},resetA11yAttributes:function(){i(this.classes["accordion-title"]).attr("aria-expanded",!1)},resetMenu:function(){var e=this;this.options.dev&&console.log("resetMenu"),e.closeAllCatLevel("no-animate"),e.closeAllSubLevel("no-animate"),e.resetA11yAttributes()},onDesktopSubCategoryLength:function(){return!1}},this.MegaNav})),define("secondary/ajax-sequencer",["require"],(function(){var e={};return{register:function(t,i){e.xhr=t,e.success=i},executeSuccessHandler:function(t){if(e.xhr===t){var i=JSON.parse(t.responseText);e.success(i)}}}})),define("modules/header/module",["require","templates","libs/clamp","jquery","bootstrap","modernizr","enquire","iQ","require/sony-global-settings","require/sony-global-utilities","require/sony-global-environment","plugins/index","secondary/form-actions","modules/header/geofilter","modules/header/mega-nav","secondary/ajax-sequencer","plugins/index","url"],(function(e){function t(e){return n.expr.filters.visible(e)&&!n(e).parents().addBack().filter((function(){return"hidden"===n.css(this,"visibility")})).length}function i(e,i){var o,s,a,r=e.nodeName.toLowerCase();return"area"===r?(s=(o=e.parentNode).name,!(!e.href||!s||"map"!==o.nodeName.toLowerCase())&&(!!(a=n("img[usemap=#"+s+"]")[0])&&t(a))):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r&&e.href||i)&&t(e)}e("templates"),e("libs/clamp");var n=e("jquery"),o=(e("bootstrap"),e("modernizr")),s=e("enquire"),a=e("iQ"),r=e("require/sony-global-settings"),l=e("require/sony-global-utilities"),c=e("require/sony-global-environment"),u=(e("plugins/index").hammer,e("secondary/form-actions"),e("modules/header/geofilter")),d=e("modules/header/mega-nav"),h=e("secondary/ajax-sequencer");e("plugins/index").accessibleMegaMenu,e("url");var p={init:function(){n("#nav-wrapper").globalNav()}},f=function(e){var t=this;t.enableCustomDebugConsole=!1,t.usernameSpace=40,t.minUsernameLength=9,t.searchMenu={},t.hasTouch=r.hasTouchEvents,t.$html=r.$html,t.$window=r.$window,t.$container=e,t.$activeNavBtns=t.$container.find(".js-nav-dropdown-toggle"),t.$searchBtn=t.$activeNavBtns.filter('[data-target="navmenu-w-search"]'),t.$searchMenu=n(".navmenu-w-search"),t.$searchInput=n("#nav-search-input"),t.$navWrapper=n("#nav-wrapper"),t.$navbar=n("#navbar"),t.$navOuterContainer=n("#nav-outer-container"),t.$areaBody=n(".area.body"),t.$areaHeader=n(".area.header"),t.$areaFooter=n(".area.footer"),t.$navScrollToTop=n(".scroll-to-top"),t.$currentOpenNavBtn=!1,t.$pageWrapOuter=n("#page-wrap-outer"),t.$pageWrapInner=n("#page-wrap-inner"),t.$btnUNav=n("#nav-li-link-universal"),t.$clearInputBtn=n(".input-clear-btn"),t.$accountUsername=n("#nav-account-btn").find(".username"),t.$navtrayTouts=t.$container.find(".navtray-secondary-tout"),t.isRTL=r.isRTL,t.fullAccountUsername=t.$accountUsername.text(),t.mobileNavIScroll=!1,t.mobileNavVisible=!1,t.mobileNavHasShadow=!1,t.mobileNavThreshold=767,t.mobileFooterThreshold=567,t.isSearchOpen=!1,t.closeTimer=!1,t.wasJustTapped=!1,t.debugCount=0,t.closeDelay=200,t.closeDelaySearch=2e3,t.openDelay=30,t.tapOrClick=t.hasTouch?"touchstart":"click",t.blurOrTapLeave=t.hasTouch?"touchleave touchcancel focusout":"blur",t.keyEvents={keyUp:"keyup",keyDown:"keydown"},t.keyCodes={enter:13,tab:9,esc:27,up:38,down:40,shift:16},t.transformName=o.prefixed("transform"),t.transitionName=o.prefixed("transition"),t.transitionProperty=o.prefixed("transitionProperty"),t.transitionDuration=o.prefixed("transitionDuration"),t.transitionEasing=o.prefixed("transitionTimingFunction"),t.transitionEnd=r.transEndEventName,t.$universalNavWrap=n(".universal-nav-wrap"),t.GeoFilter=u,t.init()};return f.prototype={constructor:f,setOnDemandImages:function(){var e=this;a.setOnDemandImages(this.$navWrapper.get(0),"header"),c.on("global:windowLoaded",(function(){setTimeout(e.loadOnDemandImages,parseInt(url("?header_images_timeout"),10)||1e3)}))},loadOnDemandImages:function(){a.loadOnDemandImages("header")},init:function(){var e=this;if(e.isInitialized=!0,e.isDesktopNav=!1,e.isMobileNav=!1,e.MegaNav=d,e.initBreakpoints(),e.initSearchBindings(),e.setOnDemandImages(),e.isMobileNav){var t=n("#navmenu-w-search-container").detach();n("#navbar-menu-wrapper").prepend(t),e.setMobileNavAccordions(),e.setMobileAccessibleMegaMenu()}else n(".sony-accessible").accessibleMegaMenu({isRTL:e.isRTL,onPanelOpened:function(){a.update(!0)}});e.addUNavListener(),e.GeoFilter.init(),e.setReturnUrlForMySony()},setReturnUrlForMySony:function(){n(".nav-my-sony .btn-login").on("click",(function(e){e.preventDefault();var t=n(".nav-my-sony .btn-login").attr("href");if(1==n(this).attr("data-isReturnUri")){var i=window.location.href;t=t.concat("?returnUri="+i)}window.open(t,"_self")}))},setMobileAccessibleMegaMenu:function(){var e=this;n(".sony-accessible").on(this.keyEvents.keyUp,(function(t){switch(t.which||t.keyCode){case e.keyCodes.up:e.MegaNav.mobileTraversingPath.up(document.activeElement);break;case e.keyCodes.down:e.MegaNav.mobileTraversingPath.down(document.activeElement)}return t.preventDefault(),t.stopPropagation(),!1}))},setMobileNavAccordions:function(){this.MegaNav.checkBeforeStart()?this.MegaNav.init():this.collapseAccordion()},collapseAccordion:function(){this.$navWrapper.find(".accordion-heading").on("click",(function(e){var t=n(this).siblings(".accordion-heading");t.addClass("close"),n(this).toggleClass("close"),t.find(".accordion-body-wrapper").animate({height:"0"},100);var i=n(e.target).parents(".accordion-heading").find(".accordion-body-wrapper");0==i.height()?i.animate({height:i.get(0).scrollHeight},100):i.animate({height:0},100)}))},addUNavListener:function(){var e=this;e.$btnUNav.on("click",n.proxy(e.getUniversalNav,e))},getUniversalNav:function(e){if(e.preventDefault(),!this.isUNavLoading){var t=this;if(!this.isUNavLoaded){t.$btnUNav.addClass("loading");var i=window.location.port?":"+window.location.port:"",o=window.location.protocol+"//"+window.location.hostname+i+"/universal-navigation?locale="+n("body").data("locale");n.get(o,(function(e){t.$universalNavWrap.html(e)}),"html").done((function(){t.isUNavLoading=!1,t.isUNavLoaded=!0,t.$universalNavWrap.on("un-nav-opening",n.proxy(t.onUnNavOpening,t))}))}}},onUnNavOpening:function(){this.$btnUNav.removeClass("loading"),this.$universalNavWrap.off("un-nav-opening"),n("#u-nav-close-btn").focus()},initSearchBindings:function(){var e=this,t={onSearchInputChange:function(i){var o=t.$inputField.val(),s=(n(this).closest(".search-field"),t.$inputField.attr("value"));""===o||o===s?t.clearSearchSuggestions():i.keyCode!==e.keyCodes.tab&&t.doSearch()},arrangeLabelVisibility:function(){var e=n(this).closest(".search-field");this.value?e.addClass("search-field--not-empty"):e.removeClass("search-field--not-empty")},doSearch:function(){var e=n("body").attr("data-locale"),t=n.ajax({url:"/api/search/type-ahead",data:{query:this.$inputField.val(),locale:e,start:"0",typeAhead:!0},success:function(){h.executeSuccessHandler(t)}});h.register(t,this.updateSearchSuggestions)},updateSearchSuggestions:function(e){(t.clearSearchSuggestions(),""!==t.$inputField.val()&&t.$inputField.val()!==t.$inputField.attr("value"))&&(e.supportTitle=t.$inputField.attr("data-search-support-results-section-title"),e.marketingTitle=t.$inputField.attr("data-search-marketing-results-section-title"),t.$suggestionsContainer.html(jade.templates.type_ahead_results(e)),n("span.search-result-headline").each((function(e,t){(function(e,t){$clamp(e,{clamp:t,useNativeClamp:!1})})(t,2),n(this).addClass("middle")})),t.updateShowAllResults(e))},clearSearchSuggestions:function(){t.$suggestionsContainer.empty(),n(".btn-show-all-results").off().hide()},updateShowAllResults:function(e){var i=n(".btn-show-all-results");(e.marketingResponse.length||e.supportResponse.length)&&(i.val(t.$suggestionsContainer.attr("data-show-all-results-label")),i.click((function(){n(".navmenu-search-section-form").children("form").trigger("submit")})),i.show())}};t.$inputField=n("#nav-search-input"),t.$suggestionsContainer=n("#type-ahead-result-container"),t.$inputField.hasClass("type-ahead-enabled")&&t.$inputField.on("keyup cut paste",n.debounce(500,t.onSearchInputChange)),t.$inputField.on("input cut paste",n.debounce(500,t.arrangeLabelVisibility))},initBreakpoints:function(){var e=this;r.isLTIE10?(e.initDesktopNav(),e.resetMobileNav(),e.$html.removeClass("bp-nav-mobile").addClass("bp-nav-desktop"),e.isDesktopNav=!0,e.isMobileNav=!1):(s.register("(min-width: "+(e.mobileNavThreshold+1)+"px)",{match:function(){e.initDesktopNav(),e.resetMobileNav(),e.$html.removeClass("bp-nav-mobile").addClass("bp-nav-desktop"),e.isDesktopNav=!0,e.isMobileNav=!1}}),s.register("(min-width: "+(e.mobileFooterThreshold+1)+"px)",{match:function(){e.$html.removeClass("bp-footer-mobile").addClass("bp-footer-desktop"),e.resetMobileFooter()}}),s.register("(max-width: "+e.mobileNavThreshold+"px)",{match:function(){e.initMobileNav(),e.resetDesktopNav(),e.$html.removeClass("bp-nav-desktop").addClass("bp-nav-mobile"),e.isDesktopNav=!1,e.isMobileNav=!0}}),s.register("(max-width: "+e.mobileFooterThreshold+"px)",{match:function(){e.$html.removeClass("bp-footer-desktop").addClass("bp-footer-mobile"),e.initMobileFooter()}}))},initDesktopNav:function(){var e=this;e.MegaNav.checkBeforeStart()&&e.MegaNav.onDesktopActions(),e.$pageWrapOuter.on("click touchstart focus",n.proxy(e.onPageWrapOuterPress,e)),e.$activeNavBtns.each((function(){var t=n(this),i=n("."+t.data("target")),o=i.hasClass("navmenu-w-search"),s=i.hasClass("navmenu-w-account");t.on("click touchstart mouseenter focus",(function(e){e.preventDefault()})),e.resetActiveNavBtn(t),t.data({hovering:!1}),i.data({$navBtn:t,hovering:!1}),e.hasTouch?o?(t.on("mousedown",n.proxy(e.onSearchNavMouseDown,e)),t.on("click",n.proxy(e.onSearchNavBtnClick,e)),t.on("touchstart",n.proxy(e.onSearchNavBtnClick,e))):(t.hammer().on("tap",n.proxy(e.onNavBtnTap,e)),t.hoverIntent({over:n.proxy(e.onNavBtnMouseEnter,e),out:n.proxy(e.onNavBtnMouseLeave,e),interval:e.openDelay,timeout:e.closeDelay}),i.hover(n.proxy(e.onNavBtnTargetMouseEnter,e),n.proxy(e.onNavBtnTargetMouseLeave,e))):o?(t.on("mousedown",n.proxy(e.onSearchNavMouseDown,e)),t.on("click",n.proxy(e.onSearchNavBtnClick,e)),e.$clearInputBtn.on(e.keyEvents.keyDown,(function(t){(t.which===e.keyCodes.tab||t.keyCode===e.keyCodes.tab)&&e.$btnUNav.length>0&&(t.shiftKey||(t.preventDefault(),e.closeSearch(),e.$btnUNav.focus()))}))):(s&&(t.on("mousedown",n.proxy(e.onNavBtnMouseEnter,e)),t.on("click",n.proxy(e.onNavBtnMouseEnter,e)),t.hoverIntent({over:n.proxy(e.onNavBtnMouseEnter,e),out:n.proxy(e.onNavBtnMouseLeave,e),interval:e.openDelay,timeout:e.closeDelay})),i.hover(n.proxy(e.onNavBtnTargetMouseEnter,e),n.proxy(e.onNavBtnTargetMouseLeave,e)))})),e.$navtrayTouts.each((function(){var e=n(this);e.attr("data-href")&&(e.on("mouseover",(function(){n(this).addClass("hover")})),e.on("mouseout",(function(){n(this).removeClass("hover")})),e.find("a").click((function(e){e.preventDefault()})),e.on("click touchstart focus",(function(){var e=n(this).attr("data-target"),t=n(this).attr("data-href");"_blank"==e?window.open(t):window.location.href=t})))})),e.hasTouch||e.setupFocusPath(),e.preSetNavTrayImageHeights(),e.resizeAccountUsername(),c.on("global:resizeDebounced-200ms",(function(){e.resizeAccountUsername()})),n("html").addClass("nav-ready"),r.isAndroid&&l.forceWebkitRedraw()},resetDesktopNav:function(){var e=this;e.$pageWrapOuter.off("click touchstart focus"),e.$activeNavBtns.each((function(){var t=n(this);if(e.resetActiveNavBtn(t),t.removeClass("active").parent().removeClass("nav-li-selected"),t.data("target").length){var i=n("."+t.data("target"));i.hasClass("navtray-w")?e.slideNavTray(i,!1):e.resetActiveNavMenu(),i.off("touchstart mouseenter mouseleave click")}t.off("touchstart mouseenter mouseleave click")}))},onPageWrapOuterPress:function(e){var t=this,i=n(e.target);i.hasClass("navtray-w")||i.hasClass("navmenu-w")||i.hasClass("nav-dropdown-toggle")||i.parents(".navtray-w,.navmenu-w,nav-dropdown-toggle, .nav").length>0||(t.closeActiveNavBtn(),t.isSearchOpen=!1,t.blurSearchInput())},setupFocusPath:function(){var e=this,t=e.$container.find(".nav-li-link");e.$container.on("focus","a",(function(){var i,o,s=n(this),a=e.$currentOpenNavBtn,r=s.is(t),l=r&&s.is(e.$activeNavBtns),c=l&&s.is(a),u=!1!==a;e.isMouseDown||(r?l?u&&!c&&e.closeActiveNavBtn():u&&e.closeActiveNavBtn():(i=s.closest(".navtray-w, .navmenu-w")).length>0&&(o=i.data("$navBtn"),c=u&&a&&a.is(o),u&&!c&&e.closeActiveNavBtn()))}))},onSearchNavMouseDown:function(){this.isMouseDown=!0},onSearchNavBtnClick:function(){var e=this;e.isMouseDown=!1,e.isSearchOpen?e.closeSearch():e.openSearch()},openSearch:function(){this.isSearchOpen||(this.setActiveNavBtn(this.$searchBtn),this.setAriaAttributesOfSearchInput(!1),this.isSearchOpen=!0),n("#nav-search-input").focus()},closeSearch:function(){this.isSearchOpen&&(this.resetActiveNavBtn(this.$searchBtn),this.setAriaAttributesOfSearchInput(!0),this.isSearchOpen=!1)},setAriaAttributesOfSearchInput:function(e){var t=e?-1:0;this.$searchMenu&&this.$searchMenu.length>0&&this.$searchMenu.attr("aria-hidden",e).find("input, a").not(".visuallyhidden").attr("tabindex",t)},onNavBtnTap:function(e){var t=this,i=t.$currentOpenNavBtn,o=n(e.delegateTarget),s=!1!==i,a=s&&o.is(i);t.wasJustTapped||(t.wasJustTapped=!0,setTimeout((function(){t.wasJustTapped=!1}),500),a?t.closeActiveNavBtn():s&&!a?(t.closeActiveNavBtn(),t.setActiveNavBtn(o)):s||t.setActiveNavBtn(o))},onNavBtnMouseEnter:function(e){var t=this,i=n(e.delegateTarget);return t.isSearchOpen&&t.closeSearch(),i.data("hovering",!0),!i.hasClass("active")&&(t.setActiveNavBtn(i),t.blurSearchInput(),void t.loadOnDemandImages())},onNavBtnMouseLeave:function(e){var t=n(e.delegateTarget),i=t.data(),o=n("."+i.target);i.hovering=!1,this.maybeResetActiveNavBtn(t,o)},onNavBtnTargetMouseEnter:function(e){n(e.delegateTarget).data("hovering",!0)},onNavBtnTargetMouseLeave:function(e){var t=n(e.delegateTarget);t.data("hovering",!1),r.isLTIE10&&this.blurSearchInput(),r.isLTIE9&&n(".navmenu-w-search, .navmenu-w-account").removeClass("navmenu-w-visible"),this.maybeResetActiveNavBtn(t.data("$navBtn"),t)},resetActiveNavMenu:function(){function e(e){e.find(".reveal-transition-container").css("height",""),e.css({left:"",right:""})}var t=this;r.isLTIE10&&t.blurSearchInput(),r.isLTIE9&&(n(".navmenu-w-search, .navmenu-w-account").removeClass("navmenu-w-visible").attr("style","opacity:0"),n(".nav-li-search a").blur()),n(".navmenu-w-visible").each((function(){var i=n(this);i.removeClass("navmenu-w-visible"),t.setAriaAttributesOfSearchInput(!0),o.csstransitions?i.one(t.transitionEnd,(function(){e(n(this))})):e(i),i=null}))},resizeAccountUsername:function(){function e(){var e=i.outerWidth(),o=0;return i.children().each((function(){o+=parseInt(n(this).outerWidth(!0),10)})),e-o<t.usernameSpace}var t=this;t.$accountUsername.text(t.fullAccountUsername);var i=t.$navbar.children(".grid");e()&&function i(){var n=t.$accountUsername.text(),o=n.substring(0,n.length-1);t.$accountUsername.html(o),o.length>t.minUsernameLength&&e()?i():t.$accountUsername.html(o.length<t.fullAccountUsername.length-2?o+"&hellip;":t.fullAccountUsername)}()},maybeResetActiveNavBtn:function(e,t){var i=this;setTimeout((function(){!(e.data("hovering")||t.data("hovering"))&&i.resetActiveNavBtn(e)}),i.closeDelay+25)},closeActiveNavBtn:function(e){var t,i=this;(t=i.$activeNavBtns.filter(".active")).length>0&&!t.is(e)&&(i.resetActiveNavBtn(t),i.$currentOpenNavBtn=!1)},setActiveNavBtn:function(e){this.activateNavBtn(e),this.$currentOpenNavBtn=e},resetActiveNavBtn:function(e){var t,i=e.length>0,o=e.data("target"),s=!!o;i&&e.removeClass("active").blur().parent().removeClass("nav-li-selected"),s&&((t=n("."+o)).hasClass("navtray-w")?this.slideNavTray(t,!1):this.resetActiveNavMenu())},slideNavTray:function(e,t){var i=e.find(".navtray-section-main");t&&i.css("height",""),setTimeout((function(){e.hasClass("no-transition")&&e.removeClass("no-transition"),setTimeout((function(){if(t){i.css("height",e.height()+"px");var o=e.find(".navtray-section-featured").find(".iq-img");if(!o.data("hasLoaded"))for(var s=0;s<o.length;s++)o.get(0).addEventListener("imageLoaded",(function(){i.css("height",e.height()+"px")}));e.addClass("navtray-w-visible")}else e.removeClass("navtray-w-visible"),n(".header").trigger("SONY:header-navtray-closed")}),10)}),10)},resetNavTray:function(e){e.removeClass("navtray-w-visible").css("height","").find(".navtray").removeClass("navtray-absolute").css("height","")},setNavTrayContentNaturalFlow:function(e){e.css("height","").find(".navtray").removeClass("navtray-absolute").css("height","")},activateNavBtn:function(e){if(!e)return!1;var t,i=e.data("target"),o=!!i;return e.addClass("active").parent().addClass("nav-li-selected"),!!o&&void((t=n("."+i)).hasClass("navtray-w")?this.showNavTray(t):this.showNavMenu(t,e))},showNavTray:function(e){o.csstransitions?e.one(this.transitionEnd,a.update):a.update(),this.slideNavTray(e,!0)},showNavMenu:function(e,t){function i(e){e.removeClass("transition-height"),setTimeout((function(){e.css("height","")}),0)}var n=this,s=e.hasClass("navmenu-w-search"),a=e.hasClass("navmenu-w-account"),r=e.find(".reveal-transition-container"),l=r.height();if(setTimeout((function(){r.addClass("transition-height"),setTimeout((function(){e.addClass("navmenu-w-visible"),n.$searchMenu.attr("aria-hidden","false"),e.find(":tabbable").removeAttr("tabindex"),o.csstransitions?(r.height(l),r.one(n.transitionEnd,(function(){i(r)}))):i(r)}),0)}),0),s){var c=e.find(".nav-indicator"),u=e.width()-(c.position().left+c.width()/2),d=e.width()-u,h={right:"auto",left:t.parent().position().left+parseInt(t.css("marginLeft"),10)+t.innerWidth()-d-t.innerWidth()/2+"px","aria-hidden":"false"};e.css(h)}else if(a){var p=parseInt(t.css("marginLeft"),10),f=e.find(".nav-indicator"),g=(parseInt(t.outerWidth(),10)-parseInt(f.outerWidth(),10))/2,m=n.isRTL?{right:"0px",left:"auto"}:{right:"auto",left:p+"px"};e.css(m),f.css("left",g+"px")}r.css("height","1px")},blurSearchInput:function(){this.$searchInput.trigger("blur")},prepMobileNav:function(){var e=this;e.preSetNavTrayImageHeights();var t=n("#nav-outer-container"),i=t.find(".nav-mobile-scroller"),o=i.height(),s=r.isIPhone||r.isAndroid?window.innerHeight:e.$window.height();t.css("height",s),i.css("height",o),e.$pageWrapOuter.css("height",s)},preSetNavTrayImageHeights:function(){var e=n("#navtrayElectronics").add(n("#navtrayEntertainment, #navtraySupport")).find(".nav-img-w"),t=n();e.each((function(){var e=n(this).find("img");if(!e.attr("src")){var i=.556*e.width();e.data("customHeight",i),t=t.add(e)}})),t.each((function(){var e=n(this);e.height(e.data("customHeight")),e.on("load",(function(){e.css("height","")}))}))},initMobileNav:function(){var e=this,t=e.$navbar.find(":tabbable");n("#btn-mobile-nav").on(e.tapOrClick,(function(i){i.preventDefault(),e.mobileNavVisible?(t.attr("tabindex","-1"),e.hideMobileNav(),e.$navbar.find(":tabbable").attr("tabindex","-1")):(e.$navbar.find(":tabbable").removeAttr("tabindex"),t.removeAttr("tabindex"),e.showMobileNav(),e.MegaNav.mobileTraversingPath.tree=n(".accessible-megamenu :tabbable"))})).on(e.keyEvents.keyDown,n.throttle(500,(function(t){(t.which===e.keyCodes.enter||t.keyCode===e.keyCodes.enter)&&(t.preventDefault(),n(this).trigger(e.tapOrClick)),!e.mobileNavVisible||t.which!=e.keyCodes.tab&&t.keyCode!=e.keyCodes.tab||(t.preventDefault(),e.$navbar.find(":tabbable:first").focus()),!e.mobileNavVisible||t.which!=e.keyCodes.esc&&t.keyCode!=e.keyCodes.esc||(t.preventDefault(),n(this).trigger(e.tapOrClick))}))),t.attr("tabindex","-1"),e.$navOuterContainer.attr({"aria-hidden":"true"}),e.$navbar.on("focusout",(function(t){var i=e.$navbar.find(":tabbable:last")[0];e.mobileNavVisible&&t.target===i&&(t.preventDefault(),n("#btn-mobile-nav").focus())}));var i=e.$searchInput;if(n("html").hasClass("cssgradients")&&!e.mobileNavHasShadow){var o=n("<i/>",{class:"nav-mobile-nav-shadow"});n(".nav-mobile-scroller").append(o),e.mobileNavHasShadow=!0}i.on("focus",(function(){n(".page-wrap-inner").addClass("show-mobile-search-results")})).on("blur",(function(){e.$html.hasClass("bp-nav-mobile")||n(".page-wrap-inner").removeClass("show-mobile-search-results")})).on(e.keyEvents.keyDown,(function(t){var i=t.which||t.keyCode;e.mobileNavVisible&&(i==e.keyCodes.esc||t.shiftKey&&i==e.keyCodes.tab)&&(t.preventDefault(),n("#btn-mobile-nav").focus(),n(".page-wrap-inner").removeClass("show-mobile-search-results"))})).closest("#navmenu-w-search").find(".input-clear-btn").off("click").on("click",(function(){e.$html.hasClass("bp-nav-mobile")&&(n(".page-wrap-inner").removeClass("show-mobile-search-results"),setTimeout(n.proxy(e.blurSearchInput,e),0))})),c.on("global:resizeDebounced",n.proxy(e.resizeUpdateMobileNav,e)),c.on("global:resizeDebounced",n.proxy(e.removeStyledHeightFromNavTrayMainSection,e)),n("html").addClass("nav-ready")},removeStyledHeightFromNavTrayMainSection:function(){this.$container.find(".navtray-section-main").css("height","")},resizeUpdateMobileNav:function(){this.$pageWrapInner.hasClass("show-mobile-menu")&&this.prepMobileNav()},resetMobileNav:function(){var e=this;e.hideMobileNav(),n("#btn-mobile-nav").off(e.tapOrClick+" "+e.keyup),n(".mobile-screen-overlay").remove()},showMobileNav:function(){var e=this;e.MegaNav.checkBeforeStart()&&e.MegaNav.resetMenu(),r.isAndroid&&e.$searchInput.hide(),e.showMobileBackdrop(),e.mobileNavIScroll||(e.$pageWrapInner.addClass("show-mobile-menu"),e.isMobileNav&&e.setMobileAriaAttributes(0,!1),e.mobileNavVisible=!0,e.prepMobileNav(),setTimeout((function(){r.isAndroid&&e.$searchInput.show()}),10))},hideMobileNav:function(){var e=this;e.hideMobileBackdrop(),e.$pageWrapInner.removeClass("show-mobile-menu"),e.isMobileNav&&e.setMobileAriaAttributes(-1,!1),e.mobileNavVisible=!1,e.$pageWrapOuter.removeAttr("style")},setMobileAriaAttributes:function(e,t){var i=this,n=e.toString(),o=(-1===e?0:-1).toString(),s="input, *[tabindex="+o+"]";if(!t){for(var a=[i.$areaBody,i.$areaFooter,i.$navOuterContainer],r=-1===e,l=!r,c=r?"initial":"none",u=0;u<a.length;u++)a[u].attr({"aria-hidden":"#nav-outer-container"===a[u].selector?!l:l});i.$navScrollToTop.css("display",c),i.$areaHeader.find("> a, .navbar-mobile > a:not(.btn-mobile-nav)").attr({tabindex:o,"aria-hidden":l}),i.$pageWrapInner.find(s).attr("tabindex",o),i.setAriaAttributesOfSearchInput(!l)}i.$pageWrapInner.find("#nav-outer-container a").attr("tabindex",n),i.$searchMenu.find("input").attr("tabindex",n)},showMobileBackdrop:function(){var e=this;e.$mobileScreenOverlay=n('<div class="modal-backdrop mobile-screen-overlay opacity0" />').appendTo(e.$pageWrapInner),setTimeout((function(){e.$mobileScreenOverlay.removeClass("opacity0").addClass("opacity1"),r.isAndroid&&l.forceWebkitRedraw()}),1)},hideMobileBackdrop:function(){var e=this;e.$mobileScreenOverlay&&e.$mobileScreenOverlay.one(e.transitionEnd,(function(){e.$mobileScreenOverlay.remove()})),e.$mobileScreenOverlay&&e.$mobileScreenOverlay.removeClass("opacity1").addClass("opacity0")},initMobileFooter:function(){var e=this;e.footerNavCollapseHeight=49,n("#footer-wrapper .footer-mobile-section span.footer-heading").each((function(){var t=n(this).parent();e.collapseMobileFooterSec(t,!0),e.hasTouch?n(this).hammer().on("tap",(function(){e.toggleMobileFooterSec(t)})):(n(this).on("click",(function(){e.toggleMobileFooterSec(t)})),n(this).attr("tabindex","0"),n(this).on("keypress",(function(i){13===i.which&&e.toggleMobileFooterSec(t)})))}))},toggleMobileFooterSec:function(e){e.hasClass("collapsed")?this.expandMobileFooterSec(e):this.collapseMobileFooterSec(e)},resetMobileFooter:function(){var e=this;n("#footer-wrapper .footer-mobile-section span.footer-heading").each((function(){var t=n(this).parent();t.css("height","").removeClass("collapsed transition-height");t.find("button, a, input, select, textarea").each((function(){var e=n(this);e.is("a")&&e.is("[data-href]")&&(e.attr("href",e.attr("data-href")),e.removeAttr("data-href"))})),n(this).off(e.tapOrClick),n(this).removeAttr("tabindex")}))},collapseMobileFooterSec:function(e,t){var i=this;t=void 0!==t&&t;var o=e.height();e.data("expHeight",o),t?(e.height(i.footerNavCollapseHeight).addClass("collapsed"),setTimeout((function(){e.addClass("transition-height"),c.trigger("SONY:Footer:mobileFooterSecCollapsed")}),1)):(e.height(o),setTimeout((function(){e.addClass("transition-height"),setTimeout((function(){e.height(i.footerNavCollapseHeight).addClass("collapsed")}),1)}),1),i.hasTouch&&e.hasClass("footer-store-locator")&&n("#store-locator-search-input").is(":focus")&&n("#store-locator-search-input").blur());n(this).attr("tabindex",-1),e.find("button, a, input, select, textarea").each((function(){var e=n(this);e.attr("tabindex","-1"),e.is("a")&&(e.attr("data-href",e.attr("href")),e.removeAttr("href"))}))},expandMobileFooterSec:function(e){e.height(e.data("expHeight")).removeClass("collapsed").one(this.transitionEnd,(function(){e.removeClass("transition-height"),setTimeout((function(){e.css("height","")}),1)}));e.find("button, a, input, select, textarea").each((function(){var e=n(this);e.attr("tabindex","0"),e.is("a")&&(e.attr("href",e.attr("data-href")),e.removeAttr("data-href"))}))}},n.fn.globalNav=function(e){var t=Array.prototype.slice.apply(arguments);return this.each((function(){var i=n(this),o=i.data("globalNav");o||(o=new f(i),i.data("globalNav",o)),"string"==typeof e&&o[e].apply(o,t.slice(1))}))},n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo((function(e){return function(t){return!!n.data(t,e)}})):function(e,t,i){return!!n.data(e,i[3])},focusable:function(e){return i(e,!isNaN(n.attr(e,"tabindex")))},tabbable:function(e){var t=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}(e)?e:e.element,o=n.attr(t,"tabindex"),s=isNaN(o);return(s||o>=0)&&i(t,!s)}}),p})),define("modules/header/cart.module",["require","jquery"],(function(e){var t=e("jquery"),i={init:function(){i.getCart()},getCartId:function(e){const t=String.fromCharCode(9919),i="spartacus"+t+e+t+"cart",n=window.localStorage.getItem(i)&&JSON.parse(window.localStorage.getItem(i)).active;return n||""},getCart:function(){var e=t("#nav-account-btn"),n=e.data("cart-link"),o=e.data("cart-session-link"),s=e.data("cart-redirect-link"),a=i.getCartId(e.data("cart-country"));o&&a&&(n=o.replace("{cartid}",a)),n=t.trim(n),s=t.trim(s),n&&s&&t.ajax({type:"GET",url:n,xhrFields:{withCredentials:!0},dataType:"json",cache:!1,success:function(e){i.updateCart(e)}})},updateCart:function(e){if(e){var t=parseInt(e.noOfItemsInCart,10);t>=0&&i.updateCartCount(t)}},updateCartCount:function(e){t(".nav-li-cart .nav-li-count,  .navmenu-li-cart .nav-li-count, .btn-mobile-cart .count-container").html(e)}};return i})),define("modules/header/index",["require","modules/header/module","login","modules/header/cart.module","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/header/module"),i=e("login"),n=e("modules/header/cart.module");return e("secondary/sony-init-module-below-viewport")({triggerElement:$(".area.header"),initializeImmediately:!0,callback:function(){i.init(),t.init(),n.init()}}),{GlobalHeaderFooter:t,LoginModule:i}})),define("modules/footnotes/module",["require","jquery","require/sony-global-router"],(function(e){var t=e("jquery"),i=e("require/sony-global-router");i.init();var n={init:function(){t(".footnotes-wrapper").each((function(){new o(this)}))}},o=function(e){this.$el=t(e),this.init()};return o.prototype={constructor:o,init:function(){this.checkBeforeStart()?this.startFootnootesModule():this.hideFootnotesModule()},hideFootnotesModule:function(){t("#footnotes").remove()},checkBeforeStart:function(){var e=this.isEnableInCurrentPage(t("body").attr("data-locale"));return t("#footnotes").length>0&&e},isEnableInCurrentPage:function(e){e=e||"en_GB";var i=t.inArray(e,["en_SG","en_AP"])>-1,n=t("body[data-locale="+e+"] #page-wrap-inner:has(#page-main-content > div.external-html > div#prsaas-root-element) > footer.footer > #footnotes").length>0;return!i||!n},startFootnootesModule:function(){var e=this;e.renderDesktop(),i.on("footnotes(/:a)",t.proxy(e.onRouteMatch,e))},renderDesktop:function(){var e=this;e.$el.on("click","div.p3",(function(t){t.preventDefault(),e.$el.hasClass("open")?e.closeNav():e.openNav()}))},openNav:function(){this.$el.addClass("open").find(".list").slideDown(200),this.$el.find("div.p3 a.container").attr("aria-expanded","true")},closeNav:function(){this.$el.removeClass("open").find(".list").slideUp(200),this.$el.find("div.p3 a.container").attr("aria-expanded","false")},onRouteMatch:function(e){var i,n=this.$el.find("li");this.openNav(),(!e||e>n.length)&&(e=1),i=n.eq(e-1).offset().top,t(window).scrollTop(i-200)}},n})),define("libs/jquery.linkify",["require","jquery"],(function(e){!function(e,t,i){function n(e,t){this._defaults=o,this.element=e,this.setOptions(t),this.init()}var o={tagName:"a",newLine:"\n",target:"_blank",linkClass:null,linkClasses:[],linkAttributes:null};n.prototype={constructor:n,init:function(){1===this.element.nodeType?n.linkifyNode.call(this,this.element):this.element=n.linkify.call(this,this.element.toString())},setOptions:function(e){this.settings=n.extendSettings(e,this.settings)},toString:function(){return this.element.toString()}},n.extendSettings=function(e,t){var i;for(i in t=t||{},o)t[i]||(t[i]=o[i]);for(i in e)t[i]=e[i];return t},n.linkMatch=new RegExp(["(",'\\s|[^a-zA-Z0-9.\\+_\\/"\\>\\-]|^',")(?:","(","[a-zA-Z0-9\\+_\\-]+","(?:","\\.[a-zA-Z0-9\\+_\\-]+",")*@",")?(","http:\\/\\/|https:\\/\\/|ftp:\\/\\/",")?(","(?:(?:[a-z0-9][a-z0-9_%\\-_+]*\\.)+)",")(","(?:com|ca|co|edu|gov|net|org|dev|biz|cat|int|pro|tel|mil|aero|asia|coop|info|jobs|mobi|museum|name|post|travel|local|[a-z]{2})",")(","(?::\\d{1,5})",")?(","(?:","[\\/|\\?]","(?:","[\\-a-zA-Z0-9_%#*&+=~!?,;:.\\/]*",")*",")","[\\-\\/a-zA-Z0-9_%#*&+=~]","|","\\/?",")?",")(",'[^a-zA-Z0-9\\+_\\/"\\<\\-]|$',")"].join(""),"g"),n.emailLinkMatch=/(<[a-z]+ href=\")(http:\/\/)([a-zA-Z0-9\+_\-]+(?:\.[a-zA-Z0-9\+_\-]+)*@)/g,n.linkify=function(e,t){var i,o,s,a=[];for(i in this.constructor===n&&this.settings?(o=this.settings,t&&(o=n.extendSettings(t,o))):o=n.extendSettings(t),(s=o.linkClass?o.linkClass.split(/\s+/):[]).push.apply(s,[].slice.call(o.linkClasses)),e=e.replace(/</g,"&lt;").replace(/(\s)/g,"$1$1"),a.push("$1<"+o.tagName,'href="http://$2$4$5$6$7"'),a.push('class="linkified'+(s.length>0?" "+s.join(" "):"")+'"'),o.target&&a.push('target="'+o.target+'"'),o.linkAttributes)a.push([i,'="',o.linkAttributes[i].replace(/\"/g,"&quot;").replace(/\$/g,"&#36;"),'"'].join(""));return a.push(">$2$3$4$5$6$7</"+o.tagName+">$8"),(e=(e=(e=e.replace(n.linkMatch,a.join(" "))).replace(n.emailLinkMatch,"$1mailto:$3")).replace(/(\s){2}/g,"$1")).replace(/\n/g,o.newLine)},n.linkifyNode=function(e){var t,o,s,a;if(e&&"object"==typeof e&&1===e.nodeType&&"a"!==e.tagName.toLowerCase()&&!/[^\s]linkified[\s$]/.test(e.className)){for(t=[],s=n._dummyElement||i.createElement("div"),o=e.firstChild,e.childElementCount;o;){if(3===o.nodeType){for(;s.firstChild;)s.removeChild(s.firstChild);for(s.innerHTML=n.linkify.call(this,o.textContent||o.innerText||o.nodeValue),t.push.apply(t,[].slice.call(s.childNodes));s.firstChild;)s.removeChild(s.firstChild)}else t.push(1===o.nodeType?n.linkifyNode.call(this,o):o);o=o.nextSibling}for(;e.firstChild;)e.removeChild(e.firstChild);for(a=0;a<t.length;a++)e.appendChild(t[a])}return e},n._dummyElement=i.createElement("div"),e.fn.linkify=function(t){return this.each((function(){var i;(i=e.data(this,"plugin-linkify"))?(i.setOptions(t),i.init()):e.data(this,"plugin-linkify",new n(this,t))}))},e.fn.linkify.Constructor=n,e(t).on("load",(function(){e("[data-linkify]").each((function(){var t=e(this),i=t.attr("data-linkify"),n={tagName:t.attr("data-linkify-tagname"),newLine:t.attr("data-linkify-newline"),target:t.attr("data-linkify-target"),linkClass:t.attr("data-linkify-linkclass")};for(var o in n)void 0===n[o]&&delete n[o];("this"===i?t:t.find(i)).linkify(n)}))})),e("body").on("click",".linkified",(function(){var i=e(this),n=i.attr("href"),o=/^mailto:/i.test(n),s=i.attr("target");return o?t.location.href=n:t.open(n,s),!1}))}(e("jquery"),window,document)})),define("modules/footnotes/footnoteModule",["require","jquery","libs/jquery.linkify"],(function(e){function t(){return o(o(n).find("li .note"))}function i(e,t,i,n){var s=o("a[name=fn-"+e+"]").offset().top;t.length&&(s-=t.height()+10),i.animate({scrollTop:s},n)}var n,o=e("jquery");e("libs/jquery.linkify");var s=function(){return t().length},a=function(e){n=o(e)};return a.prototype={clearFootnotes:function(){o(n).find("li").each((function(){o(this).remove()}))},getFootnotes:function(){var e=[];return o(n).find("li .note:not(.in_context)").each((function(){e.push(o(this).text())})),e},linkifyFootnotes:function(){o(t()).each((function(){o(this).linkify()}))},appendFootNote:function(e,i){var s=t(),a=function(e,t){for(var i=o("<div>").html(e).html(),n=0;n<t.length;n++)if(o(t[n]).html().toLowerCase()==i.toLowerCase())return n+1;return-1}(e,s);if("in_context"===i&&-1!=a)return a;var r=o(n).find(".list ol"),l=s.length+1;return r.append(o("<li>").addClass("p3").append(o("<a>").attr("name","fn-"+l)).append(o("<span>").addClass("num").html(l)).append(o("<span>").addClass("note").addClass(i).html(e))),o(n).show(),l},getFootnoteNumber:s,removeFootNoteModule:function(){0==s()&&(o(n).find("li").remove(),o(n).hide())},openFootnoteSection:function(e){if(o(n).hasClass("open")||o(n).addClass("open").find(".list").show(),void 0!==e){var t=o(e.target).attr("name"),s=o(".sticky-nav"),a=o("html, body");i(t,s,a,0),o(".shuffle").one("layout.shuffle",(function(){setTimeout((function(){i(t,s,a,500)}),200)})),e.preventDefault(),e.stopPropagation()}},modulePresent:function(){return n.length>0}},a})),function(e,t,i){!function(e){"function"==typeof define&&define.amd?define("libs/jquery.qtip",["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}((function(n){function o(e,t,i,o){this.id=i,this.target=e,this.tooltip=I,this.elements={target:e},this._id=z+"-"+i,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:n(),disabled:q,attr:o,onTooltip:q,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=q}function s(e){return e===I||"object"!==n.type(e)}function a(e){return!(n.isFunction(e)||e&&e.attr||e.length||"object"===n.type(e)&&(e.jquery||e.then))}function r(e){var t,i,o,r;return s(e)?q:(s(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(s(t=e.content)||t.jquery||t.done?(i=a(t)?q:t,t=e.content={text:i}):i=t.text,"ajax"in t&&(o=t.ajax,r=o&&o.once!==q,delete t.ajax,t.text=function(e,t){var s=i||n(this).attr(t.options.content.attr)||"Loading...",a=n.ajax(n.extend({},o,{context:t})).then(o.success,I,o.error).then((function(e){return e&&r&&t.set("content.text",e),e}),(function(e,i,n){t.destroyed||0===e.status||t.set("content.text",i+": "+n)}));return r?s:(t.set("content.text",s),a)}),"title"in t&&(n.isPlainObject(t.title)&&(t.button=t.title.button,t.title=t.title.text),a(t.title||q)&&(t.title=q))),"position"in e&&s(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&s(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===$?{ready:$}:{event:e.show}),"hide"in e&&s(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&s(e.style)&&(e.style={classes:e.style}),n.each(B,(function(){this.sanitize&&this.sanitize(e)})),e)}function l(e,t){for(var i,n=0,o=e,s=t.split(".");o=o[s[n++]];)n<s.length&&(i=o);return[i||e,s.pop()]}function c(e,t){var i,n,o;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(n in this.checks[i])this.checks[i].hasOwnProperty(n)&&(o=new RegExp(n,"i").exec(e))&&(t.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,t))}function u(e){return H.concat("").join(e?"-"+e+" ":" ")}function d(e,t){return t>0?setTimeout(n.proxy(e,this),t):void e.call(this)}function h(e){this.tooltip.hasClass(K)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=d.call(this,(function(){this.toggle($,e)}),this.options.show.delay))}function p(e){if(!this.tooltip.hasClass(K)&&!this.destroyed){var t=n(e.relatedTarget),i=t.closest(G)[0]===this.tooltip[0],o=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||o))try{e.preventDefault(),e.stopImmediatePropagation()}catch(e){}else this.timers.hide=d.call(this,(function(){this.toggle(q,e)}),this.options.hide.delay,this)}}function f(e){!this.tooltip.hasClass(K)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=d.call(this,(function(){this.hide(e)}),this.options.hide.inactive))}function g(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function m(e,i,o){n(t.body).delegate(e,(i.split?i:i.join("."+z+" "))+"."+z,(function(){var e=x.api[n.attr(this,W)];e&&!e.disabled&&o.apply(e,arguments)}))}function v(e,i,s){var a,l,c,u,d,h=n(t.body),p=e[0]===t?h:e,f=e.metadata?e.metadata(s.metadata):I,g="html5"===s.metadata.type&&f?f[s.metadata.name]:I,m=e.data(s.metadata.name||"qtipopts");try{m="string"==typeof m?n.parseJSON(m):m}catch(e){}if(l=(u=n.extend($,{},x.defaults,s,"object"==typeof m?r(m):I,r(g||f))).position,u.id=i,"boolean"==typeof u.content.text){if(c=e.attr(u.content.attr),u.content.attr===q||!c)return q;u.content.text=c}if(l.container.length||(l.container=h),l.target===q&&(l.target=p),u.show.target===q&&(u.show.target=p),u.show.solo===$&&(u.show.solo=l.container.closest("body")),u.hide.target===q&&(u.hide.target=p),u.position.viewport===$&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new T(l.at,$),l.my=new T(l.my),e.data(z))if(u.overwrite)e.qtip("destroy",!0);else if(u.overwrite===q)return q;return e.attr(U,i),u.suppress&&(d=e.attr("title"))&&e.removeAttr("title").attr(ee,d).attr("title",""),a=new o(e,u,i,!!c),e.data(z,a),a}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e,t){return Math.ceil(parseFloat(function(e,t){var n,o,s=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+ye.join(s+" ")+s).split(" "),r=0;if(be[t])return e.css(be[t]);for(;n=a[r++];)if((o=e.css(n))!==i)return be[t]=n,o}(e,t)))}function w(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.qtip=e,this.init(e)}function k(e,t){this.options=t,this._ns="-modal",this.qtip=e,this.init(e)}function _(e){this._ns="ie6",this.qtip=e,this.init(e)}var x,C,T,S,N,$=!0,q=!1,I=null,M="x",A="y",j="width",L="height",O="top",E="left",P="bottom",R="right",D="center",F="shift",B={},z="qtip",U="data-hasqtip",W="data-qtip-id",H=["ui-widget","ui-tooltip"],G="."+z,V="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),J=z+"-fixed",Y=z+"-default",Q=z+"-focus",X=z+"-hover",K=z+"-disabled",Z="_replacedByqTip",ee="oldtitle",te={ie:function(){var e,i;for(e=4,i=t.createElement("div");(i.innerHTML="\x3c!--[if gt IE "+e+"]><i></i><![endif]--\x3e")&&i.getElementsByTagName("i")[0];e+=1);return e>4?e:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||q};(C=o.prototype)._when=function(e){return n.when.apply(n,e)},C.render=function(e){if(this.rendered||this.destroyed)return this;var t=this,i=this.options,o=this.cache,s=this.elements,a=i.content.text,r=i.content.title,l=i.content.button,c=i.position,u=[];return n.attr(this.target[0],"aria-describedby",this._id),o.posClass=this._createPosClass((this.position={my:c.my,at:c.at}).my),this.tooltip=s.tooltip=n("<div/>",{id:this._id,class:[z,Y,i.style.classes,o.posClass].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===c.target&&c.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":q,"aria-describedby":this._id+"-content","aria-hidden":$}).toggleClass(K,this.disabled).attr(W,this.id).data(z,this).appendTo(c.container).append(s.content=n("<div />",{class:z+"-content",id:this._id+"-content","aria-atomic":$})),this.rendered=-1,this.positioning=$,r&&(this._createTitle(),n.isFunction(r)||u.push(this._updateTitle(r,q))),l&&this._createButton(),n.isFunction(a)||u.push(this._updateContent(a,q)),this.rendered=$,this._setWidget(),n.each(B,(function(e){var i;"render"===this.initialize&&(i=this(t))&&(t.plugins[e]=i)})),this._unassignEvents(),this._assignEvents(),this._when(u).then((function(){t._trigger("render"),t.positioning=q,t.hiddenDuringWait||!i.show.ready&&!e||t.toggle($,o.event,q),t.hiddenDuringWait=q})),x.api[this.id]=this,this},C.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=$;var e,t=this.target,i=t.attr(ee);for(e in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,(function(){this.destroy&&this.destroy()})),this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);t.removeData(z).removeAttr(W).removeAttr(U).removeAttr("aria-describedby"),this.options.suppress&&i&&t.attr("title",i).removeAttr(ee),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=I,delete x.api[this.id]}}return this.destroyed||(e===$&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",n.proxy(t,this)),!this.triggering&&this.hide())),this.target},S=C.checks={builtin:{"^id$":function(e,t,i,o){var s=i===$?x.nextid:i,a=z+"-"+s;s!==q&&s.length>0&&!n("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=o},"^prerender":function(e,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,i){this._updateContent(i)},"^content.attr$":function(e,t,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(e,t,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(e,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(e,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(this.position[t]=e[t]=new T(i,"at"===t))},"^position.container$":function(e,t,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(e,t,i){i&&(!this.rendered&&this.render($)||this.toggle($))},"^style.classes$":function(e,t,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(e,t,i){this.rendered&&this.tooltip.css(t,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,i){this.rendered&&this.tooltip.toggleClass(Y,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},C.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),i=t[0][t[1]];return i.precedance?i.string():i};var ie=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ne=/^prerender|show\.ready/i;C.set=function(e,t){if(this.destroyed)return this;var i,o=this.rendered,s=q,a=this.options;return"string"==typeof e?(i=e,(e={})[i]=t):e=n.extend({},e),n.each(e,(function(t,i){if(o&&ne.test(t))delete e[t];else{var r,c=l(a,t.toLowerCase());r=c[0][c[1]],c[0][c[1]]=i&&i.nodeType?n(i):i,s=ie.test(t)||s,e[t]=[c[0],c[1],i,r]}})),r(a),this.positioning=$,n.each(e,n.proxy(c,this)),this.positioning=q,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===a.position.target?I:this.cache.event),this},C._update=function(e,t){var i=this,o=this.cache;return this.rendered&&e?(n.isFunction(e)&&(e=e.call(this.elements.target,o.event,this)||""),n.isFunction(e.then)?(o.waiting=$,e.then((function(e){return o.waiting=q,i._update(e,t)}),I,(function(e){return i._update(e,t)}))):e===q||!e&&""!==e?q:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then((function(e){i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!e.length)})))):q},C._waitForContent=function(e){var t=this.cache;return t.waiting=$,(n.fn.imagesLoaded?e.imagesLoaded():(new n.Deferred).resolve([])).done((function(){t.waiting=q})).promise()},C._updateContent=function(e,t){this._update(e,this.elements.content,t)},C._updateTitle=function(e,t){this._update(e,this.elements.title,t)===q&&this._removeTitle(q)},C._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=n("<div />",{class:z+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(e.title=n("<div />",{id:t,class:z+"-title","aria-atomic":$})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",(function(e){n(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))})).delegate(".qtip-close","mouseover mouseout",(function(e){n(this).toggleClass("ui-state-hover","mouseover"===e.type)})),this.options.content.button&&this._createButton()},C._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=I,e!==q&&this.reposition())},C._createPosClass=function(e){return z+"-pos-"+(e||this.options.position.my).abbrev()},C.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=$;var s,a,r,l,c=this.cache,u=this.tooltip,d=this.options.position,h=d.target,p=d.my,f=d.at,g=d.viewport,m=d.container,v=d.adjust,b=v.method.split(" "),y=u.outerWidth(q),w=u.outerHeight(q),k=0,_=0,x=u.css("position"),C={left:0,top:0},T=u[0].offsetWidth>0,S=i&&"scroll"===i.type,N=n(e),I=m[0].ownerDocument,M=this.mouse;if(n.isArray(h)&&2===h.length)f={x:E,y:O},C={left:h[0],top:h[1]};else if("mouse"===h)f={x:E,y:O},(!v.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?i=c.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=c.event:M&&M.pageX&&(i=M),"static"!==x&&(C=m.offset()),I.body.offsetWidth!==(e.innerWidth||I.documentElement.clientWidth)&&(a=n(t.body).offset()),C={left:i.pageX-C.left+(a&&a.left||0),top:i.pageY-C.top+(a&&a.top||0)},v.mouse&&S&&M&&(C.left-=(M.scrollX||0)-N.scrollLeft(),C.top-=(M.scrollY||0)-N.scrollTop());else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?c.target=n(i.target):i.target||(c.target=this.elements.target):"event"!==h&&(c.target=n(h.jquery?h:this.elements.target)),h=c.target,0===(h=n(h).eq(0)).length)return this;h[0]===t||h[0]===e?(k=te.iOS?e.innerWidth:h.width(),_=te.iOS?e.innerHeight:h.height(),h[0]===e&&(C={top:(g||h).scrollTop(),left:(g||h).scrollLeft()})):B.imagemap&&h.is("area")?s=B.imagemap(this,h,f,B.viewport?b:q):B.svg&&h&&h[0].ownerSVGElement?s=B.svg(this,h,f,B.viewport?b:q):(k=h.outerWidth(q),_=h.outerHeight(q),C=h.offset()),s&&(k=s.width,_=s.height,a=s.offset,C=s.position),C=this.reposition.offset(h,C,m),(te.iOS>3.1&&te.iOS<4.1||te.iOS>=4.3&&te.iOS<4.33||!te.iOS&&"fixed"===x)&&(C.left-=N.scrollLeft(),C.top-=N.scrollTop()),(!s||s&&s.adjustable!==q)&&(C.left+=f.x===R?k:f.x===D?k/2:0,C.top+=f.y===P?_:f.y===D?_/2:0)}return C.left+=v.x+(p.x===R?-y:p.x===D?-y/2:0),C.top+=v.y+(p.y===P?-w:p.y===D?-w/2:0),B.viewport?(r=C.adjusted=B.viewport(this,C,d,k,_,y,w),a&&r.left&&(C.left+=a.left),a&&r.top&&(C.top+=a.top),r.my&&(this.position.my=r.my)):C.adjusted={left:0,top:0},c.posClass!==(l=this._createPosClass(this.position.my))&&(c.posClass=l,u.removeClass(c.posClass).addClass(l)),this._trigger("move",[C,g.elem||g],i)?(delete C.adjusted,o===q||!T||isNaN(C.left)||isNaN(C.top)||"mouse"===h||!n.isFunction(d.effect)?u.css(C):n.isFunction(d.effect)&&(d.effect.call(u,this,n.extend({},C)),u.queue((function(e){n(this).css({opacity:"",height:""}),te.ie&&this.style.removeAttribute("filter"),e()}))),this.positioning=q,this):this},C.reposition.offset=function(e,i,o){function s(e,t){i.left+=t*e.scrollLeft(),i.top+=t*e.scrollTop()}if(!o[0])return i;var a,r,l,c,u=n(e[0].ownerDocument),d=!!te.ie&&"CSS1Compat"!==t.compatMode,h=o[0];do{"static"!==(r=n.css(h,"position"))&&("fixed"===r?(l=h.getBoundingClientRect(),s(u,-1)):((l=n(h).position()).left+=parseFloat(n.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(h,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(h,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(h,"marginTop"))||0),a||"hidden"===(c=n.css(h,"overflow"))||"visible"===c||(a=n(h)))}while(h=h.offsetParent);return a&&(a[0]!==u[0]||d)&&s(a,1),i};var oe=(T=C.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,D).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var i=e.charAt(0);this.precedance="t"===i||"b"===i?A:M}).prototype;oe.invert=function(e,t){this[e]=this[e]===E?R:this[e]===R?E:t||this[e]},oe.string=function(e){var t=this.x,i=this.y,n=t!==i?"center"===t||"center"!==i&&(this.precedance===A||this.forceY)?[i,t]:[t,i]:[t];return!1!==e?n.join(" "):n},oe.abbrev=function(){var e=this.string(!1);return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},oe.clone=function(){return new T(this.string(),this.forceY)},C.toggle=function(e,i){var o=this.cache,s=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&o.event&&/out|leave/.test(o.event.type)&&s.show.target.add(i.target).length===s.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=n.event.fix(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=$),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var r,l,c,u=e?"show":"hide",d=this.options[u],h=this.options.position,p=this.options.content,f=this.tooltip.css("width"),g=this.tooltip.is(":visible"),m=e||1===d.target.length,v=!i||d.target.length<2||o.target[0]===i.target;return(typeof e).search("boolean|number")&&(e=!g),l=(r=!a.is(":animated")&&g===e&&v)?I:!!this._trigger(u,[90]),this.destroyed||(l!==q&&e&&this.focus(i),!l||r||(n.attr(a[0],"aria-hidden",!e),e?(this.mouse&&(o.origin=n.event.fix(this.mouse)),n.isFunction(p.text)&&this._updateContent(p.text,q),n.isFunction(p.title)&&this._updateTitle(p.title,q),!N&&"mouse"===h.target&&h.adjust.mouse&&(n(t).bind("mousemove."+z,this._storeMouse),N=$),f||a.css("width",a.outerWidth(q)),this.reposition(i,arguments[2]),f||a.css("width",""),d.solo&&("string"==typeof d.solo?n(d.solo):n(G,d.solo)).not(a).not(d.target).qtip("hide",new n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,N&&!n(G+'[tracking="true"]:visible',d.solo).not(a).length&&(n(t).unbind("mousemove."+z),N=q),this.blur(i)),c=n.proxy((function(){e?(te.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof d.autofocus&&n(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")}),this),d.effect===q||m===q?(a[u](),c()):n.isFunction(d.effect)?(a.stop(1,1),d.effect.call(a,this),a.queue("fx",(function(e){c(),e()}))):a.fadeTo(90,e?1:0,c),e&&d.target.trigger("qtip-"+this.id+"-inactive"))),this},C.show=function(e){return this.toggle($,e)},C.hide=function(e){return this.toggle(q,e)},C.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=n(G),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),s=x.zindex+t.length;return i.hasClass(Q)||this._trigger("focus",[s],e)&&(o!==s&&(t.each((function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)})),t.filter("."+Q).qtip("blur",e)),i.addClass(Q)[0].style.zIndex=s),this},C.blur=function(e){return!this.rendered||this.destroyed||(this.tooltip.removeClass(Q),this._trigger("blur",[this.tooltip.css("zIndex")],e)),this},C.disable=function(e){return this.destroyed||("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(K):this.disabled):"boolean"!=typeof e&&(e=$),this.rendered&&this.tooltip.toggleClass(K,e).attr("aria-disabled",e),this.disabled=!!e),this},C.enable=function(){return this.disable(q)},C._createButton=function(){var e=this,t=this.elements,i=t.tooltip,o=this.options.content.button,s="string"==typeof o?o:"Close tooltip";t.button&&t.button.remove(),t.button=o.jquery?o:n("<a />",{class:"qtip-close "+(this.options.style.widget?"":z+"-icon"),title:s,"aria-label":s}).prepend(n("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||i).attr("role","button").click((function(t){return i.hasClass(K)||e.hide(t),q}))},C._updateButton=function(e){if(!this.rendered)return q;var t=this.elements.button;e?this._createButton():t.remove()},C._setWidget=function(){var e=this.options.style.widget,t=this.elements,i=t.tooltip,n=i.hasClass(K);i.removeClass(K),K=e?"ui-state-disabled":"qtip-disabled",i.toggleClass(K,n),i.toggleClass("ui-helper-reset "+u(),e).toggleClass(Y,this.options.style.def&&!e),t.content&&t.content.toggleClass(u("content"),e),t.titlebar&&t.titlebar.toggleClass(u("header"),e),t.button&&t.button.toggleClass(z+"-icon",!e)},C._storeMouse=function(e){return(this.mouse=n.event.fix(e)).type="mousemove",this},C._bind=function(e,t,i,o,s){if(e&&i&&t.length){var a="."+this._id+(o?"-"+o:"");return n(e).bind((t.split?t:t.join(a+" "))+a,n.proxy(i,s||this)),this}},C._unbind=function(e,t){return e&&n(e).unbind("."+this._id+(t?"-"+t:"")),this},C._trigger=function(e,t,i){var o=new n.Event("tooltip"+e);return o.originalEvent=i&&n.extend({},i)||this.cache.event||I,this.triggering=e,this.tooltip.trigger(o,[this].concat(t||[])),this.triggering=q,!o.isDefaultPrevented()},C._bindEvents=function(e,t,i,o,s,a){var r=i.filter(o).add(o.filter(i)),l=[];r.length&&(n.each(t,(function(t,i){var o=n.inArray(i,e);o>-1&&l.push(e.splice(o,1)[0])})),l.length&&(this._bind(r,l,(function(e){(!!this.rendered&&this.tooltip[0].offsetWidth>0?a:s).call(this,e)})),i=i.not(r),o=o.not(r))),this._bind(i,e,s),this._bind(o,t,a)},C._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?q:(this.cache.event=e&&n.event.fix(e),this.cache.target=e&&n(e.target),clearTimeout(this.timers.show),void(this.timers.show=d.call(this,(function(){this.render("object"==typeof e||i.show.ready)}),i.prerender?0:i.show.delay)))}var i=this.options,o=i.show.target,s=i.hide.target,a=i.show.event?n.trim(""+i.show.event).split(" "):[],r=i.hide.event?n.trim(""+i.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],(function(){this.destroy(!0)}),"destroy"),/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&r.push("mouseleave"),this._bind(o,"mousemove",(function(e){this._storeMouse(e),this.cache.onTarget=$})),this._bindEvents(a,r,o,s,t,(function(){return this.timers?void clearTimeout(this.timers.show):q})),(i.show.ready||i.prerender)&&t.call(this,e)},C._assignEvents=function(){var i=this,o=this.options,s=o.position,a=this.tooltip,r=o.show.target,l=o.hide.target,c=s.container,u=s.viewport,d=n(t),m=n(e),v=o.show.event?n.trim(""+o.show.event).split(" "):[],b=o.hide.event?n.trim(""+o.hide.event).split(" "):[];n.each(o.events,(function(e,t){i._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,a)})),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(d,["mouseout","blur"],(function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)})),o.hide.fixed?l=l.add(a.addClass(J)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",(function(){clearTimeout(this.timers.show)})),(""+o.hide.event).indexOf("unfocus")>-1&&(this._bind(c.closest("html"),["mousedown","touchstart"],(function(e){var t=n(e.target),i=this.rendered&&!this.tooltip.hasClass(K)&&this.tooltip[0].offsetWidth>0,o=t.parents(G).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||o||this.target.has(t[0]).length||!i||this.hide(e)})),this._bind(c.closest("html"),["keyup"],(function(e){this.rendered&&!this.tooltip.hasClass(K)&&this.tooltip[0].offsetWidth>0&&27===e.which&&this.hide(e)}))),"number"==typeof o.hide.inactive&&(this._bind(r,"qtip-"+this.id+"-inactive",f,"inactive"),this._bind(l.add(a),x.inactiveEvents,f)),this._bindEvents(v,b,r,l,h,p),this._bind(r.add(a),"mousemove",(function(e){if("number"==typeof o.hide.distance){var t=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(e.pageX-t.pageX)>=i||n(e.pageY-t.pageY)>=i)&&this.hide(e)}this._storeMouse(e)})),"mouse"===s.target&&s.adjust.mouse&&(o.hide.event&&this._bind(r,["mouseenter","mouseleave"],(function(e){return this.cache?void(this.cache.onTarget="mouseenter"===e.type):q})),this._bind(d,"mousemove",(function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(K)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}))),(s.adjust.resize||u.length)&&this._bind(n.event.special.resize?u:m,"resize",g),s.adjust.scroll&&this._bind(m.add(s.container),"scroll",g)},C._unassignEvents=function(){var i=this.options,o=i.show.target,s=i.hide.target,a=n.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],e,t],(function(e){return"object"==typeof e}));o&&o.toArray&&(a=a.concat(o.toArray())),s&&s.toArray&&(a=a.concat(s.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},n((function(){m(G,["mouseenter","mouseleave"],(function(e){var t="mouseenter"===e.type,i=n(e.currentTarget),o=n(e.relatedTarget||e.target),s=this.options;t?(this.focus(e),i.hasClass(J)&&!i.hasClass(K)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!o.closest(s.show.target[0]).length&&this.hide(e),i.toggleClass(X,t)})),m("["+W+"]",V,f)})),x=n.fn.qtip=function(e,t,o){var s=(""+e).toLowerCase(),a=I,l=n.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?n.data(this[0],z):I;return!arguments.length&&u||"api"===s?u:"string"==typeof e?(this.each((function(){var e=n.data(this,z);if(!e)return $;if(c&&c.timeStamp&&(e.cache.event=c),!t||"option"!==s&&"options"!==s)e[s]&&e[s].apply(e,l);else{if(o===i&&!n.isPlainObject(t))return a=e.get(t),q;e.set(t,o)}})),a!==I?a:this):"object"!=typeof e&&arguments.length?void 0:(u=r(n.extend($,{},e)),this.each((function(e){var t,i;return i=!(i=n.isArray(u.id)?u.id[e]:u.id)||i===q||i.length<1||x.api[i]?x.nextid++:i,(t=v(n(this),i,u))===q?$:(x.api[i]=t,n.each(B,(function(){"initialize"===this.initialize&&this(t)})),void t._assignInitialEvents(c))})))},n.qtip=o,x.api={},n.each({attr:function(e,t){if(this.length){var i=this[0],o="title",s=n.data(i,"qtip");if(e===o&&s&&s.options&&"object"==typeof s&&"object"==typeof s.options&&s.options.suppress)return arguments.length<2?n.attr(i,ee):(s&&s.options.content.attr===o&&s.cache.attr&&s.set("content.text",t),this.attr(ee,t))}return n.fn["attr"+Z].apply(this,arguments)},clone:function(e){var t=n.fn["clone"+Z].apply(this,arguments);return e||t.filter("["+ee+"]").attr("title",(function(){return n.attr(this,ee)})).removeAttr(ee),t}},(function(e,t){if(!t||n.fn[e+Z])return $;var i=n.fn[e+Z]=n.fn[e];n.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}})),n.ui||(n["cleanData"+Z]=n.cleanData,n.cleanData=function(e){for(var t,i=0;(t=n(e[i])).length;i++)if(t.attr(U))try{t.triggerHandler("removeqtip")}catch(e){}n["cleanData"+Z].apply(this,arguments)}),x.version="3.0.3",x.nextid=0,x.inactiveEvents=V,x.zindex=15e3,x.defaults={prerender:q,id:q,overwrite:$,suppress:$,content:{text:$,attr:"title",title:q,button:q},position:{my:"top left",at:"bottom right",target:q,container:q,viewport:q,adjust:{x:0,y:0,mouse:$,scroll:$,resize:$,method:"flipinvert flipinvert"},effect:function(e,t){n(this).animate(t,{duration:200,queue:q})}},show:{target:q,event:"mouseenter",effect:$,delay:90,solo:q,ready:q,autofocus:q},hide:{target:q,event:"mouseleave",effect:$,delay:0,fixed:q,inactive:q,leave:"window",distance:q},style:{classes:"",widget:q,width:q,height:q,def:$},events:{render:I,move:I,show:I,hide:I,toggle:I,visible:I,hidden:I,focus:I,blur:I}};var se,ae,re,le,ce,ue="margin",de="border",he="color",pe="background-color",fe="transparent",ge=" !important",me=!!t.createElement("canvas").getContext,ve=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,be={},ye=["Webkit","O","Moz","ms"];me?(le=e.devicePixelRatio||1,ce=function(){var e=t.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),re=le/ce):ae=function(e,t,i){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},n.extend(w.prototype,{init:function(e){var t,i;i=this.element=e.elements.tip=n("<div />",{class:z+"-tip"}).prependTo(e.tooltip),me?((t=n("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",t.miterLimit=1e5,t.save()):(t=ae("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(n("*",i).add(i),["click","mousedown"],(function(e){e.stopPropagation()}),this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===O||e.y===D&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight($))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===q||t===q?e=q:e===$?e=new T(t.string()):e.string||((e=new T(e)).fixed=$),e},_parseWidth:function(e,t,i){var n=this.qtip.elements,o=de+b(t)+"Width";return(i?y(i,o):y(n.content,o)||y(this._useTitle(e)&&n.titlebar||n.content,o)||y(n.tooltip,o))||0},_parseRadius:function(e){var t=this.qtip.elements,i=de+b(e.y)+b(e.x)+"Radius";return te.ie<9?0:y(this._useTitle(e)&&t.titlebar||t.content,i)||y(t.tooltip,i)||0},_invalidColour:function(e,t,i){var n=e.css(t);return!n||i&&n===e.css(i)||ve.test(n)?q:n},_parseColours:function(e){var t=this.qtip.elements,i=this.element.css("cssText",""),o=de+b(e[e.precedance])+b(he),s=this._useTitle(e)&&t.titlebar||t.content,a=this._invalidColour,r=[];return r[0]=a(i,pe)||a(s,pe)||a(t.content,pe)||a(t.tooltip,pe)||i.css(pe),r[1]=a(i,o,he)||a(s,o,he)||a(t.content,o,he)||a(t.tooltip,o,he)||t.tooltip.css(o),n("*",i).add(i).css("cssText",pe+":"+fe+ge+";"+de+":0"+ge+";"),r},_calculateSize:function(e){var t,i,n=e.precedance===A,o=this.options.width,s=this.options.height,a="c"===e.abbrev(),r=(n?o:s)*(a?.5:1),l=Math.pow,c=Math.round,u=Math.sqrt(l(r,2)+l(s,2)),d=[this.border/r*u,this.border/s*u];return d[2]=Math.sqrt(l(d[0],2)-l(this.border,2)),d[3]=Math.sqrt(l(d[1],2)-l(this.border,2)),i=[c((t=(u+d[2]+d[3]+(a?0:d[0]))/u)*o),c(t*s)],n?i:i.reverse()},_calculateTip:function(e,t,i){i=i||1;var n=(t=t||this.size)[0]*i,o=t[1]*i,s=Math.ceil(n/2),a=Math.ceil(o/2),r={br:[0,0,n,o,n,0],bl:[0,0,n,0,0,o],tr:[0,o,n,0,n,o],tl:[0,0,0,o,n,o],tc:[0,o,s,0,n,o],bc:[0,0,n,0,s,o],rc:[0,0,n,a,0,o],lc:[n,0,n,o,0,a]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(me||te.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,i){if(!this.enabled)return this;var o,s,a,r,l,c,u,d,h=this.qtip.elements,p=this.element,f=p.children(),g=this.options,m=this.size,v=g.mimic,b=Math.round;t||(t=this.qtip.cache.corner||this.corner),v===q?v=t:((v=new T(v)).precedance=t.precedance,"inherit"===v.x?v.x=t.x:"inherit"===v.y?v.y=t.y:v.x===v.y&&(v[t.precedance]=t[t.precedance])),s=v.precedance,t.precedance===M?this._swapDimensions():this._resetDimensions(),(o=this.color=this._parseColours(t))[1]!==fe?(d=this.border=this._parseWidth(t,t[t.precedance]),g.border&&1>d&&!ve.test(o[1])&&(o[0]=o[1]),this.border=d=g.border!==$?g.border:d):this.border=d=0,u=this.size=this._calculateSize(t),p.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),c=t.precedance===A?[b(v.x===E?d:v.x===R?u[0]-m[0]-d:(u[0]-m[0])/2),b(v.y===O?u[1]-m[1]:0)]:[b(v.x===E?u[0]-m[0]:0),b(v.y===O?d:v.y===P?u[1]-m[1]-d:(u[1]-m[1])/2)],me?((a=f[0].getContext("2d")).restore(),a.save(),a.clearRect(0,0,6e3,6e3),r=this._calculateTip(v,m,re),l=this._calculateTip(v,this.size,re),f.attr(j,u[0]*re).attr(L,u[1]*re),f.css(j,u[0]).css(L,u[1]),this._drawCoords(a,l),a.fillStyle=o[1],a.fill(),a.translate(c[0]*re,c[1]*re),this._drawCoords(a,r),a.fillStyle=o[0],a.fill()):(r="m"+(r=this._calculateTip(v))[0]+","+r[1]+" l"+r[2]+","+r[3]+" "+r[4]+","+r[5]+" xe",c[2]=d&&/^(r|b)/i.test(t.string())?8===te.ie?2:1:0,f.css({coordsize:u[0]+d+" "+u[1]+d,antialias:""+(v.string().indexOf(D)>-1),left:c[0]-c[2]*Number(s===M),top:c[1]-c[2]*Number(s===A),width:u[0]+d,height:u[1]+d}).each((function(e){var t=n(this);t[t.prop?"prop":"attr"]({coordsize:u[0]+d+" "+u[1]+d,path:r,fillcolor:o[0],filled:!!e,stroked:!e}).toggle(!(!d&&!e)),!e&&t.html(ae("stroke",'weight="'+2*d+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))}))),e.opera&&setTimeout((function(){h.tip.css({display:"inline-block",visibility:"visible"})}),1),i!==q&&this.calculate(t,u)},calculate:function(e,t){if(!this.enabled)return q;var i,o,s=this,a=this.qtip.elements,r=this.element,l=this.options.offset,c={};return e=e||this.corner,i=e.precedance,t=t||this._calculateSize(e),o=[e.x,e.y],i===M&&o.reverse(),n.each(o,(function(n,o){var r,u,d;o===D?(c[r=i===A?E:O]="50%",c[ue+"-"+r]=-Math.round(t[i===A?0:1]/2)+l):(r=s._parseWidth(e,o,a.tooltip),u=s._parseWidth(e,o,a.content),d=s._parseRadius(e),c[o]=Math.max(-s.border,n?u:l+(d>r?d:-r)))})),c[e[i]]-=t[i===M?0:1],r.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(e,t,n){function o(e,t,i,n,o){e===F&&c.precedance===t&&u[n]&&c[i]!==D?c.precedance=c.precedance===M?A:M:e!==F&&u[n]&&(c[t]=c[t]===D?u[n]>0?n:o:c[t]===n?o:n)}function s(e,t,o){c[e]===D?g[ue+"-"+t]=f[e]=a[ue+"-"+t]-u[t]:(r=a[o]!==i?[u[t],-a[t]]:[-u[t],a[t]],(f[e]=Math.max(r[0],r[1]))>r[0]&&(n[t]-=u[t],f[t]=q),g[a[o]!==i?o:t]=f[e])}if(this.enabled){var a,r,l=t.cache,c=this.corner.clone(),u=n.adjusted,d=t.options.position.adjust.method.split(" "),h=d[0],p=d[1]||d[0],f={left:q,top:q,x:0,y:0},g={};this.corner.fixed!==$&&(o(h,M,A,E,R),o(p,A,M,O,P),(c.string()!==l.corner.string()||l.cornerTop!==u.top||l.cornerLeft!==u.left)&&this.update(c,q)),(a=this.calculate(c)).right!==i&&(a.left=-a.right),a.bottom!==i&&(a.top=-a.bottom),a.user=this.offset,f.left=h===F&&!!u.left,f.left&&s(M,E,R),f.top=p===F&&!!u.top,f.top&&s(A,O,P),this.element.css(g).toggle(!(f.x&&f.y||c.x===D&&f.y||c.y===D&&f.x)),n.left-=a.left.charAt?a.user:h!==F||f.top||!f.left&&!f.top?a.left+this.border:0,n.top-=a.top.charAt?a.user:p!==F||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),(se=B.tip=function(e){return new w(e,e.options.style.tip)}).initialize="render",se.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=$)}},S.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},n.extend($,x.defaults,{style:{tip:{corner:$,mimic:q,width:6,height:6,border:$,offset:0}}});var we,ke,_e="qtip-modal",xe="."+_e;ke=new(ke=function(){function e(e){l.length<1&&e.length?e.not("body").blur():l.first().focus()}function i(t){if(a.is(":visible")){var i=n(t.target),s=o.tooltip,r=i.closest(G);(r.length<1?q:parseInt(r[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10))||i.closest(G)[0]===s[0]||e(i)}}var o,s,a,r=this,l={};n.extend(r,{init:function(){return a=r.elem=n("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return q}}).hide(),n(t.body).bind("focusin"+xe,i),n(t).bind("keydown"+xe,(function(e){o&&o.options.show.modal.escape&&27===e.keyCode&&o.hide(e)})),a.bind("click"+xe,(function(e){o&&o.options.show.modal.blur&&o.hide(e)})),r},update:function(e){o=e,l=e.options.show.modal.stealfocus!==q?e.tooltip.find("*").filter((function(){return function(e){if(n.expr[":"].focusable)return n.expr[":"].focusable;var t,i,o,s=!isNaN(n.attr(e,"tabindex")),a=e.nodeName&&e.nodeName.toLowerCase();return"area"===a?(i=(t=e.parentNode).name,!(!e.href||!i||"map"!==t.nodeName.toLowerCase())&&!!(o=n("img[usemap=#"+i+"]")[0])&&o.is(":visible")):/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||s}(this)})):[]},toggle:function(i,l,c){var u=i.tooltip,d=i.options.show.modal,h=d.effect,p=l?"show":"hide",f=a.is(":visible"),g=n(xe).filter(":visible:not(:animated)").not(u);return r.update(i),l&&d.stealfocus!==q&&e(n(":focus")),a.toggleClass("blurs",d.blur),l&&a.appendTo(t.body),a.is(":animated")&&f===l&&s!==q||!l&&g.length||(a.stop($,q),n.isFunction(h)?h.call(a,l):h===q?a[p]():a.fadeTo(parseInt(c,10)||90,l?1:0,(function(){l||a.hide()})),l||a.queue((function(e){a.css({left:"",top:""}),n(xe).length||a.detach(),e()})),s=l,o.destroyed&&(o=I)),r}}),r.init()}),n.extend(k.prototype,{init:function(e){var t=e.tooltip;return this.options.on?(e.elements.overlay=ke.elem,t.addClass(_e).css("z-index",x.modal_zindex+n(xe).length),e._bind(t,["tooltipshow","tooltiphide"],(function(e,i,o){var s=e.originalEvent;if(e.target===t[0])if(s&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(s.type)&&n(s.relatedTarget).closest(ke.elem[0]).length)try{e.preventDefault()}catch(e){}else(!s||s&&"tooltipsolo"!==s.type)&&this.toggle(e,"tooltipshow"===e.type,o)}),this._ns,this),e._bind(t,"tooltipfocus",(function(e,i){if(!e.isDefaultPrevented()&&e.target===t[0]){var o=n(xe),s=x.modal_zindex+o.length,a=parseInt(t[0].style.zIndex,10);ke.elem[0].style.zIndex=s-1,o.each((function(){this.style.zIndex>a&&(this.style.zIndex-=1)})),o.filter("."+Q).qtip("blur",e.originalEvent),t.addClass(Q)[0].style.zIndex=s,ke.update(i);try{e.preventDefault()}catch(e){}}}),this._ns,this),void e._bind(t,"tooltiphide",(function(e){e.target===t[0]&&n(xe).filter(":visible").not(t).last().qtip("focus",e)}),this._ns,this)):this},toggle:function(e,t,i){return e&&e.isDefaultPrevented()?this:void ke.toggle(this.qtip,!!t,i)},destroy:function(){this.qtip.tooltip.removeClass(_e),this.qtip._unbind(this.qtip.tooltip,this._ns),ke.toggle(this.qtip,q),delete this.qtip.elements.overlay}}),(we=B.modal=function(e){return new k(e,e.options.show.modal)}).sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:void 0===e.show.modal.on&&(e.show.modal.on=$))},x.modal_zindex=x.zindex-200,we.initialize="render",S.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},n.extend($,x.defaults,{show:{modal:{on:q,effect:$,blur:$,stealfocus:$,escape:$}}}),B.viewport=function(i,n,o,s,a,r,l){function c(e,t,i,o,s,a,r,l,c){var u=n[s],b=w[e],y=k[e],_=i===F,x=b===s?c:b===a?-c:-c/2,C=y===s?l:y===a?-l:-l/2,T=m[s]+v[s]-(p?0:h[s]),S=T-u,N=u+c-(r===j?f:g)-T,$=x-(w.precedance===e||b===w[t]?C:0)-(y===D?l/2:0);return _?($=(b===s?1:-1)*x,n[s]+=S>0?S:N>0?-N:0,n[s]=Math.max(-h[s]+v[s],u-$,Math.min(Math.max(-h[s]+v[s]+(r===j?f:g),u+$),n[s],"center"===b?u-x:1e9))):(o*="flipinvert"===i?2:0,S>0&&(b!==s||N>0)?(n[s]-=$+o,d.invert(e,s)):N>0&&(b!==a||S>0)&&(n[s]-=(b===D?-$:$)+o,d.invert(e,a)),n[s]<m[s]&&-n[s]>N&&(n[s]=u,d=w.clone())),n[s]-u}var u,d,h,p,f,g,m,v,b=o.target,y=i.elements.tooltip,w=o.my,k=o.at,_=o.adjust,x=_.method.split(" "),C=x[0],T=x[1]||x[0],S=o.viewport,N=o.container,$={left:0,top:0};return S.jquery&&b[0]!==e&&b[0]!==t.body&&"none"!==_.method?(h=N.offset()||$,p="static"===N.css("position"),u="fixed"===y.css("position"),f=S[0]===e?S.width():S.outerWidth(q),g=S[0]===e?S.height():S.outerHeight(q),m={left:u?0:S.scrollLeft(),top:u?0:S.scrollTop()},v=("function"==typeof S.getBoundingClientRect?S.offset():{top:0,left:0})||$,("shift"!==C||"shift"!==T)&&(d=w.clone()),$={left:"none"!==C?c(M,A,C,_.x,E,R,j,s,r):0,top:"none"!==T?c(A,M,T,_.y,O,P,L,a,l):0,my:d}):$},B.polys={polygon:function(e,t){var i,n,o,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:q},a=0,r=[],l=1,c=1,u=0,d=0;for(a=e.length;a--;)(i=[parseInt(e[--a],10),parseInt(e[a+1],10)])[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),r.push(i);if(n=s.width=Math.abs(s.position.right-s.position.left),o=s.height=Math.abs(s.position.bottom-s.position.top),"c"===t.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;n>0&&o>0&&l>0&&c>0;)for(n=Math.floor(n/2),o=Math.floor(o/2),t.x===E?l=n:t.x===R?l=s.width-n:l+=Math.floor(n/2),t.y===O?c=o:t.y===P?c=s.height-o:c+=Math.floor(o/2),a=r.length;a--&&!(r.length<2);)u=r[a][0]-s.position.left,d=r[a][1]-s.position.top,(t.x===E&&u>=l||t.x===R&&l>=u||t.x===D&&(l>u||u>s.width-l)||t.y===O&&d>=c||t.y===P&&c>=d||t.y===D&&(c>d||d>s.height-c))&&r.splice(a,1);s.position={left:r[0][0],top:r[0][1]}}return s},rect:function(e,t,i,n){return{width:Math.abs(i-e),height:Math.abs(n-t),position:{left:Math.min(e,i),top:Math.min(t,n)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,i,n,o){var s=B.polys._angles[o.abbrev()],a=0===s?0:i*Math.cos(s*Math.PI),r=n*Math.sin(s*Math.PI);return{width:2*i-Math.abs(a),height:2*n-Math.abs(r),position:{left:e+a,top:t+r},adjustable:q}},circle:function(e,t,i,n){return B.polys.ellipse(e,t,i,i,n)}},B.svg=function(e,i,o){for(var s,a,r,l,c,u,d,h,p,f=i[0],g=n(f.ownerSVGElement),m=f.ownerDocument,v=(parseInt(i.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return q;switch(f.nodeName){case"ellipse":case"circle":h=B.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+v,(f.ry||f.r).baseVal.value+v,o);break;case"line":case"polygon":case"polyline":for(h=[],u=-1,l=(d=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}]).numberOfItems||d.length;++u<l;)c=d.getItem?d.getItem(u):d[u],h.push.apply(h,[c.x,c.y]);h=B.polys.polygon(h,o);break;default:h={width:(h=f.getBBox()).width,height:h.height,position:{left:h.x,top:h.y}}}return p=h.position,(g=g[0]).createSVGPoint&&(a=f.getScreenCTM(),(d=g.createSVGPoint()).x=p.left,d.y=p.top,r=d.matrixTransform(a),p.left=r.x,p.top=r.y),m!==t&&"mouse"!==e.position.target&&((s=n((m.defaultView||m.parentWindow).frameElement).offset())&&(p.left+=s.left,p.top+=s.top)),m=n(m),p.left+=m.scrollLeft(),p.top+=m.scrollTop(),h},B.imagemap=function(e,t,i){t.jquery||(t=n(t));var o,s,a,r,l,c=(t.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),u=n('img[usemap="#'+t.parent("map").attr("name")+'"]'),d=n.trim(t.attr("coords")).replace(/,$/,"").split(",");if(!u.length)return q;if("polygon"===c)r=B.polys.polygon(d,i);else{if(!B.polys[c])return q;for(a=-1,l=d.length,s=[];++a<l;)s.push(parseInt(d[a],10));r=B.polys[c].apply(this,s.concat(i))}return(o=u.offset()).left+=Math.ceil((u.outerWidth(q)-u.width())/2),o.top+=Math.ceil((u.outerHeight(q)-u.height())/2),r.position.left+=o.left,r.position.top+=o.top,r};n.extend(_.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=n(e).scrollTop()+"px")},init:function(i){var o=i.tooltip;n("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=n('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(o),i._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=n("<div/>",{id:z+"-rcontainer"}).appendTo(t.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(e,["scroll","resize"],this._scroll,this._ns,this),i._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,i=this.qtip.tooltip,n={height:i.outerHeight(q),width:i.outerWidth(q)},o=this.qtip.plugins.tip,s=this.qtip.elements.tip;t={left:-(t=parseInt(i.css("borderLeftWidth"),10)||0),top:-t},o&&s&&(t[(e="x"===o.corner.precedance?[j,E]:[L,O])[1]]-=s[e[0]]()),this.bgiframe.css(t).css(n)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var e,t,i,n,o=this.qtip.tooltip,s=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&o.css(L,s.height),s.width?o.css(j,s.width):(o.css(j,"").appendTo(this.redrawContainer),1>(t=o.width())%2&&(t+=1),e=((i=o.css("maxWidth")||"")+(n=o.css("minWidth")||"")).indexOf("%")>-1?a.width()/100:0,t=(i=(i.indexOf("%")>-1?e:1*parseInt(i,10))||t)+(n=(n.indexOf("%")>-1?e:1*parseInt(n,10))||0)?Math.min(Math.max(t,n),i):t,o.css(j,Math.round(t)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),(B.ie6=function(e){return 6===te.ie?new _(e):q}).initialize="render",S.ie6={"^content|style$":function(){this.redraw()}}}))}(window,document),define("secondary/sony-tooltip",["require","jquery","libs/jquery.qtip","require/sony-global-settings"],(function(e){var t=e("jquery"),i=(e("libs/jquery.qtip"),e("require/sony-global-settings").isRTL),n={utils:{hideTip:function(e){e.constructor===Array?e.each((function(){e.qtip().hide()})):e.qtip().hide()}},plugin:function(e){this.$el=e.$el,this.tipDefaults={corner:!0,mimic:"center",offset:10},this.positionSwitchforRTL=function(e,t){if(!t)return e;var i="left",n="right";return-1!=e.indexOf(i)?e.replace(i,n):-1!=e.indexOf(n)?e.replace(n,i):e},this.config={id:e.id||"sony-tooltip",content:{text:"<p class='p2 tip-footnote'><strong>"+this.$el.find("a").text()+"</strong>"+e.tooltipContent+"</p>",button:!e.content||!1!==e.content.button},position:{viewport:""==e.viewport?"":e.viewport||t(window),target:e.positionTarget||!1,container:e.positionContainer||t(document.body),my:this.positionSwitchforRTL(e.my||"left top",i),at:this.positionSwitchforRTL(e.at||"right top",i),adjust:{resize:!1,scroll:!1,y:e.positionAdjustY||null}},show:{event:e.show&&e.show.event||"click",solo:!0},hide:{event:e.hide&&e.hide.event||"unfocus",fixed:e.hide&&e.hide.fixed||"false",delay:e.hide&&e.hide.delay||0},style:{classes:"qtip-light fn-tooltip "+e.classes,width:e.width||"280px",tip:0!=e.tip&&t.extend({},e.tip||{},this.tipDefaults)}},this.$el.attr("data-tooltip-content")&&(this.config.content.text=this.$el.attr("data-tooltip-content"))}};return n.plugin.prototype.init=function(){return this.$el.qtip(this.config)},n})),define("modules/footnotes/moduleFootnoteHandler",["jquery","modules/footnotes/footnoteModule","secondary/sony-tooltip"],(function(e,t,i){function n(t){return e("<div>"+t+"</div>").linkify().html()}function o(t,n,o,s){var a={global:{desktop:{id:"footnote-tooltip",$el:t,tooltipContent:n,tip:{height:10,width:15},classes:"qtip-shadow"},mobile:{id:"footnote-tooltip",$el:t,tooltipContent:n,classes:"fn-tooltip-mobile-positioning",width:"100%",tip:!1}},hotspot:{desktop:{id:"footnote-tooltip",$el:t,tooltipContent:n,classes:"qtip-hotspot-desktop",width:t.closest(".overlay-base").outerWidth(!0),tip:!1,my:"top center",at:"bottom center",positionTarget:t.closest(".overlay-close"),viewport:"",positionAdjustY:-1}},ecoEnergy:{desktop:{id:"footnote-tooltip",$el:t,tooltipContent:n,classes:"qtip-eco-energy-desktop",width:t.closest(".eco-energy-level-card-wrap").outerWidth(!0)+2+"px",tip:!1,my:"top center",at:"bottom center",positionTarget:t.closest(".eco-energy-level-card-wrap"),viewport:""}},stickyNav:{desktop:{id:"footnote-tooltip",$el:t,tooltipContent:n,tip:{height:10,width:15},classes:"qtip-shadow ",positionContainer:e(".sticky-nav"),scrollAdjust:!1}}};new i.plugin(a[s][o]).init()}var s,a,r=e("#footnotes").data("enableFootnoteTooltip"),l=e("#footnotes").data("label"),c=Modernizr.mq("(max-width: 47.9375em)")?"mobile":"desktop",u=function(i,n){a=e(i),s=new t(n)};return u.prototype.numberFootnote=function(){var t=a.data("footnote"),i=s.appendFootNote(t,"in_context"),u='<button class="btn-link footnote-link js-footnote-link" name="'+i+'" aria-label="'+(l+" "+i)+'" style="display:inline !important;">'+i+"</button>";if(r){a.empty(":first").parents("a").on("click",(function(t){e(t.target).is(".js-footnote-link")&&t.preventDefault()}));var d=n(t);a.empty().addClass("footNoteNumber_done").append(u);var h="global";a.closest(".hspot-outer").length?h="hotspot":a.closest(".eco-energy-level").length?h="ecoEnergy":a.closest(".sticky-nav").length?h="stickyNav":a.closest(".one-sony-carousel").length&&(h="oneSonyTout"),"oneSonyTout"===h?a.closest(".one-sony-carousel").off("module:initialised").on("module:initialised",(function(){e(this).find(".footNoteNumber").each((function(t,i){var s=e(i);null==s.data("qtip")&&o(s,n(s.data("footnote")),c,"global")}))})):"mobile"===c&&"global"!==h?function(t,i,n){var o={hotspot:{container:".overlay-close",wrapper:".hotspot-modal",className:"h-spot-footnote",scrollContainer:".hotspot-modal"},ecoEnergy:{container:".container",wrapper:".eco-energy-level-card-wrap",className:"eco-energy-footnote-mobile",scrollContainer:"html, body"}};t.on("click",(function(){var s=e(this).closest(o[n].container),a=(e(this).closest(o[n].wrapper),"<p class='p2 tip-footnote "+o[n].className+"'><strong>"+t.find("a").text()+"</strong> "+i+"</p>");s.find("."+o[n].className).remove(),s.append(a),e(o[n].scrollContainer).animate({scrollTop:s.find(".tip-footnote").offset().top-50+"px"})}))}(a,d,h):o(a,d,c,h)}else a.empty().append(u),a.children(":first").click(s.openFootnoteSection),a.addClass("footNoteNumber_done")},u})),define("modules/footnotes/pageFootnoteHandler",["jquery","modules/footnotes/moduleFootnoteHandler","modules/footnotes/footnoteModule","secondary/sony-tooltip"],(function(e,t,i,n){var o,s,a=e("#footnotes").data("enableFootnoteTooltip"),r=function(){var t=e(s.find("#footnotes")).data("pricingFootnote");null!=t&&c()&&o.appendFootNote(t,"in_context"),e(s.find("#footnotes")).removeAttr("data-pricing-footnote")},l=function(){var t=s.find("#footnotes"),i=t.data("pricing-disclaimer");if(null!=i&&c()){var n=s.find(".price-content"),o=s.find(".product-price"),a=o.find(".price-value").length>0?o.find(".price-value").toArray():o.find(".price").toArray(),r=n.find(".price-value").length>0?n.find(".price-value").toArray():n.find(".price").toArray();e(a.concat(r)).each((function(t,n){var o=e(n);if(!o.data("footnote-initialize")){var s="<sup class='footNoteNumber' data-footnote='"+i+"'></sup>",a=e("strong",o);a.length?a.append(s):o.append(s),o.data("footnote-initialize",!0)}}))}t.removeAttr("data-pricing-disclaimer")},c=function(){return e(s.find(".product-price").find(".price")).length||e(s.find(".price-content").find(".price")).length},u=function(){var t=e(".sticky-nav");if(t){var i=t.find(".footNoteNumber");i&&t.on("SonyStickyNav:close",(function(){n.utils.hideTip(i)}))}},d=function(){var t=e(".header");if(t){var i=t.find(".footNoteNumber");i&&t.on("SONY:header-navtray-closed",(function(){n.utils.hideTip(i)}))}},h=function(){e(document).on("hide",".sony-modal",(function(){e(this).find(".tip-footnote").remove()}))},p=function(t){s=e(t),o=new i(e(t).find(".footnotes-wrapper").first())};return p.prototype={numberStaticFootnotes:function(){if(o.modulePresent()){var i=o.getFootnotes();o.clearFootnotes();var n=e(s.find(".footnotes-wrapper")).first();l(n),e(s.find(".footNoteNumber")).each((function(i,o){new t(e(o),n).numberFootnote()})),e.each(i,(function(e,t){o.appendFootNote(t)})),r(),o.removeFootNoteModule(),a&&(u(),d(),h())}},linkifyFootnotes:function(){o.modulePresent()&&o.linkifyFootnotes()}},p})),define("modules/footnotes/index",["require","modules/footnotes/module","modules/footnotes/pageFootnoteHandler","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/footnotes/module"),i=e("modules/footnotes/pageFootnoteHandler");return e("secondary/sony-init-module-below-viewport")({initializeImmediately:!0,callback:function(){t.init();var e=new i(document);e.numberStaticFootnotes(),e.linkifyFootnotes()}}),{FootnotesModule:t}})),imageSource=new ImageSource,define("imageSource",(function(){})),define("modules/recently_viewed/sony_carousel_in_module",["require","jquery","modernizr","require/sony-global-utilities","require/sony-global-environment","require/sony-global-settings","iQ","enquire","secondary/sony-favorites","secondary/sony-carousel","secondary/sony-scroller","secondary/sony-evenheights"],(function(e){var t=e("jquery"),i=e("modernizr"),n=e("require/sony-global-utilities"),o=e("require/sony-global-environment"),s=e("require/sony-global-settings"),a=e("iQ"),r=e("enquire"),l=e("secondary/sony-favorites"),c=(e("secondary/sony-carousel"),e("secondary/sony-scroller"),e("secondary/sony-evenheights"),{init:function(e){var i=t(e);i.length&&new u(i[0])}}),u=function(e){var i=this;i.isDesktop=!1,i.isMobile=!1,i.useBounce=!(s.isVita||s.isLTIE9),i.useMomentum=!(s.isVita||s.isLTIE9),i.$el=t(e),i.init(),log("SONY : SonyCarousel : Initialized")};return u.prototype={constructor:u,init:function(){var e=this;e.setVars().setupBreakpoints(),e.hasFavorites&&e.initExtendedModule(),setTimeout((function(){e.$wrapper.addClass("in")}),0),e.onResize()},setVars:function(){var e=this,t=e.$el.data("paddleWrapper");return e.$paddleWrapper=t?e.$el.find(t):void 0,e.$wrapper=e.$el.find(".sony-carousel-wrapper"),e.$carousel=e.$el.find(".sony-carousel"),e.$favorites=e.$el.find(".js-favorite"),e.$productNames=e.$el.find(".product-name-wrap"),e.hasFavorites=e.$favorites.length>0,e},onResize:function(){this.$productNames.evenHeights(),t(".product-price").each((function(){var e=t(this).find(".price-prefix");e.hasClass("wrap")&&e.removeClass("wrap"),this.offsetWidth<this.scrollWidth&&e.addClass("wrap")}))},initFavorites:function(){this.favorites=new l(this.$carousel,{itemSelector:".gallery-item .js-favorite",tooltip:!0}),this.favorites.highlightFavoritedProducts()},initExtendedModule:function(){var e=this;e.$productNames.evenHeights(),e.initFavorites(),o.on("global:resizeDebounced",t.proxy(e.onResize,e))},initCarousel:function(){var e=this;return e.$carousel.sonyCarousel({wrapper:".sony-carousel-wrapper",slides:".sony-carousel-slide",pagination:!0,paddles:!0,useSmallPaddles:!0,paddlePosition:"outset",$paddleWrapper:e.$paddleWrapper}),e},initScroller:function(){var e=this;e.$wrapper.scrollerModule({itemElementSelector:".gallery-item",iscrollProps:{bounce:e.useBounce,momentum:e.useMomentum,hScrollbar:!1,isOverflowHidden:!1,onAnimationEnd:a.update},getContentWidth:function(){var i=0,n=[],o=e.$el.find(".sony-carousel-slide");return o.css("width",""),o.each((function(){var e=0;t(this).find(".gallery-item").each((function(){e+=t(this).outerWidth(!0)})),e=Math.ceil(e),n.push(e),i+=e})),o.each((function(e){t(this).css("width",n[e])})),i}})},destroyCarousel:function(){return this.$carousel.sonyCarousel("destroy"),this},setupBreakpoints:function(){var e=this,t=e.$el.data("breakEarly"),n=t?"(min-width: 48em) and (max-width: 87.4375em)":"(min-width: 48em) and (max-width: 61.1875em)",o=t?"(min-width: 87.5em)":"(min-width: 61.25em)",s="(min-width: 48em)";return e.isTabletAndDesktopOnLoad=i.mq(n)&&i.mq(s),i.mediaqueries?r.register(s,(function(){e.setupDesktop()})).register(n,(function(){e.setupTablet()})).register(o,(function(){e.teardownTablet()})).register("(max-width: 47.9375em)",(function(){e.setupMobile()})):e.setupDesktop(),e},setupDesktop:function(){var e=this;e.isMobile&&(e.$wrapper.scrollerModule("destroy"),e.$carousel.find(".sony-carousel-slide").css("width",""),e.$el.find(".m-container").removeClass("container"),e.$wrapper.removeClass("grid"),setTimeout(n.forceWebkitRedraw,0)),!1===e.isTabletAndDesktopOnLoad&&e.initCarousel(),e.isTabletAndDesktopOnLoad=!1,e.isDesktop=!0,e.isMobile=!1},setupTablet:function(){var e=this;e.destroyCarousel(),e.arrangeItemsInSlides(4),e.initCarousel(),e.isTablet=!0},teardownTablet:function(){var e=this;e.isTablet&&(e.destroyCarousel(),e.arrangeItemsInSlides(6),e.initCarousel(),e.isTablet=!1)},setupMobile:function(){var e=this,t=e.isDesktop,i=!t;t&&(e.destroyCarousel(),setTimeout(n.forceWebkitRedraw,0)),e.$el.find(".m-container").addClass("container"),e.$wrapper.addClass("grid"),i?e.initScroller():setTimeout((function(){e.initScroller()}),300),e.isDesktop=!1,e.isMobile=!0},arrangeItemsInSlides:function(e){var t,i,n,o,s,a=document,r=a.createDocumentFragment(),l=this.$carousel.find(".gallery-item"),c=l.length,u=Math.ceil(c/e),d="span"+12/e,h=0;for(l.detach().removeClass("span2 span3 span4 span6").addClass(d);u>h;h++){for((n=a.createElement("div")).className="sony-carousel-slide",(o=a.createElement("div")).className="container",(s=a.createElement("div")).className="slimgrid",t=0;e>t;t++)l[i=h*e+t]&&s.appendChild(l[i]);o.appendChild(s),n.appendChild(o),r.appendChild(n)}this.$carousel.empty().append(r)}},c})),define("modules/recently_viewed/module",["require","jquery","cookieStorage","utils/utils","templates","imageSource","modules/recently_viewed/sony_carousel_in_module"],(function(e){var t=e("jquery");e("cookieStorage"),e("utils/utils"),e("templates"),e("imageSource");var i=e("modules/recently_viewed/sony_carousel_in_module"),n={init:function(e){this.locStorage=e,document.addEventListener("consent_received",(function(){userConsentRequired&&allowCookieOperationsForRVP&&n.doCookieOperation()})),document.addEventListener("consent_rejected",(function(){n.ceaseCookieOperations()})),(!userConsentRequired||userConsentRequired&&allowCookieOperationsForRVP)&&n.doCookieOperation()},doCookieOperation:function(){t(".area section.rv-module").length&&(n.displayProducts(),n.saveProductName())},ceaseCookieOperations:function(){this.locStorage.removeRecentlyViewedItem()},limit:18,currentProductName:function(){var e,i=t("meta[name='analytics-page-template']").attr("content");return["product_details","product_tech_specs","reviews_listing"].contains(i)&&(e=t(".product").data("name")),e},limitProductNames:function(e){e.length>this.limit&&e.splice(this.limit,e.length)},saveProductName:function(){var e=this.currentProductName();if(e){var t=this.locStorage.getProductNames()||[];t.clean(e),t.unshift(e),this.limitProductNames(t),this.locStorage.setProductNames(t)}},displayProducts:function(){var e=this.currentProductName(),n=this.locStorage.getProductNames();n.clean(e),this.limitProductNames(n),delete n.clean;var o,s=[],a=[],r=(t("meta[name='analytics-page-language']").attr("content"),t("body").attr("data-locale"));o={locale:r},t.each(n,(function(e,i){a.push(t.get("/api/product/"+encodeURIComponent(i),o))})),t.when.apply(t,a).done((function(){var e=1==a.length?[arguments]:arguments;if(t.each(e,(function(e,t){var i=t[0];i.name&&s.push(i)})),s.length>0){var n={data:{products:s}};jade.render(t(".area section.rv-module .sony-carousel")[0],"products_strip",n),t(".area.body section.rv-module .grid").removeClass("hidden"),i.init(".area section.rv-module"),iQ.reset()}else t(".area.body section.rv-module").addClass("hidden")}))}};return n})),define("modules/recently_viewed/local_storage",["require","jquery","secondary/sony-storage"],(function(e){var t=e("jquery"),i=e("secondary/sony-storage");return new function(){var e="gwt_recently_viewed_products_"+(t("meta[name='analytics-page-language']").attr("content")+"_"+t("meta[name='analytics-page-country']").attr("content")),n=new i("local");this.getProductNames=function(){return function(e){var t=n.getItem(e);return JSON.parse(t)}(e)||[]},this.setProductNames=function(t){!function(e,t){n.setItem(e,JSON.stringify(t))}(e,t)},this.removeRecentlyViewedItem=function(){n.removeItem(e)}}})),define("modules/recently_viewed/index",["require","modules/recently_viewed/module","modules/recently_viewed/local_storage","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/recently_viewed/module"),i=e("modules/recently_viewed/local_storage");return e("secondary/sony-init-module-below-viewport")({triggerElement:$(".rv-module"),initializeImmediately:!0,callback:function(){t.init(i)}}),{RecentlyViewed:t}})),define("modules/language_selection_interstitial/module",["require","jquery"],(function(e){var t=e("jquery"),i={init:function(){n.init()}},n=function(){function e(e,i,n){e.preventDefault();var o=t(n).attr("href");window.location.href=o}return{init:function(){t("body").attr("lang"),t("#setLanguageMenu li a").on("click",(function(t){e(t,"language",this)})),t("#currentCountry").on("click",(function(t){e(t,"locale",this)}))}}}();return i})),define("modules/language_selection_interstitial/index",["require","modules/language_selection_interstitial/module","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/language_selection_interstitial/module");return e("secondary/sony-init-module-below-viewport")({triggerElement:$(".area.footer"),callback:t.init}),{languageSelector:t}})),define("modules/sony_slide_nav/module",["require","jquery","require/sony-global-utilities","plugins/index","secondary/index","require/sony-global-settings"],(function(e){var t=e("jquery"),i=e("require/sony-global-utilities"),n=(e("plugins/index").hammer,e("secondary/index").sonyDraggable,e("require/sony-global-settings")),o=function(e){return this.init(e)};return o.prototype={constructor:o,init:function(e){var i=this,n=[];return i.$el=t(e),i.$el.length>1?(i.$el.each((function(){n.push(new o(this))})),n):(i.createSlider(),i.updatePoints(),i.bindUIEvents(),i.bindAPI(),log("SONY : SonySlideNav : Initialized"),i)},createSlider:function(){var e=this,t=e.$el.find(".scrubber-container"),i=t.find(".scrubber"),o={x:{min:0,max:100}};return i.hammer(),i.sonyDraggable({axis:"x",unit:"%",containment:t,drag:function(t){e.onDrag(t)},bounds:o}),i.on("release dragend",(function(){e.snapToNearest()})),n.isRTL&&i.css("left","100%"),e},updatePoints:function(){var e=this;return e.$el.find("a").each((function(){var e=parseInt(t(this).data("position"));t(this).css({left:e+"%"})})),e.snapToNearest(),e},bindUIEvents:function(){var e=this;return e.$el.hammer(),e.$el.on("click","a",(function(i){i.preventDefault();var n=e.$el.find("a").index(t(this));e.gotoPosition(n),e.$el.trigger("SonySlideNav:gotoPosition",n)})),e},bindAPI:function(){var e=this;return e.$el.on("SonySlideNav:goto",(function(t,i){e.gotoPosition(i)})),e.$el.on("SonySlideNav:update",(function(){e.updatePoints()})),e},onDrag:function(e){var t=e.position.left;return this.$el.trigger("SonySlideNav:drag",t),this},gotoPosition:function(e){var t=this,i=t.$el.find(".scrubber"),n=t.$el.find("a"),o=n.eq(e);if(0===o.length)return!1;var s=o.position().left/t.$el.width()*100;return i.sonyDraggable("snapTo","x",s),n.removeClass("active"),o.addClass("active"),t},snapToNearest:function(){var e,o=this,s=o.$el.find("a"),a=o.$el.find(".scrubber"),r=i.getElementCenter(a.get(0)).x,l=[];return s.each((function(){var e=i.getElementCenter(this).x;e=n.isRTL?t(window).width()-e:e,l.push(e)})),r=n.isRTL?t(window).width()-r:r,e=l.indexOf(i.closestInArray(l,r)),o.gotoPosition(e),o}},o})),define("modules/sony_slide_nav/index",["require","modules/sony_slide_nav/module","require/sony-global-settings","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/sony_slide_nav/module"),i=e("require/sony-global-settings"),n=$(".sony-slide-nav");n.length>0&&e("secondary/sony-init-module-below-viewport")({triggerElement:n,initializeImmediately:i.isRTL,callback:function(){new t(n)}})})),define("modules/unsupported_browsers/index",["require","modules/unsupported_browsers/module","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/unsupported_browsers/module");return e("secondary/sony-init-module-below-viewport").call(t,{triggerElement:$(".unsupported_browsers"),initializeImmediately:!0,callback:t.init}),{UnsupportedBrowsers:t}})),define("modules/customer_messaging/module",["require","jquery"],(function(e){var t=e("jquery"),i={init:function(){t(".customer-messaging").each((function(){new n(t(this))}))}},n=function(e){this.$el=e,this.$closeBtn=e.find(".box-close"),this.init()};return n.prototype={constructor:n,init:function(){var e=this;this.$closeBtn.on("click",(function(){e.$el.addClass("collapsed")}))}},i})),define("modules/customer_messaging/index",["require","modules/customer_messaging/module","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/customer_messaging/module");return e("secondary/sony-init-module-below-viewport")({triggerElement:$(".customer-messaging"),initializeImmediately:!0,callback:t.init}),{CustomerMessaging:t}})),define("modules/customer_message_editorial/module",["require","jquery"],(function(e){var t=e("jquery"),i={init:function(){t(".customer-message-module").each((function(e,t){new n(t)}))}},n=function(e){this.$el=t(e),this.$messagingModule=this.$el.find(".message-alert"),this.$messagingBtn=this.$el.find(".customer-messaging-btn"),this.init()};return n.prototype={constructor:n,init:function(){this._initBindings(),this._displayAlert()},_initBindings:function(){var e=this;e.$messagingBtn.on("click",t.proxy(e._closeAlert,e)),e.$el.find(".message-alert").attr("data-auto-hide")&&e._autoHide(e.$el.find(".message-alert").attr("data-auto-hide"))},_autoHide:function(e){var t=this,i=t.$el.find(".message-alert").first();parseInt(e)&&(t.autoHideTimeout=setTimeout((function(){i.addClass("collapsed"),t._removeAlert(i)}),parseInt(e)))},_closeAlert:function(e){var i=e.target,n=this,o=t(i).closest(n.$messagingModule),s=n.$messagingBtn[0].href;(!s||"#"==s||"#"==s.charAt(s.length-1)||s.indexOf("invalid_link")>-1)&&(e.preventDefault(),o.addClass("invisible"),setTimeout((function(){o.addClass("collapsed"),n._removeAlert(o)}),150))},_displayAlert:function(){var e=this;setTimeout((function(){e.$messagingModule.removeClass("collapsed")}),50)},_removeAlert:function(e){var t=e;setTimeout((function(){t.remove()}),100)}},i})),define("modules/customer_message_editorial/index",["require","modules/customer_message_editorial/module","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/customer_message_editorial/module");return e("secondary/sony-init-module-below-viewport")({triggerElement:$(".customer-message-module"),callback:t.init}),{CustomerMessaging:t}})),define("storeLocatorSearch",["require","jquery","urlHelper"],(function(e){var t=e("jquery"),i=e("urlHelper");return function(){var e=t("#store-locator-search-input"),n=t(".footer-store-locator-form"),o=n.data("latitude-param"),s=n.data("longitude-param"),a=function(e,t){var o=i.addParamTo(n.attr("action"),e,t,!0);n.attr("action",o)},r=function(t){var i=t.results[0].formatted_address;e.val(i),a(e.attr("name"),e.val()),l()},l=function(){n.trigger("submit")},c=function(e,i,n){t.get(e,i,n).fail((function(){l()}))};return{init:function(){t(".store-locator-submit-btn").on("click",(function(){var t=e.val();return a("cpint","gwt_footer_storelocator"),a(e.attr("name"),e.val()),setTimeout((function(){l()}),3e5),""!=t||!n.data("toggled")||(navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){return function(e){var t=e.coords.latitude,i=e.coords.longitude,l={latlng:t+","+i,language:n.data("language")};a(o,t),a(s,i),c("https://maps.googleapis.com/maps/api/geocode/json?",l,r)}(e),!1}),(function(e){switch(e.code){case e.PERMISSION_DENIED:case e.POSITION_UNAVAILABLE:case e.TIMEOUT:l()}}),{timeout:3e5}):l(),!1)}))}}}})),define("socialIconRollover",["require","jquery"],(function(e){var t=e("jquery"),i=function(){};return i.prototype={init:function(){var e=this;e.$socialoverlay=t("#social-overlay"),e.$closeBtn=t(".box-close"),e.$triggerHandler=t("button.footer-social"),e.$socialClass=t(".social-title"),e.defaultClass="social-overlay ",e.lang=t(".footer-social-links").attr("data-locale-code"),e.fbLocale=t(".fb-like").data("facebook-locale"),e.$footerSocial=t("button.footer-social"),e.bindEvents(),e.accessibility={keyCodes:{enter:13,tab:9,esc:27,up:38,down:40},activeSocialNetworkElement:null}},bindEvents:function(){var e=this;e.$triggerHandler.one("mouseover tap click",e.initSocialWidgets.bind(e)),e.$triggerHandler.on("mouseover tap click",e.mouseOverHandler.bind(e)),e.$triggerHandler.on("mouseout",e.mouseOutHandler.bind(e)),e.$closeBtn.on("click tap keydown",e.onClickCloseBtn.bind(e)),e.$socialoverlay.on("mouseover",(function(){var i,n=t(this);n.show(),i=n.find(".social-title:visible").attr("id"),e.$footerSocial.filter('[data-target="#'+i+'"]').addClass("active")})).on("mouseout",(function(){"gplus"!=t(this).find(".social-title:visible").attr("id")&&(t(this).hide(),e.$footerSocial.removeClass("active"))})).hide()},onClickCloseBtn:function(e){var i=this;"keydown"===e.type?(e.keyCode===i.accessibility.keyCodes.enter&&e.preventDefault(),i.closeSocialOverlay(),t(i.accessibility.activeSocialNetworkElement).focus()):i.closeSocialOverlay()},closeSocialOverlay:function(){this.$footerSocial.removeClass("active"),this.$socialoverlay.hide()},initSocialWidgets:function(){var e=this;e.createSocialElements("facebook",e.fbLocale),e.createSocialElements("twitter",e.lang),e.createSocialElements("youtube",e.lang),e.createSocialElements("gplus",e.lang)},mouseOverHandler:function(e){this.showPopOverContent(e.currentTarget),e.preventDefault()},mouseOutHandler:function(e){("social-overlay"!==e.target.id||"footer-social"!==e.target.className)&&this.hidePopOverContent()},showPopOverContent:function(e){var i=this;i.$socialoverlay.hide(),i.accessibility.activeSocialNetworkElement=e;var n=t(e),o=n.prevAll("button.footer-social").length,s=n.data("target");n.data(),n.addClass("active"),i.$socialoverlay.is(":visible")||(i.$socialoverlay.fadeIn(300),i.$socialClass.css({display:"none"})),i.$socialoverlay.attr("class",i.defaultClass+" left-"+o),t(s).css({display:"block"}),t(".popover-title").focus()},hidePopOverContent:function(){this.$socialoverlay.hide(),this.$footerSocial.removeClass("active")},createSocialElements:function(e,i){function n(e,t){var i,n=document,o="script",s=n.getElementsByTagName(o)[0];n.getElementById(t)||((i=n.createElement(o)).id=t,i.src=e,i.setAttribute("defer","defer"),s.parentNode.insertBefore(i,s))}var o,s;switch(e){case"facebook":n(o="//connect.facebook.net/"+i+"/all.js#xfbml=1",s="facebook-jssdk");break;case"twitter":o="https://platform.twitter.com/widgets.js",s="twitter-wjs",t(".twitter-share-button, .twitter-follow-button").attr("data-lang",i),n(o,s);break;case"youtube":case"gplus":window.___gcfg={lang:i},n(o="https://apis.google.com/js/platform.js",s="google-wjs")}}},i})),define("modules/footer/module",["require","jquery","storeLocatorSearch","socialIconRollover"],(function(e){var t=(e("jquery"),e("storeLocatorSearch")),i=e("socialIconRollover");return{SocialIconRollover:{init:function(){(new i).init()}},StoreLocatorSearch:{init:function(){(new t).init()}}}})),define("modules/footer/index",["require","modules/footer/module","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/footer/module"),i=t.StoreLocatorSearch,n=t.SocialIconRollover;return e("secondary/sony-init-module-below-viewport")({triggerElement:$(".area.footer"),callback:function(){n.init(),i.init()},sides:"top"}),{SocialIconRollover:n,StoreLocatorSearch:i}})),define("modules/page_navigation/module",["jquery","modernizr","iQ","enquire","require/sony-global-settings","require/sony-global-environment","require/sony-global-utilities","secondary/sony-stickynav","secondary/sony-stickytabs","secondary/jquery.simplescroll"],(function(e,t,i,n,o,s){var a={init:function(){var t=e(".editorial-anchor-links-wrapper");t.length>0&&t.each((function(){new r(e(this))}))}},r=function(t){var i=this;i.isDesktop=!1,i.isTablet=!1,i.isMobile=!1,i.iScrollActive=!1,i.$el=e(t),i.init()};return r.prototype={constructor:r,init:function(){var t=this;t.setVars(),s.on("global:resizeDebounced",e.proxy(t._onResize,t)),t.setupBreakpoints(),setTimeout((function(){t.lazyInit()}),0),setTimeout((function(){t._onResize()}),1e3)},setVars:function(){var e=this;e.$stickyNav=e.$el.find(".sticky-nav"),e.$jumpLinks=e.$el.find(".jump-links a"),e.$videoSubmodule=e.$el.siblings(".primary-tout").find(".submodule.video")},setupBreakpoints:function(){var e=this;t.mediaqueries?n.register("(min-width: 48em)",{match:function(){e._setupDesktop()}}).register("(min-width: 48em) and (max-width: 61.1875em)",{match:function(){e._setupTablet()}}).register("(min-width: 61.25em)",{match:function(){e._teardownTablet()}}).register("(max-width: 47.9375em)",{match:function(){e._setupMobile()}}).register("(max-width: 39.9375em)",{match:function(){e._setupMobileNav()}}).register("(min-width: 40em)",{match:function(){e._teardownMobileNav()}}):e._setupDesktop()},lazyInit:function(){var t=this;t.scroll=e.simplescroll.initial,t.$stickyNav.stickyNav({$jumpLinks:t.$jumpLinks,offset:0,offsetTarget:e.proxy(t.getStickyNavTriggerMark,t),scrollToTopOnClick:!1,onJumpLinkActive:e.proxy(t.onJumpLinkActive,t)}),t.$videoSubmodule.on("PrimaryTout:submoduleActivated",(function(){t.$stickyNav.data("stickyNav")&&t.$stickyNav.data("stickyNav").refresh()})),setTimeout((function(){t.scroll({offset:t.$stickyNav.height()||0},(function(){setTimeout((function(){t.lazyScroll()}),2e3)}))}),1e3)},refreshScrollSpy:function(){var t=e("body").data("scrollspy");t&&t.refresh()},lazyScroll:function(){var t=this;t.refreshScrollSpy(),t.scroll({offset:t.$stickyNav.height()||0},(function(){var i=t.mobileStickyNavIScroll;i&&i.scrollToElement(e(i.scroller).find(".active").get(0))}))},onJumpLinkActive:function(e){this.syncAnchorTabs(e)},syncAnchorTabs:function(e){this.mobileStickyNavIScroll&&this.syncStickyTabs(e.target,this.mobileStickyNavIScroll),this.mobileNavIScroll&&this.syncStickyTabs(e.target,this.mobileNavIScroll)},getStickyNavTriggerMark:function(){return e("#nav-wrapper"),this.$el.next().offset().top-this.$stickyNav.outerHeight()},_onResize:function(){var t=this,i=t.$jumpLinks||[],n=0;i.removeAttr("style"),i.each((function(){var t=parseFloat(e(this).css("height"));t>n&&(n=t)})).css("height",n),t.isMobileNav?setTimeout((function(){t.$el.removeClass("v-hidden"),t._checkMobileNavWidth()}),250):t.$el.removeClass("v-hidden"),t.refreshScrollSpy()},_setupDesktop:function(){this.isMobile=!1,this.isDesktop=!0},_setupTablet:function(){this.isTablet=!0},_teardownTablet:function(){this.isTablet=!1},_setupMobile:function(){var e=this,t=e.isDesktop;e.isMobile=!0,e.isDesktop=!1,t&&e._teardownTablet()},_setupMobileNav:function(){this.$el.addClass("editorial-anchor-links--mobile-nav"),this.isMobileNav=!0},_teardownMobileNav:function(){this.$el.removeClass("editorial-anchor-links--mobile-nav"),this.isMobileNav=!1},_checkMobileNavWidth:function(){var t=this;t.$el.find(".grid.jump-links").parent().css({width:"",margin:""}),t.$el.removeClass("center-buttons");var i=t.$el.find(".editorial-anchor-links"),n=0;i.find("li").each((function(){n+=e(this).outerWidth(!0)})),n<t.$el.outerWidth()?(t.iScrollActive&&t._destroyMobileNavIScroll(),t.$el.addClass("center-buttons")):(t.$el.removeClass("center-buttons"),t.$el.find(".grid.jump-links").parent().css({width:n+1+"px",margin:"0 auto"}),t.iScrollActive||t.$el.find(".editorial-anchor-links").each((function(){t._initMobileNavIScroll(e(this))})))},_initMobileNavIScroll:function(){var t=this;t.iScrollActive=!0,t.$el.addClass("iscroll-active iscroll-active-right");var i=e("#editorial-anchor-links--static-nav"),n=e("#editorial-anchor-links--sticky-nav");t.mobileNavIScroll=new IScroll(i.get(0),{vScroll:!1,hScroll:!0,hScrollbar:!1,snap:!1,momentum:!0,fadeScrollbar:!1,checkDOMChanges:!0,bounce:!0,onScrollMove:function(){t._setOverflowClasses(this.x,this.maxScrollX+3)},onScrollStart:function(){t._setOverflowClasses(this.x,this.maxScrollX+3)}}),t.mobileStickyNavIScroll=new IScroll(n.get(0),{vScroll:!1,hScroll:!0,hScrollbar:!1,snap:!1,momentum:!0,fadeScrollbar:!1,checkDOMChanges:!0,bounce:!0,onScrollMove:function(){t._setOverflowClasses(this.x,this.maxScrollX+3)},onScrollStart:function(){t._setOverflowClasses(this.x,this.maxScrollX+3)}}),t.$stickyNav.one("SonyStickyNav:open",(function(){t.mobileStickyNavIScroll.refresh()}))},_setOverflowClasses:function(e,t){var i=this,n="iscroll-active-left",o="iscroll-active-right",s=i.$el.hasClass(n),a=i.$el.hasClass(o);-3>e&&!s?i.$el.addClass(n):e>=-3&&s&&i.$el.removeClass(n),e>=t&&!a?i.$el.addClass(o):t>=e&&a&&i.$el.removeClass(o)},syncStickyTabs:function(e,t){t.scrollToElement(e,500)},_destroyMobileNavIScroll:function(){var e=this;!!e.mobileNavIScroll&&e.mobileNavIScroll.destroy(),!!e.mobileStickyNavIScroll&&e.mobileStickyNavIScroll.destroy(),e.$el.removeClass("iscroll-active iscroll-active-left iscroll-active-right"),e.iScrollActive=!1}},e.fn.editorialAnchorLinks=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=e(this),o=n.data("editorialAnchorLinks");o||(o=new r(n,t),n.data("editorialAnchorLinks",o)),"string"==typeof t&&o[t].apply(o,i)}))},a})),define("modules/page_navigation/index",["require","modules/page_navigation/module","secondary/sony-init-module-below-viewport"],(function(e){var t=e("modules/page_navigation/module");return e("secondary/sony-init-module-below-viewport")({triggerElement:$(".editorial-anchor-links-wrapper"),initializeImmediately:!0,callback:t.init}),{EditorialAnchorLinks:t}})),require(["modules/header/index","modules/footnotes/index","modules/sony_video/index","modules/recently_viewed/index","modules/language_selection_interstitial/index","modules/sony_slide_nav/index","modules/unsupported_browsers/index","modules/customer_messaging/index","modules/customer_message_editorial/index","modules/footer/index","modules/page_navigation/index"]),define("commonModules",(function(){})),require.config({baseUrl:"/javascripts",paths:{bootstrap:"libs/bootstrap",modernizr:"libs/modernizr",enquire:"libs/enquire",async:"libs/async",iQ:"libs/iq",velocity:"libs/velocity",jquery:"libs/jquery",react:"libs/react-with-addons-0.12.1",cookieStorage:"plugins/jquery.cookie",url:"app_lib/url.parser",soundManager:"libs/soundmanager",chartist:"libs/chartist",history:"libs/history.adapter.jquery","polyfill-matchmedia":"libs/media.match",imageSource:"imageSource",login:"modules/header/login.module",storeLocatorSearch:"modules/footer/store_locator_search",socialIconRollover:"modules/footer/social_icon_rollover",windowHelper:"libs/windowHelper",urlHelper:"utils/url_helpers",ciqDataStoreUtils:"ciqDataStoreUtils",localStoreHelper:"utils/local_storage_helpers",jqueryShuffle:"secondary/jquery.shuffle"},shim:{enquire:{deps:["jquery","polyfill-matchmedia"],exports:"enquire"},bootstrap:{deps:["jquery"]},modernizr:{exports:"Modernizr"},soundManager:{exports:"soundManager"}},waitSeconds:45}),require(["global.init","utils/utils","main.app","commonModules"]),define("app",(function(){}));